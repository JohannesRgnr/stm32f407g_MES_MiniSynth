ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 23, 1
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"filters.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SVF_LP_init,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.global	SVF_LP_init
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SVF_LP_init:
  26              	.LVL0:
  27              	.LFB3:
  28              		.file 1 "Core/Src/filters.c"
   1:Core/Src/filters.c **** 
   2:Core/Src/filters.c **** #include "helper_functions.h"
   3:Core/Src/filters.c **** #include "filters.h"
   4:Core/Src/filters.c **** #include "CONSTS.h"
   5:Core/Src/filters.c **** #include "ladder_filter.h"
   6:Core/Src/filters.c **** #include "lut_tan.h"
   7:Core/Src/filters.c **** 
   8:Core/Src/filters.c **** 
   9:Core/Src/filters.c **** ZDFLP_t lp_L ;
  10:Core/Src/filters.c **** ZDFLP_t lp_R ;
  11:Core/Src/filters.c **** 
  12:Core/Src/filters.c **** void SVF_LP_init(ZDFLP_t * filter){
  29              		.loc 1 12 35 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  13:Core/Src/filters.c ****     filter->s1 = 0.0f;
  34              		.loc 1 13 5 view .LVU1
  35              		.loc 1 13 16 is_stmt 0 view .LVU2
  36 0000 0023     		movs	r3, #0
  14:Core/Src/filters.c ****     filter->s2 = 0.0f;
  15:Core/Src/filters.c ****     filter->r = 0.65f;           // slight resonance
  37              		.loc 1 15 15 view .LVU3
  38 0002 0349     		ldr	r1, .L3
  16:Core/Src/filters.c ****     filter->cutoff = 1200;    
  39              		.loc 1 16 20 view .LVU4
  40 0004 034A     		ldr	r2, .L3+4
  13:Core/Src/filters.c ****     filter->s1 = 0.0f;
  41              		.loc 1 13 16 view .LVU5
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 2


  42 0006 0360     		str	r3, [r0]	@ float
  14:Core/Src/filters.c ****     filter->s2 = 0.0f;
  43              		.loc 1 14 5 is_stmt 1 view .LVU6
  14:Core/Src/filters.c ****     filter->s2 = 0.0f;
  44              		.loc 1 14 16 is_stmt 0 view .LVU7
  45 0008 4360     		str	r3, [r0, #4]	@ float
  15:Core/Src/filters.c ****     filter->cutoff = 1200;    
  46              		.loc 1 15 5 is_stmt 1 view .LVU8
  15:Core/Src/filters.c ****     filter->cutoff = 1200;    
  47              		.loc 1 15 15 is_stmt 0 view .LVU9
  48 000a 8160     		str	r1, [r0, #8]	@ float
  49              		.loc 1 16 5 is_stmt 1 view .LVU10
  50              		.loc 1 16 20 is_stmt 0 view .LVU11
  51 000c C260     		str	r2, [r0, #12]	@ float
  17:Core/Src/filters.c **** }
  52              		.loc 1 17 1 view .LVU12
  53 000e 7047     		bx	lr
  54              	.L4:
  55              		.align	2
  56              	.L3:
  57 0010 6666263F 		.word	1059481190
  58 0014 00009644 		.word	1150681088
  59              		.cfi_endproc
  60              	.LFE3:
  62              		.global	__aeabi_f2d
  63              		.global	__aeabi_dmul
  64              		.global	__aeabi_d2f
  65              		.section	.text.freq_to_g,"ax",%progbits
  66              		.align	1
  67              		.p2align 2,,3
  68              		.global	freq_to_g
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  73              	freq_to_g:
  74              	.LVL1:
  75              	.LFB4:
  18:Core/Src/filters.c **** 
  19:Core/Src/filters.c **** float freq_to_g(float freq) // calculate g coefficient for SVF
  20:Core/Src/filters.c **** {
  76              		.loc 1 20 1 is_stmt 1 view -0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  21:Core/Src/filters.c **** 	return interp_lin_lut(LUT_TAN_SIZE * (PI* freq * TS), LUT_TAN_SIZE, tan_lut);
  80              		.loc 1 21 2 view .LVU14
  20:Core/Src/filters.c **** 	return interp_lin_lut(LUT_TAN_SIZE * (PI* freq * TS), LUT_TAN_SIZE, tan_lut);
  81              		.loc 1 20 1 is_stmt 0 view .LVU15
  82 0000 08B5     		push	{r3, lr}
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 3, -8
  85              		.cfi_offset 14, -4
  20:Core/Src/filters.c **** 	return interp_lin_lut(LUT_TAN_SIZE * (PI* freq * TS), LUT_TAN_SIZE, tan_lut);
  86              		.loc 1 20 1 view .LVU16
  87 0002 10EE100A 		vmov	r0, s0
  88              		.loc 1 21 37 view .LVU17
  89 0006 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 3


  90              	.LVL2:
  91              		.loc 1 21 37 view .LVU18
  92 000a 0AA3     		adr	r3, .L7+4
  93 000c D3E90023 		ldrd	r2, [r3]
  94 0010 FFF7FEFF 		bl	__aeabi_dmul
  95              	.LVL3:
  96              		.loc 1 21 9 view .LVU19
  97 0014 FFF7FEFF 		bl	__aeabi_d2f
  98              	.LVL4:
  22:Core/Src/filters.c ****     //return 0;
  23:Core/Src/filters.c **** }
  99              		.loc 1 23 1 view .LVU20
 100 0018 BDE80840 		pop	{r3, lr}
 101              		.cfi_restore 14
 102              		.cfi_restore 3
 103              		.cfi_def_cfa_offset 0
  21:Core/Src/filters.c ****     //return 0;
 104              		.loc 1 21 9 view .LVU21
 105 001c 00EE100A 		vmov	s0, r0
 106 0020 0349     		ldr	r1, .L7
 107 0022 4FF40060 		mov	r0, #2048
 108 0026 FFF7FEBF 		b	interp_lin_lut
 109              	.LVL5:
 110              	.L8:
 111 002a 00BFAFF3 		.align	3
 111      0080
 112              	.L7:
 113 0030 00000000 		.word	tan_lut
 114 0034 A418D245 		.word	1171396772
 115 0038 B2ACC23F 		.word	1069722802
 116              		.cfi_endproc
 117              	.LFE4:
 119              		.section	.text.SVF_LP_compute,"ax",%progbits
 120              		.align	1
 121              		.p2align 2,,3
 122              		.global	SVF_LP_compute
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 127              	SVF_LP_compute:
 128              	.LVL6:
 129              	.LFB5:
  24:Core/Src/filters.c **** 
  25:Core/Src/filters.c **** /* Zero-delay feedback SVF in LP mode*/
  26:Core/Src/filters.c **** float SVF_LP_compute(ZDFLP_t *f, float sample)
  27:Core/Src/filters.c **** {
 130              		.loc 1 27 1 is_stmt 1 view -0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 0, uses_anonymous_args = 0
  28:Core/Src/filters.c **** 	float bp, lp, hp;
 134              		.loc 1 28 2 view .LVU23
  29:Core/Src/filters.c ****     f->g = freq_to_g(f->cutoff);
 135              		.loc 1 29 5 view .LVU24
  27:Core/Src/filters.c **** 	float bp, lp, hp;
 136              		.loc 1 27 1 is_stmt 0 view .LVU25
 137 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 4


 138              		.cfi_def_cfa_offset 8
 139              		.cfi_offset 4, -8
 140              		.cfi_offset 14, -4
 141 0002 0446     		mov	r4, r0
 142              	.LVL7:
 143              	.LBB4:
 144              	.LBI4:
  19:Core/Src/filters.c **** {
 145              		.loc 1 19 7 is_stmt 1 view .LVU26
 146              	.LBB5:
  21:Core/Src/filters.c ****     //return 0;
 147              		.loc 1 21 2 view .LVU27
 148              	.LBE5:
 149              	.LBE4:
  27:Core/Src/filters.c **** 	float bp, lp, hp;
 150              		.loc 1 27 1 is_stmt 0 view .LVU28
 151 0004 2DED028B 		vpush.64	{d8}
 152              		.cfi_def_cfa_offset 16
 153              		.cfi_offset 80, -16
 154              		.cfi_offset 81, -12
 155              	.LBB9:
 156              	.LBB6:
  21:Core/Src/filters.c ****     //return 0;
 157              		.loc 1 21 37 view .LVU29
 158 0008 C068     		ldr	r0, [r0, #12]	@ float
 159              	.LVL8:
  21:Core/Src/filters.c ****     //return 0;
 160              		.loc 1 21 37 view .LVU30
 161              	.LBE6:
 162              	.LBE9:
  27:Core/Src/filters.c **** 	float bp, lp, hp;
 163              		.loc 1 27 1 view .LVU31
 164 000a B0EE408A 		vmov.f32	s16, s0
 165              	.LBB10:
 166              	.LBB7:
  21:Core/Src/filters.c ****     //return 0;
 167              		.loc 1 21 37 view .LVU32
 168 000e FFF7FEFF 		bl	__aeabi_f2d
 169              	.LVL9:
  21:Core/Src/filters.c ****     //return 0;
 170              		.loc 1 21 37 view .LVU33
 171 0012 20A3     		adr	r3, .L11+4
 172 0014 D3E90023 		ldrd	r2, [r3]
 173 0018 FFF7FEFF 		bl	__aeabi_dmul
 174              	.LVL10:
  21:Core/Src/filters.c ****     //return 0;
 175              		.loc 1 21 9 view .LVU34
 176 001c FFF7FEFF 		bl	__aeabi_d2f
 177              	.LVL11:
 178 0020 1B49     		ldr	r1, .L11
 179 0022 00EE100A 		vmov	s0, r0
 180 0026 4FF40060 		mov	r0, #2048
 181 002a FFF7FEFF 		bl	interp_lin_lut
 182              	.LVL12:
 183              	.LBE7:
 184              	.LBE10:
  30:Core/Src/filters.c ****     hp = (sample - 2.0f * f->r * f->s1 - f->g * f->s1 - f->s2) / (1.0f + 2.0f * f->r * f->g + f->g 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 5


 185              		.loc 1 30 35 view .LVU35
 186 002e 94ED007A 		vldr.32	s14, [r4]
 187              		.loc 1 30 58 view .LVU36
 188 0032 D4ED016A 		vldr.32	s13, [r4, #4]
 189              		.loc 1 30 28 view .LVU37
 190 0036 D4ED025A 		vldr.32	s11, [r4, #8]
  29:Core/Src/filters.c ****     hp = (sample - 2.0f * f->r * f->s1 - f->g * f->s1 - f->s2) / (1.0f + 2.0f * f->r * f->g + f->g 
 191              		.loc 1 29 10 view .LVU38
 192 003a 84ED040A 		vstr.32	s0, [r4, #16]
 193 003e 27EE655A 		vnmul.f32	s10, s14, s11
 194 0042 38EE668A 		vsub.f32	s16, s16, s13
 195              	.LVL13:
  29:Core/Src/filters.c ****     hp = (sample - 2.0f * f->r * f->s1 - f->g * f->s1 - f->s2) / (1.0f + 2.0f * f->r * f->g + f->g 
 196              		.loc 1 29 10 view .LVU39
 197 0046 B0EE006A 		vmov.f32	s12, #2.0e+0
 198 004a A5EE068A 		vfma.f32	s16, s10, s12
 199 004e B0EE405A 		vmov.f32	s10, s0
 200 0052 A5EE865A 		vfma.f32	s10, s11, s12
 201              		.loc 1 30 93 view .LVU40
 202 0056 B7EE006A 		vmov.f32	s12, #1.0e+0
 203              		.loc 1 30 55 view .LVU41
 204 005a A7EE408A 		vfms.f32	s16, s14, s0
 205              		.loc 1 30 93 view .LVU42
 206 005e A0EE056A 		vfma.f32	s12, s0, s10
 207              	.LBB11:
 208              	.LBB8:
  21:Core/Src/filters.c ****     //return 0;
 209              		.loc 1 21 9 view .LVU43
 210 0062 F0EE407A 		vmov.f32	s15, s0
  21:Core/Src/filters.c ****     //return 0;
 211              		.loc 1 21 9 view .LVU44
 212              	.LBE8:
 213              	.LBE11:
 214              		.loc 1 30 5 is_stmt 1 view .LVU45
 215              		.loc 1 30 8 is_stmt 0 view .LVU46
 216 0066 C8EE065A 		vdiv.f32	s11, s16, s12
 217              	.LVL14:
  31:Core/Src/filters.c ****     bp = f->g * hp + f->s1;
 218              		.loc 1 31 5 is_stmt 1 view .LVU47
  32:Core/Src/filters.c **** 	f->s1 = f->g * hp + bp; // state in 1st trapezoidal integrator
  33:Core/Src/filters.c **** 	lp = f->g * bp + f->s2;
  34:Core/Src/filters.c **** 	f->s2 = f->g * bp + lp; // state in 2nd trapezoidal integrator
  35:Core/Src/filters.c **** 	return lp;
  36:Core/Src/filters.c **** }...
 219              		.loc 1 36 1 is_stmt 0 view .LVU48
 220 006a BDEC028B 		vldm	sp!, {d8}
 221              		.cfi_restore 80
 222              		.cfi_restore 81
 223              		.cfi_def_cfa_offset 8
  31:Core/Src/filters.c ****     bp = f->g * hp + f->s1;
 224              		.loc 1 31 8 view .LVU49
 225 006e A5EE807A 		vfma.f32	s14, s11, s0
 226              	.LVL15:
  32:Core/Src/filters.c **** 	f->s1 = f->g * hp + bp; // state in 1st trapezoidal integrator
 227              		.loc 1 32 2 is_stmt 1 view .LVU50
  33:Core/Src/filters.c **** 	lp = f->g * bp + f->s2;
 228              		.loc 1 33 5 is_stmt 0 view .LVU51
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 6


 229 0072 E7EE006A 		vfma.f32	s13, s14, s0
  32:Core/Src/filters.c **** 	f->s1 = f->g * hp + bp; // state in 1st trapezoidal integrator
 230              		.loc 1 32 20 view .LVU52
 231 0076 B0EE476A 		vmov.f32	s12, s14
  33:Core/Src/filters.c **** 	lp = f->g * bp + f->s2;
 232              		.loc 1 33 5 view .LVU53
 233 007a B0EE660A 		vmov.f32	s0, s13
  32:Core/Src/filters.c **** 	f->s1 = f->g * hp + bp; // state in 1st trapezoidal integrator
 234              		.loc 1 32 20 view .LVU54
 235 007e A5EEA76A 		vfma.f32	s12, s11, s15
  34:Core/Src/filters.c **** 	f->s2 = f->g * bp + lp; // state in 2nd trapezoidal integrator
 236              		.loc 1 34 20 view .LVU55
 237 0082 E7EE276A 		vfma.f32	s13, s14, s15
  32:Core/Src/filters.c **** 	f->s1 = f->g * hp + bp; // state in 1st trapezoidal integrator
 238              		.loc 1 32 8 view .LVU56
 239 0086 84ED006A 		vstr.32	s12, [r4]
  33:Core/Src/filters.c **** 	lp = f->g * bp + f->s2;
 240              		.loc 1 33 2 is_stmt 1 view .LVU57
 241              	.LVL16:
  34:Core/Src/filters.c **** 	f->s2 = f->g * bp + lp; // state in 2nd trapezoidal integrator
 242              		.loc 1 34 2 view .LVU58
  34:Core/Src/filters.c **** 	f->s2 = f->g * bp + lp; // state in 2nd trapezoidal integrator
 243              		.loc 1 34 8 is_stmt 0 view .LVU59
 244 008a C4ED016A 		vstr.32	s13, [r4, #4]
  35:Core/Src/filters.c **** 	return lp;
 245              		.loc 1 35 2 is_stmt 1 view .LVU60
 246              		.loc 1 36 1 is_stmt 0 view .LVU61
 247 008e 10BD     		pop	{r4, pc}
 248              	.LVL17:
 249              	.L12:
 250              		.loc 1 36 1 view .LVU62
 251              		.align	3
 252              	.L11:
 253 0090 00000000 		.word	tan_lut
 254 0094 A418D245 		.word	1171396772
 255 0098 B2ACC23F 		.word	1069722802
 256              		.cfi_endproc
 257              	.LFE5:
 259              		.global	lp_R
 260              		.global	lp_L
 261              		.section	.bss.lp_L,"aw",%nobits
 262              		.align	2
 265              	lp_L:
 266 0000 00000000 		.space	20
 266      00000000 
 266      00000000 
 266      00000000 
 266      00000000 
 267              		.section	.bss.lp_R,"aw",%nobits
 268              		.align	2
 271              	lp_R:
 272 0000 00000000 		.space	20
 272      00000000 
 272      00000000 
 272      00000000 
 272      00000000 
 273              		.text
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 7


 274              	.Letext0:
 275              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 276              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 277              		.file 4 "Core/Inc/filters.h"
 278              		.file 5 "Core/Inc/lut_tan.h"
 279              		.file 6 "Core/Inc/helper_functions.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 filters.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:18     .text.SVF_LP_init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:25     .text.SVF_LP_init:0000000000000000 SVF_LP_init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:57     .text.SVF_LP_init:0000000000000010 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:66     .text.freq_to_g:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:73     .text.freq_to_g:0000000000000000 freq_to_g
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:113    .text.freq_to_g:0000000000000030 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:120    .text.SVF_LP_compute:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:127    .text.SVF_LP_compute:0000000000000000 SVF_LP_compute
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:253    .text.SVF_LP_compute:0000000000000090 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:271    .bss.lp_R:0000000000000000 lp_R
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:265    .bss.lp_L:0000000000000000 lp_L
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:262    .bss.lp_L:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccq7Eys2.s:268    .bss.lp_R:0000000000000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
interp_lin_lut
tan_lut
