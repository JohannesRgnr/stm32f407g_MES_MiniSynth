ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stereo_echo.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.stereo_echo_init,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.global	stereo_echo_init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	stereo_echo_init:
  28              	.LFB3:
  29              		.file 1 "Core/Src/stereo_echo.c"
   1:Core/Src/stereo_echo.c **** 
   2:Core/Src/stereo_echo.c **** 
   3:Core/Src/stereo_echo.c **** #include "stereo_echo.h"
   4:Core/Src/stereo_echo.c **** #include "helper_functions.h"
   5:Core/Src/stereo_echo.c **** #include "filters.h"
   6:Core/Src/stereo_echo.c **** 
   7:Core/Src/stereo_echo.c **** 
   8:Core/Src/stereo_echo.c **** extern ZDFLP_t lp_resoL;
   9:Core/Src/stereo_echo.c **** extern ZDFLP_t lp_resoR;
  10:Core/Src/stereo_echo.c **** 
  11:Core/Src/stereo_echo.c **** // static float		delayline[DELAYLINE_LEN + 2 ];
  12:Core/Src/stereo_echo.c **** // static float		*readpos; // output pointer of delay line
  13:Core/Src/stereo_echo.c **** // static float      	*writepos; // input pointer of delay line
  14:Core/Src/stereo_echo.c **** 
  15:Core/Src/stereo_echo.c **** float echoBufL[4096], echoBufR[4096];
  16:Core/Src/stereo_echo.c **** 
  17:Core/Src/stereo_echo.c **** void stereo_echo_init(void){
  30              		.loc 1 17 28 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  18:Core/Src/stereo_echo.c ****         ZDF_SVF_LP_init(&lp_resoL);
  34              		.loc 1 18 9 view .LVU1
  17:Core/Src/stereo_echo.c ****         ZDF_SVF_LP_init(&lp_resoL);
  35              		.loc 1 17 28 is_stmt 0 view .LVU2
  36 0000 08B5     		push	{r3, lr}
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 2


  40              		.loc 1 18 9 view .LVU3
  41 0002 0448     		ldr	r0, .L4
  42 0004 FFF7FEFF 		bl	ZDF_SVF_LP_init
  43              	.LVL0:
  19:Core/Src/stereo_echo.c ****         ZDF_SVF_LP_init(&lp_resoR);
  44              		.loc 1 19 9 is_stmt 1 view .LVU4
  20:Core/Src/stereo_echo.c **** }
  45              		.loc 1 20 1 is_stmt 0 view .LVU5
  46 0008 BDE80840 		pop	{r3, lr}
  47              		.cfi_restore 14
  48              		.cfi_restore 3
  49              		.cfi_def_cfa_offset 0
  19:Core/Src/stereo_echo.c ****         ZDF_SVF_LP_init(&lp_resoR);
  50              		.loc 1 19 9 view .LVU6
  51 000c 0248     		ldr	r0, .L4+4
  52 000e FFF7FEBF 		b	ZDF_SVF_LP_init
  53              	.LVL1:
  54              	.L5:
  55 0012 00BF     		.align	2
  56              	.L4:
  57 0014 00000000 		.word	lp_resoL
  58 0018 00000000 		.word	lp_resoR
  59              		.cfi_endproc
  60              	.LFE3:
  62              		.section	.text.stereo_echo_compute,"ax",%progbits
  63              		.align	1
  64              		.p2align 2,,3
  65              		.global	stereo_echo_compute
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  70              	stereo_echo_compute:
  71              	.LVL2:
  72              	.LFB4:
  21:Core/Src/stereo_echo.c **** 
  22:Core/Src/stereo_echo.c **** /* my ugly version of a crossfeedback stereo echo.. adapted from Tom's echo function */
  23:Core/Src/stereo_echo.c **** void stereo_echo_compute(float sample, float timeL, float timeR, float feedback, int32_t *wPosL, in
  24:Core/Src/stereo_echo.c **** {
  73              		.loc 1 24 1 is_stmt 1 view -0
  74              		.cfi_startproc
  75              		@ args = 4, pretend = 0, frame = 0
  76              		@ frame_needed = 0, uses_anonymous_args = 0
  25:Core/Src/stereo_echo.c ****     float rPosL, rPosMixL, samp0L, samp1L, rPosR, rPosMixR, samp0R, samp1R;
  77              		.loc 1 25 5 view .LVU8
  26:Core/Src/stereo_echo.c ****     int32_t rPos0L, rPos1L, rPos0R, rPos1R, mask;
  78              		.loc 1 26 5 view .LVU9
  27:Core/Src/stereo_echo.c **** 
  28:Core/Src/stereo_echo.c ****     mask = size - 1;
  79              		.loc 1 28 5 view .LVU10
  29:Core/Src/stereo_echo.c **** 
  30:Core/Src/stereo_echo.c ****     // read first, then write - so you can add feedback
  31:Core/Src/stereo_echo.c ****     rPosL = *wPosL + timeL;
  32:Core/Src/stereo_echo.c ****     rPos0L = (int32_t)rPosL;
  33:Core/Src/stereo_echo.c ****     rPos1L = rPos0L + 1;
  34:Core/Src/stereo_echo.c ****     rPosMixL = rPosL - (float)rPos0L;
  35:Core/Src/stereo_echo.c ****     rPos0L &= mask;
  36:Core/Src/stereo_echo.c ****     rPos1L &= mask;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 3


  37:Core/Src/stereo_echo.c **** 
  38:Core/Src/stereo_echo.c ****     rPosR = *wPosR + timeR;
  80              		.loc 1 38 20 is_stmt 0 view .LVU11
  81 0000 D1ED007A 		vldr.32	s15, [r1]	@ int
  82 0004 F8EEE77A 		vcvt.f32.s32	s15, s15
  24:Core/Src/stereo_echo.c ****     float rPosL, rPosMixL, samp0L, samp1L, rPosR, rPosMixR, samp0R, samp1R;
  83              		.loc 1 24 1 view .LVU12
  84 0008 70B5     		push	{r4, r5, r6, lr}
  85              		.cfi_def_cfa_offset 16
  86              		.cfi_offset 4, -16
  87              		.cfi_offset 5, -12
  88              		.cfi_offset 6, -8
  89              		.cfi_offset 14, -4
  90              		.loc 1 38 11 view .LVU13
  91 000a 37EE811A 		vadd.f32	s2, s15, s2
  92              	.LVL3:
  31:Core/Src/stereo_echo.c ****     rPos0L = (int32_t)rPosL;
  93              		.loc 1 31 20 view .LVU14
  94 000e D0ED007A 		vldr.32	s15, [r0]	@ int
  39:Core/Src/stereo_echo.c ****     rPos0R = (int32_t)rPosR;
  40:Core/Src/stereo_echo.c ****     rPos1R = rPos0R + 1;
  41:Core/Src/stereo_echo.c ****     rPosMixR = rPosR - (float)rPos0R;
  42:Core/Src/stereo_echo.c ****     rPos0R &= mask;
  43:Core/Src/stereo_echo.c ****     rPos1R &= mask;
  44:Core/Src/stereo_echo.c **** 
  45:Core/Src/stereo_echo.c ****     samp0L = *(echoBufL+rPos0L) ;
  46:Core/Src/stereo_echo.c ****     samp1L = *(echoBufL+rPos1L);
  47:Core/Src/stereo_echo.c ****     samp0R = *(echoBufR+rPos0R) ;
  48:Core/Src/stereo_echo.c ****     samp1R = *(echoBufR+rPos1R);
  49:Core/Src/stereo_echo.c **** 
  50:Core/Src/stereo_echo.c ****     samp0L = samp0L + (rPosMixL * (samp1L - samp0L))+ sample ;
  51:Core/Src/stereo_echo.c ****     (*wPosL)--;
  95              		.loc 1 51 13 view .LVU15
  96 0012 0468     		ldr	r4, [r0]
  31:Core/Src/stereo_echo.c ****     rPos0L = (int32_t)rPosL;
  97              		.loc 1 31 20 view .LVU16
  98 0014 F8EEE77A 		vcvt.f32.s32	s15, s15
  28:Core/Src/stereo_echo.c **** 
  99              		.loc 1 28 10 view .LVU17
 100 0018 013A     		subs	r2, r2, #1
 101              	.LVL4:
  31:Core/Src/stereo_echo.c ****     rPos0L = (int32_t)rPosL;
 102              		.loc 1 31 5 is_stmt 1 view .LVU18
  31:Core/Src/stereo_echo.c ****     rPos0L = (int32_t)rPosL;
 103              		.loc 1 31 11 is_stmt 0 view .LVU19
 104 001a 77EEA00A 		vadd.f32	s1, s15, s1
 105              	.LVL5:
  32:Core/Src/stereo_echo.c ****     rPos1L = rPos0L + 1;
 106              		.loc 1 32 5 is_stmt 1 view .LVU20
  39:Core/Src/stereo_echo.c ****     rPos0R = (int32_t)rPosR;
 107              		.loc 1 39 12 is_stmt 0 view .LVU21
 108 001e FDEEC17A 		vcvt.s32.f32	s15, s2
 109              		.loc 1 51 13 view .LVU22
 110 0022 651E     		subs	r5, r4, #1
  39:Core/Src/stereo_echo.c ****     rPos0R = (int32_t)rPosR;
 111              		.loc 1 39 12 view .LVU23
 112 0024 17EE90CA 		vmov	ip, s15	@ int
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 4


  47:Core/Src/stereo_echo.c ****     samp1R = *(echoBufR+rPos1R);
 113              		.loc 1 47 12 view .LVU24
 114 0028 4D4C     		ldr	r4, .L14
  40:Core/Src/stereo_echo.c ****     rPosMixR = rPosR - (float)rPos0R;
 115              		.loc 1 40 12 view .LVU25
 116 002a 0CF10106 		add	r6, ip, #1
  41:Core/Src/stereo_echo.c ****     rPos0R &= mask;
 117              		.loc 1 41 24 view .LVU26
 118 002e F8EEE77A 		vcvt.f32.s32	s15, s15
  42:Core/Src/stereo_echo.c ****     rPos1R &= mask;
 119              		.loc 1 42 12 view .LVU27
 120 0032 02EA0C0C 		and	ip, r2, ip
  43:Core/Src/stereo_echo.c **** 
 121              		.loc 1 43 12 view .LVU28
 122 0036 1640     		ands	r6, r6, r2
  47:Core/Src/stereo_echo.c ****     samp1R = *(echoBufR+rPos1R);
 123              		.loc 1 47 12 view .LVU29
 124 0038 04EB8C0C 		add	ip, r4, ip, lsl #2
  48:Core/Src/stereo_echo.c **** 
 125              		.loc 1 48 12 view .LVU30
 126 003c 04EB8606 		add	r6, r4, r6, lsl #2
 127 0040 96ED007A 		vldr.32	s14, [r6]
  45:Core/Src/stereo_echo.c ****     samp1L = *(echoBufL+rPos1L);
 128              		.loc 1 45 12 view .LVU31
 129 0044 474E     		ldr	r6, .L14+4
  41:Core/Src/stereo_echo.c ****     rPos0R &= mask;
 130              		.loc 1 41 14 view .LVU32
 131 0046 31EE671A 		vsub.f32	s2, s2, s15
  47:Core/Src/stereo_echo.c ****     samp1R = *(echoBufR+rPos1R);
 132              		.loc 1 47 12 view .LVU33
 133 004a DCED007A 		vldr.32	s15, [ip]
  52:Core/Src/stereo_echo.c ****     *wPosL &= mask;
  53:Core/Src/stereo_echo.c **** 
  54:Core/Src/stereo_echo.c ****     samp0R = samp0R + (rPosMixR * (samp1R - samp0R))+ sample ;
 134              		.loc 1 54 43 view .LVU34
 135 004e 37EE677A 		vsub.f32	s14, s14, s15
  52:Core/Src/stereo_echo.c ****     *wPosL &= mask;
 136              		.loc 1 52 12 view .LVU35
 137 0052 1540     		ands	r5, r5, r2
 138              		.loc 1 54 21 view .LVU36
 139 0054 E7EE017A 		vfma.f32	s15, s14, s2
 140              	.LBB14:
 141              	.LBB15:
 142              		.file 2 "Core/Inc/helper_functions.h"
   1:Core/Inc/helper_functions.h **** /**
   2:Core/Inc/helper_functions.h ****  * @file helper_functions.h
   3:Core/Inc/helper_functions.h ****  * @author johannes regnier
   4:Core/Inc/helper_functions.h ****  * @brief Various math tools 
   5:Core/Inc/helper_functions.h ****  * @version 0.1
   6:Core/Inc/helper_functions.h ****  * @date 2023-12-30
   7:Core/Inc/helper_functions.h ****  * 
   8:Core/Inc/helper_functions.h ****  * @copyright Copyright (c) 2023
   9:Core/Inc/helper_functions.h ****  * 
  10:Core/Inc/helper_functions.h ****  */
  11:Core/Inc/helper_functions.h **** 
  12:Core/Inc/helper_functions.h **** #ifndef _HELPER_FUNCTIONS_H
  13:Core/Inc/helper_functions.h **** #define _HELPER_FUNCTIONS_H
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 5


  14:Core/Inc/helper_functions.h **** 
  15:Core/Inc/helper_functions.h **** 
  16:Core/Inc/helper_functions.h **** #include <math.h>
  17:Core/Inc/helper_functions.h **** #include <stdint.h>
  18:Core/Inc/helper_functions.h **** 
  19:Core/Inc/helper_functions.h **** #ifndef NOMINMAX
  20:Core/Inc/helper_functions.h **** 
  21:Core/Inc/helper_functions.h **** #ifndef max
  22:Core/Inc/helper_functions.h **** #define max(a,b)            (((a) > (b)) ? (a) : (b))
  23:Core/Inc/helper_functions.h **** #endif
  24:Core/Inc/helper_functions.h **** 
  25:Core/Inc/helper_functions.h **** #ifndef min
  26:Core/Inc/helper_functions.h **** #define min(a,b)            (((a) < (b)) ? (a) : (b))
  27:Core/Inc/helper_functions.h **** #endif
  28:Core/Inc/helper_functions.h **** 
  29:Core/Inc/helper_functions.h **** #endif  /* NOMINMAX */
  30:Core/Inc/helper_functions.h **** 
  31:Core/Inc/helper_functions.h **** /**
  32:Core/Inc/helper_functions.h ****  * @brief Keep value between 0 and max
  33:Core/Inc/helper_functions.h ****  * 
  34:Core/Inc/helper_functions.h ****  * @param value 
  35:Core/Inc/helper_functions.h ****  * @param max 
  36:Core/Inc/helper_functions.h ****  * @return float 
  37:Core/Inc/helper_functions.h ****  */
  38:Core/Inc/helper_functions.h **** inline float wrap(float value, float max)   
  39:Core/Inc/helper_functions.h **** {
  40:Core/Inc/helper_functions.h ****     if (value < 0.f)
  41:Core/Inc/helper_functions.h ****         value += max;
  42:Core/Inc/helper_functions.h ****     if (value >= max)
  43:Core/Inc/helper_functions.h ****         value -= max;
  44:Core/Inc/helper_functions.h **** 
  45:Core/Inc/helper_functions.h ****     return value;
  46:Core/Inc/helper_functions.h **** }
  47:Core/Inc/helper_functions.h **** 
  48:Core/Inc/helper_functions.h **** inline float Crossfade(float a, float b, float fade)
  49:Core/Inc/helper_functions.h **** {
  50:Core/Inc/helper_functions.h ****     return a + (b - a) * fade;
  51:Core/Inc/helper_functions.h **** }
  52:Core/Inc/helper_functions.h **** 
  53:Core/Inc/helper_functions.h **** 
  54:Core/Inc/helper_functions.h **** /**
  55:Core/Inc/helper_functions.h ****  * @brief Pade-approximation of tanh for soft clipping
  56:Core/Inc/helper_functions.h ****  * @ from https://www.musicdsp.org/en/latest/Other/238-rational-tanh-approximation.html 
  57:Core/Inc/helper_functions.h ****  * @param x 
  58:Core/Inc/helper_functions.h ****  * @return float 
  59:Core/Inc/helper_functions.h ****  */
  60:Core/Inc/helper_functions.h **** inline float SoftClip(float x)
  61:Core/Inc/helper_functions.h **** {
  62:Core/Inc/helper_functions.h ****     if (x < -3.0f)
 143              		.loc 2 62 8 view .LVU37
 144 0058 B8EE086A 		vmov.f32	s12, #-3.0e+0
 145              	.LBE15:
 146              	.LBE14:
 147              		.loc 1 54 12 view .LVU38
 148 005c 37EE807A 		vadd.f32	s14, s15, s0
  32:Core/Src/stereo_echo.c ****     rPos1L = rPos0L + 1;
 149              		.loc 1 32 12 view .LVU39
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 6


 150 0060 FDEEE07A 		vcvt.s32.f32	s15, s1
 151 0064 17EE90CA 		vmov	ip, s15	@ int
 152              	.LVL6:
  33:Core/Src/stereo_echo.c ****     rPosMixL = rPosL - (float)rPos0L;
 153              		.loc 1 33 5 is_stmt 1 view .LVU40
  34:Core/Src/stereo_echo.c ****     rPos0L &= mask;
 154              		.loc 1 34 24 is_stmt 0 view .LVU41
 155 0068 F8EEE77A 		vcvt.f32.s32	s15, s15
  33:Core/Src/stereo_echo.c ****     rPosMixL = rPosL - (float)rPos0L;
 156              		.loc 1 33 12 view .LVU42
 157 006c 0CF1010E 		add	lr, ip, #1
 158              	.LVL7:
  34:Core/Src/stereo_echo.c ****     rPos0L &= mask;
 159              		.loc 1 34 5 is_stmt 1 view .LVU43
  35:Core/Src/stereo_echo.c ****     rPos1L &= mask;
 160              		.loc 1 35 5 view .LVU44
  36:Core/Src/stereo_echo.c **** 
 161              		.loc 1 36 5 view .LVU45
  38:Core/Src/stereo_echo.c ****     rPos0R = (int32_t)rPosR;
 162              		.loc 1 38 5 view .LVU46
  39:Core/Src/stereo_echo.c ****     rPos1R = rPos0R + 1;
 163              		.loc 1 39 5 view .LVU47
  40:Core/Src/stereo_echo.c ****     rPosMixR = rPosR - (float)rPos0R;
 164              		.loc 1 40 5 view .LVU48
  41:Core/Src/stereo_echo.c ****     rPos0R &= mask;
 165              		.loc 1 41 5 view .LVU49
  42:Core/Src/stereo_echo.c ****     rPos1R &= mask;
 166              		.loc 1 42 5 view .LVU50
  43:Core/Src/stereo_echo.c **** 
 167              		.loc 1 43 5 view .LVU51
  45:Core/Src/stereo_echo.c ****     samp1L = *(echoBufL+rPos1L);
 168              		.loc 1 45 5 view .LVU52
  35:Core/Src/stereo_echo.c ****     rPos1L &= mask;
 169              		.loc 1 35 12 is_stmt 0 view .LVU53
 170 0070 02EA0C0C 		and	ip, r2, ip
 171              	.LVL8:
  45:Core/Src/stereo_echo.c ****     samp1L = *(echoBufL+rPos1L);
 172              		.loc 1 45 12 view .LVU54
 173 0074 06EB8C0C 		add	ip, r6, ip, lsl #2
 174              	.LVL9:
  36:Core/Src/stereo_echo.c **** 
 175              		.loc 1 36 12 view .LVU55
 176 0078 02EA0E0E 		and	lr, r2, lr
 177              	.LVL10:
  34:Core/Src/stereo_echo.c ****     rPos0L &= mask;
 178              		.loc 1 34 14 view .LVU56
 179 007c 70EEE70A 		vsub.f32	s1, s1, s15
 180              	.LVL11:
  45:Core/Src/stereo_echo.c ****     samp1L = *(echoBufL+rPos1L);
 181              		.loc 1 45 12 view .LVU57
 182 0080 DCED007A 		vldr.32	s15, [ip]
 183              	.LVL12:
  46:Core/Src/stereo_echo.c ****     samp0R = *(echoBufR+rPos0R) ;
 184              		.loc 1 46 5 is_stmt 1 view .LVU58
  47:Core/Src/stereo_echo.c ****     samp1R = *(echoBufR+rPos1R);
 185              		.loc 1 47 5 view .LVU59
  48:Core/Src/stereo_echo.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 7


 186              		.loc 1 48 5 view .LVU60
  50:Core/Src/stereo_echo.c ****     (*wPosL)--;
 187              		.loc 1 50 5 view .LVU61
  46:Core/Src/stereo_echo.c ****     samp0R = *(echoBufR+rPos0R) ;
 188              		.loc 1 46 12 is_stmt 0 view .LVU62
 189 0084 06EB8E0C 		add	ip, r6, lr, lsl #2
  50:Core/Src/stereo_echo.c ****     (*wPosL)--;
 190              		.loc 1 50 43 view .LVU63
 191 0088 DCED006A 		vldr.32	s13, [ip]
  52:Core/Src/stereo_echo.c **** 
 192              		.loc 1 52 12 view .LVU64
 193 008c 0560     		str	r5, [r0]
 194              	.LVL13:
  50:Core/Src/stereo_echo.c ****     (*wPosL)--;
 195              		.loc 1 50 43 view .LVU65
 196 008e 76EEE76A 		vsub.f32	s13, s13, s15
  55:Core/Src/stereo_echo.c ****     (*wPosR)--;
 197              		.loc 1 55 13 view .LVU66
 198 0092 0D68     		ldr	r5, [r1]
  50:Core/Src/stereo_echo.c ****     (*wPosL)--;
 199              		.loc 1 50 21 view .LVU67
 200 0094 E6EEA07A 		vfma.f32	s15, s13, s1
 201              	.LVL14:
 202              		.loc 1 55 13 view .LVU68
 203 0098 05F1FF3C 		add	ip, r5, #-1
  56:Core/Src/stereo_echo.c ****     *wPosR &= mask;
 204              		.loc 1 56 12 view .LVU69
 205 009c 0CEA0202 		and	r2, ip, r2
 206              	.LVL15:
 207              		.loc 1 56 12 view .LVU70
 208 00a0 0A60     		str	r2, [r1]
  50:Core/Src/stereo_echo.c ****     (*wPosL)--;
 209              		.loc 1 50 12 view .LVU71
 210 00a2 37EE800A 		vadd.f32	s0, s15, s0
 211              	.LVL16:
  51:Core/Src/stereo_echo.c ****     *wPosL &= mask;
 212              		.loc 1 51 5 is_stmt 1 view .LVU72
  52:Core/Src/stereo_echo.c **** 
 213              		.loc 1 52 5 view .LVU73
  54:Core/Src/stereo_echo.c ****     (*wPosR)--;
 214              		.loc 1 54 5 view .LVU74
  55:Core/Src/stereo_echo.c ****     *wPosR &= mask;
 215              		.loc 1 55 5 view .LVU75
 216              		.loc 1 56 5 view .LVU76
  57:Core/Src/stereo_echo.c **** 
  58:Core/Src/stereo_echo.c **** //     *(echoBufL+(*wPosL)) = SoftClip(SVF_LP_compute(&lp_resoL ,samp0R) * feedback ); // crossfeed
  59:Core/Src/stereo_echo.c **** //     *(echoBufR+(*wPosR)) = SoftClip(SVF_LP_compute(&lp_resoR, samp0L) * feedback ); // crossfeed
  60:Core/Src/stereo_echo.c **** 
  61:Core/Src/stereo_echo.c ****     *(echoBufL+(*wPosL)) = SoftClip(samp0R * feedback ); // crossfeedback
 217              		.loc 1 61 5 view .LVU77
 218              		.loc 1 61 28 is_stmt 0 view .LVU78
 219 00a6 67EE217A 		vmul.f32	s15, s14, s3
 220              	.LVL17:
 221              	.LBB22:
 222              	.LBI14:
  60:Core/Inc/helper_functions.h **** {
 223              		.loc 2 60 14 is_stmt 1 view .LVU79
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 8


 224              	.LBB18:
 225              		.loc 2 62 5 view .LVU80
 226              	.LBE18:
 227              	.LBE22:
 228              		.loc 1 61 15 is_stmt 0 view .LVU81
 229 00aa 0168     		ldr	r1, [r0]
 230              	.LVL18:
 231              	.LBB23:
 232              	.LBB19:
 233              		.loc 2 62 8 view .LVU82
 234 00ac F4EEC67A 		vcmpe.f32	s15, s12
 235 00b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 236              	.LBE19:
 237              	.LBE23:
 238              		.loc 1 61 15 view .LVU83
 239 00b4 06EB8106 		add	r6, r6, r1, lsl #2
  24:Core/Src/stereo_echo.c ****     float rPosL, rPosMixL, samp0L, samp1L, rPosR, rPosMixR, samp0R, samp1R;
 240              		.loc 1 24 1 view .LVU84
 241 00b8 0499     		ldr	r1, [sp, #16]
 242              	.LBB24:
 243              	.LBB20:
 244              		.loc 2 62 8 view .LVU85
 245 00ba 48D4     		bmi	.L9
  63:Core/Inc/helper_functions.h ****     {
  64:Core/Inc/helper_functions.h ****         return -1.0f;
  65:Core/Inc/helper_functions.h ****     }
  66:Core/Inc/helper_functions.h ****     else if (x > 3.0f)
 246              		.loc 2 66 10 is_stmt 1 view .LVU86
 247              		.loc 2 66 13 is_stmt 0 view .LVU87
 248 00bc B0EE087A 		vmov.f32	s14, #3.0e+0
 249 00c0 F4EEC77A 		vcmpe.f32	s15, s14
 250 00c4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 251 00c8 3EDC     		bgt	.L10
 252              	.LVL19:
 253              	.LBB16:
 254              	.LBI16:
  60:Core/Inc/helper_functions.h **** {
 255              		.loc 2 60 14 is_stmt 1 view .LVU88
 256              	.LBB17:
  67:Core/Inc/helper_functions.h ****     {
  68:Core/Inc/helper_functions.h ****         return 1.0f;
  69:Core/Inc/helper_functions.h ****     }
  70:Core/Inc/helper_functions.h ****     else
  71:Core/Inc/helper_functions.h ****     {
  72:Core/Inc/helper_functions.h ****         return x * (27.0f + x * x) / (27.0f + 9.0f * x * x);
 257              		.loc 2 72 9 view .LVU89
 258              		.loc 2 72 27 is_stmt 0 view .LVU90
 259 00ca B3EE0B7A 		vmov.f32	s14, #2.7e+1
 260              		.loc 2 72 52 view .LVU91
 261 00ce B2EE026A 		vmov.f32	s12, #9.0e+0
 262 00d2 27EE866A 		vmul.f32	s12, s15, s12
 263              		.loc 2 72 27 view .LVU92
 264 00d6 F0EE475A 		vmov.f32	s11, s14
 265 00da E7EEA75A 		vfma.f32	s11, s15, s15
 266              		.loc 2 72 45 view .LVU93
 267 00de A7EE867A 		vfma.f32	s14, s15, s12
 268              		.loc 2 72 18 view .LVU94
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 9


 269 00e2 67EEA57A 		vmul.f32	s15, s15, s11
 270              	.LVL20:
 271              		.loc 2 72 45 view .LVU95
 272 00e6 F0EE476A 		vmov.f32	s13, s14
 273              		.loc 2 72 36 view .LVU96
 274 00ea 87EEA67A 		vdiv.f32	s14, s15, s13
 275              	.L7:
 276              		.loc 2 72 36 view .LVU97
 277              	.LBE17:
 278              	.LBE16:
 279              	.LBE20:
 280              	.LBE24:
  62:Core/Src/stereo_echo.c ****     *(echoBufR+(*wPosR)) = SoftClip(samp0L * feedback ); // crossfeedback
 281              		.loc 1 62 15 view .LVU98
 282 00ee 04EB8204 		add	r4, r4, r2, lsl #2
 283              		.loc 1 62 28 view .LVU99
 284 00f2 60EE211A 		vmul.f32	s3, s0, s3
 285              	.LVL21:
 286              	.LBB25:
 287              	.LBB26:
  62:Core/Inc/helper_functions.h ****     {
 288              		.loc 2 62 8 view .LVU100
 289 00f6 F8EE087A 		vmov.f32	s15, #-3.0e+0
 290 00fa F4EEE71A 		vcmpe.f32	s3, s15
 291 00fe F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 292              	.LBE26:
 293              	.LBE25:
  61:Core/Src/stereo_echo.c ****     *(echoBufR+(*wPosR)) = SoftClip(samp0L * feedback ); // crossfeedback
 294              		.loc 1 61 26 view .LVU101
 295 0102 86ED007A 		vstr.32	s14, [r6]
 296              		.loc 1 62 5 is_stmt 1 view .LVU102
 297              	.LVL22:
 298              	.LBB31:
 299              	.LBI25:
  60:Core/Inc/helper_functions.h **** {
 300              		.loc 2 60 14 view .LVU103
 301              	.LBB29:
  62:Core/Inc/helper_functions.h ****     {
 302              		.loc 2 62 5 view .LVU104
  62:Core/Inc/helper_functions.h ****     {
 303              		.loc 2 62 8 is_stmt 0 view .LVU105
 304 0106 25D4     		bmi	.L11
  66:Core/Inc/helper_functions.h ****     {
 305              		.loc 2 66 10 is_stmt 1 view .LVU106
  66:Core/Inc/helper_functions.h ****     {
 306              		.loc 2 66 13 is_stmt 0 view .LVU107
 307 0108 F0EE087A 		vmov.f32	s15, #3.0e+0
 308 010c F4EEE71A 		vcmpe.f32	s3, s15
 309 0110 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 310 0114 21DC     		bgt	.L12
 311              	.LVL23:
 312              	.LBB27:
 313              	.LBI27:
  60:Core/Inc/helper_functions.h **** {
 314              		.loc 2 60 14 is_stmt 1 view .LVU108
 315              	.LBB28:
 316              		.loc 2 72 9 view .LVU109
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 10


 317              		.loc 2 72 27 is_stmt 0 view .LVU110
 318 0116 F3EE0B7A 		vmov.f32	s15, #2.7e+1
 319              		.loc 2 72 52 view .LVU111
 320 011a B2EE026A 		vmov.f32	s12, #9.0e+0
 321 011e 21EE866A 		vmul.f32	s12, s3, s12
 322              		.loc 2 72 27 view .LVU112
 323 0122 F0EE675A 		vmov.f32	s11, s15
 324 0126 E1EEA15A 		vfma.f32	s11, s3, s3
 325              		.loc 2 72 45 view .LVU113
 326 012a E1EE867A 		vfma.f32	s15, s3, s12
 327              		.loc 2 72 18 view .LVU114
 328 012e 61EEA51A 		vmul.f32	s3, s3, s11
 329              	.LVL24:
 330              		.loc 2 72 45 view .LVU115
 331 0132 F0EE676A 		vmov.f32	s13, s15
 332              		.loc 2 72 36 view .LVU116
 333 0136 C1EEA67A 		vdiv.f32	s15, s3, s13
 334              	.LVL25:
 335              	.L8:
 336              		.loc 2 72 36 view .LVU117
 337              	.LBE28:
 338              	.LBE27:
 339              	.LBE29:
 340              	.LBE31:
 341              		.loc 1 62 26 view .LVU118
 342 013a C4ED007A 		vstr.32	s15, [r4]
  63:Core/Src/stereo_echo.c **** 
  64:Core/Src/stereo_echo.c ****     *delayLout = *(echoBufL+(*wPosL));
 343              		.loc 1 64 5 is_stmt 1 view .LVU119
 344              		.loc 1 64 16 is_stmt 0 view .LVU120
 345 013e 83ED007A 		vstr.32	s14, [r3]
  65:Core/Src/stereo_echo.c ****     *delayRout = *(echoBufR+(*wPosR));
 346              		.loc 1 65 5 is_stmt 1 view .LVU121
 347              		.loc 1 65 18 is_stmt 0 view .LVU122
 348 0142 2368     		ldr	r3, [r4]	@ float
 349              	.LVL26:
 350              		.loc 1 65 16 view .LVU123
 351 0144 0B60     		str	r3, [r1]	@ float
  66:Core/Src/stereo_echo.c **** }
 352              		.loc 1 66 1 view .LVU124
 353 0146 70BD     		pop	{r4, r5, r6, pc}
 354              	.LVL27:
 355              	.L10:
 356              	.LBB32:
 357              	.LBB21:
  68:Core/Inc/helper_functions.h ****     }
 358              		.loc 2 68 16 view .LVU125
 359 0148 B7EE007A 		vmov.f32	s14, #1.0e+0
 360 014c CFE7     		b	.L7
 361              	.L9:
  64:Core/Inc/helper_functions.h ****     }
 362              		.loc 2 64 16 view .LVU126
 363 014e BFEE007A 		vmov.f32	s14, #-1.0e+0
 364 0152 CCE7     		b	.L7
 365              	.LVL28:
 366              	.L11:
  64:Core/Inc/helper_functions.h ****     }
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 11


 367              		.loc 2 64 16 view .LVU127
 368              	.LBE21:
 369              	.LBE32:
 370              	.LBB33:
 371              	.LBB30:
 372 0154 FFEE007A 		vmov.f32	s15, #-1.0e+0
 373 0158 EFE7     		b	.L8
 374              	.L12:
  68:Core/Inc/helper_functions.h ****     }
 375              		.loc 2 68 16 view .LVU128
 376 015a F7EE007A 		vmov.f32	s15, #1.0e+0
 377 015e ECE7     		b	.L8
 378              	.L15:
 379              		.align	2
 380              	.L14:
 381 0160 00000000 		.word	echoBufR
 382 0164 00000000 		.word	echoBufL
 383              	.LBE30:
 384              	.LBE33:
 385              		.cfi_endproc
 386              	.LFE4:
 388              		.global	echoBufR
 389              		.global	echoBufL
 390              		.section	.bss.echoBufL,"aw",%nobits
 391              		.align	2
 394              	echoBufL:
 395 0000 00000000 		.space	16384
 395      00000000 
 395      00000000 
 395      00000000 
 395      00000000 
 396              		.section	.bss.echoBufR,"aw",%nobits
 397              		.align	2
 400              	echoBufR:
 401 0000 00000000 		.space	16384
 401      00000000 
 401      00000000 
 401      00000000 
 401      00000000 
 402              		.text
 403              	.Letext0:
 404              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 405              		.file 4 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 406              		.file 5 "Core/Inc/filters.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stereo_echo.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:20     .text.stereo_echo_init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:27     .text.stereo_echo_init:0000000000000000 stereo_echo_init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:57     .text.stereo_echo_init:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:63     .text.stereo_echo_compute:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:70     .text.stereo_echo_compute:0000000000000000 stereo_echo_compute
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:381    .text.stereo_echo_compute:0000000000000160 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:400    .bss.echoBufR:0000000000000000 echoBufR
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:394    .bss.echoBufL:0000000000000000 echoBufL
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:391    .bss.echoBufL:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccJlW5uS.s:397    .bss.echoBufR:0000000000000000 $d

UNDEFINED SYMBOLS
ZDF_SVF_LP_init
lp_resoL
lp_resoR
