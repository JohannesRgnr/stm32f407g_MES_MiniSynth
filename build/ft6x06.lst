ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ft6x06.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.ft6x06_Reset,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.global	ft6x06_Reset
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	ft6x06_Reset:
  28              	.LVL0:
  29              	.LFB1:
  30              		.file 1 "Drivers/BSP/Components/ft6x06/ft6x06.c"
   1:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
   2:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   3:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @file    ft6x06.c
   4:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @author  MCD Application Team
   5:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief   This file provides a set of functions needed to manage the FT6X06
   6:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *          IO Expander devices.
   7:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   8:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @attention
   9:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  10:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  11:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * All rights reserved.</center></h2>
  12:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  13:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  14:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * the "License"; You may not use this file except in compliance with the
  15:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * License. You may obtain a copy of the License at:
  16:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *                        opensource.org/licenses/BSD-3-Clause
  17:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  18:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
  19:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  20:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  21:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Includes ------------------------------------------------------------------*/
  22:Drivers/BSP/Components/ft6x06/ft6x06.c **** #include "ft6x06.h"
  23:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  24:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup BSP
  25:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  26:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  27:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  28:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup Component
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 2


  29:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  30:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  31:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  32:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6
  33:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  34:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  35:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  36:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private typedef -----------------------------------------------------------*/
  37:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  38:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6_Private_Defines FT6XX6 Private Defines
  39:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  40:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  41:Drivers/BSP/Components/ft6x06/ft6x06.c **** #define FT6x06_MAX_INSTANCE  2
  42:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  43:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  44:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  45:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  46:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private macro -------------------------------------------------------------*/
  47:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  48:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6_Private_Variables FT6XX6 Private Variables
  49:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  50:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  51:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  52:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Touch screen driver structure initialization */
  53:Drivers/BSP/Components/ft6x06/ft6x06.c **** TS_DrvTypeDef ft6x06_ts_drv =
  54:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  55:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Init,
  56:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_ReadID,
  57:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Reset,
  58:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  59:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Start,
  60:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DetectTouch,
  61:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_GetXY,
  62:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  63:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_EnableIT,
  64:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ClearIT,
  65:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ITStatus,
  66:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT
  67:Drivers/BSP/Components/ft6x06/ft6x06.c **** };
  68:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  69:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* ft6xx6 instances by address */
  70:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06[FT6x06_MAX_INSTANCE] = {0};
  71:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  72:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Global ft6xx6 handle */
  73:Drivers/BSP/Components/ft6x06/ft6x06.c **** static ft6x06_handle_TypeDef ft6x06_handle = { FT6206_I2C_NOT_INITIALIZED, 0, 0};
  74:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  75:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  76:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  77:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  78:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  79:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6xx6_Private_Function_Prototypes ft6xx6 Private Function Prototypes
  80:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  81:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  82:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr);
  83:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private functions prototypes-----------------------------------------------*/
  84:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
  85:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 3


  86:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
  87:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
  88:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
  89:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  90:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr);
  91:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
  92:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  93:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  94:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
  95:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
  96:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
  97:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  98:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr);
  99:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 100:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 101:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
 102:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 103:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 104:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6xx6_Private_Functions ft6xx6 Private Functions
 105:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
 106:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 107:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 108:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 109:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Initialize the ft6xx6 communication bus
 110:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         from MCU to FT6xx6 : ie I2C channel initialization (if required).
 111:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 112:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 113:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 114:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Init(uint16_t DeviceAddr)
 115:Drivers/BSP/Components/ft6x06/ft6x06.c **** {  
 116:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 117:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 118:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 119:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check if device instance already exists */
 120:Drivers/BSP/Components/ft6x06/ft6x06.c ****   instance = ft6x06_GetInstance(DeviceAddr);
 121:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 122:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* To prevent double initialization */
 123:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(instance == 0xFF)
 124:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 125:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Look for empty instance */
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****     empty = ft6x06_GetInstance(0);
 127:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 128:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(empty < FT6x06_MAX_INSTANCE)
 129:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 130:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Register the current device instance */
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       ft6x06[empty] = DeviceAddr;
 132:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 133:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Initialize IO BUS layer */
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****       TS_IO_Init(); 
 135:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 136:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 137:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 138:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 139:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 140:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Software Reset the ft6xx6.
 141:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : Not applicable to FT6xx6.
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 4


 143:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 144:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 145:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Reset(uint16_t DeviceAddr)
 146:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  31              		.loc 1 146 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		@ link register save eliminated.
 147:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Do nothing */
 148:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* No software reset sequence available in FT6xx6 IC */
 149:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  36              		.loc 1 149 1 view .LVU1
  37 0000 7047     		bx	lr
  38              		.cfi_endproc
  39              	.LFE1:
  41 0002 00BF     		.section	.text.ft6x06_TS_ITStatus,"ax",%progbits
  42              		.align	1
  43              		.p2align 2,,3
  44              		.global	ft6x06_TS_ITStatus
  45              		.syntax unified
  46              		.thumb
  47              		.thumb_func
  49              	ft6x06_TS_ITStatus:
  50              	.LVL1:
  51              	.LFB8:
 150:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 151:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 152:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Read the ft6xx6 device ID, pre initialize I2C in case of need to be
 153:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         able to read the FT6xx6 device ID, and verify this is a FT6xx6.
 154:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: I2C FT6xx6 Slave address.
 155:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval The Device ID (two bytes).
 156:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 157:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint16_t ft6x06_ReadID(uint16_t DeviceAddr)
 158:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 159:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Init();
 161:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 162:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Return the device ID value */
 163:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return (TS_IO_Read(DeviceAddr, FT6206_CHIP_ID_REG));
 164:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 165:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 166:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 167:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configures the touch Screen IC device to start detecting touches
 168:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         It goes through an internal calibration process (Hw calibration sequence of
 169:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         the touch screen).
 170:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address).
 171:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 172:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 173:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_Start(uint16_t DeviceAddr)
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 175:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 176:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Hw Calibration sequence start : should be done once after each power up */
 177:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* This is called internal calibration of the touch screen                 */
 178:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Calibration(DeviceAddr);
 179:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif
 180:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Minimum static configuration of FT6xx6 */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 5


 181:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Configure(DeviceAddr);
 182:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 183:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* By default set FT6xx6 IC in Polling mode : no INT generation on FT6xx6 for new touch available
 184:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Note TS_INT is active low                                                                     
 185:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT(DeviceAddr);
 186:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 187:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 188:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 189:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Return if there is touches detected or not.
 190:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Try to detect new touches and forget the old ones (reset internal global
 191:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variables).
 192:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 193:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval : Number of active touches detected (can be 0, 1 or 2).
 194:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 195:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_DetectTouch(uint16_t DeviceAddr)
 196:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 197:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 198:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 199:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read register FT6206_TD_STAT_REG to check number of touches detection */
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch = TS_IO_Read(DeviceAddr, FT6206_TD_STAT_REG);
 201:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 202:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(nbTouch > FT6206_MAX_DETECTABLE_TOUCH)
 204:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 205:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* If invalid number of touch detected, set it to zero */
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****     nbTouch = 0;
 207:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 208:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 209:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Update ft6xx6 driver internal global : current number of active touches */
 210:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchNb = nbTouch;
 211:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 212:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Reset current active touch index on which to work on */
 213:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchIdx = 0;
 214:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 215:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(nbTouch);
 216:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 217:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 218:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch screen X and Y positions values
 220:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Manage multi touch thanks to touch Index global
 221:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variable 'ft6x06_handle.currActiveTouchIdx'.
 222:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 223:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  X: Pointer to X position value
 224:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  Y: Pointer to Y position value
 225:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 226:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 227:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetXY(uint16_t DeviceAddr, uint16_t *X, uint16_t *Y)
 228:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 229:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 230:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 231:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(ft6x06_handle.currActiveTouchIdx < ft6x06_handle.currActiveTouchNb)
 233:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(ft6x06_handle.currActiveTouchIdx)
 235:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 236:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 :    
 237:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_XH_REG; 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 6


 238:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 239:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_XH_REG; 
 241:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 242:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 243:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 244:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 245:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 246:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 247:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read X and Y positions */
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 249:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready X position to caller */
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *X = ((dataxy[0] & FT6206_MSB_MASK) << 8) | (dataxy[1] & FT6206_LSB_MASK);
 252:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 253:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready Y position to caller */
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *Y = ((dataxy[2] & FT6206_MSB_MASK) << 8) | (dataxy[3] & FT6206_LSB_MASK);
 255:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ft6x06_handle.currActiveTouchIdx++;
 257:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 258:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 259:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 260:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 261:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6xx6 device to generate IT on given INT pin
 262:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 263:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6xx6).
 264:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 265:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 266:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_EnableIT(uint16_t DeviceAddr)
 267:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 268:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 269:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 271:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt trigger mode in FT6206_GMODE_REG */
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 273:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 274:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 275:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 276:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6xx6 device to stop generating IT on the given INT pin
 277:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 278:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6xx6).
 279:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 280:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 281:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_DisableIT(uint16_t DeviceAddr)
 282:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 284:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 285:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 286:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt polling mode in FT6206_GMODE_REG */
 287:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 288:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 289:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 290:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 291:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get IT status from FT6xx6 interrupt status registers
 292:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU to know the detailed
 293:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         reason of the interrupt.
 294:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6xx6.
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 7


 295:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 296:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval TS interrupts status : always return 0 here
 297:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 298:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_ITStatus(uint16_t DeviceAddr)
 299:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  52              		.loc 1 299 1 view -0
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56              		@ link register save eliminated.
 300:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Always return 0 as feature not applicable to FT6xx6 */
 301:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return 0;
  57              		.loc 1 301 3 view .LVU3
 302:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  58              		.loc 1 302 1 is_stmt 0 view .LVU4
  59 0000 0020     		movs	r0, #0
  60              	.LVL2:
  61              		.loc 1 302 1 view .LVU5
  62 0002 7047     		bx	lr
  63              		.cfi_endproc
  64              	.LFE8:
  66              		.section	.text.ft6x06_ReadID,"ax",%progbits
  67              		.align	1
  68              		.p2align 2,,3
  69              		.global	ft6x06_ReadID
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	ft6x06_ReadID:
  75              	.LVL3:
  76              	.LFB2:
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
  77              		.loc 1 158 1 is_stmt 1 view -0
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 0
  80              		@ frame_needed = 0, uses_anonymous_args = 0
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
  81              		.loc 1 160 3 view .LVU7
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
  82              		.loc 1 158 1 is_stmt 0 view .LVU8
  83 0000 10B5     		push	{r4, lr}
  84              		.cfi_def_cfa_offset 8
  85              		.cfi_offset 4, -8
  86              		.cfi_offset 14, -4
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
  87              		.loc 1 158 1 view .LVU9
  88 0002 0446     		mov	r4, r0
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
  89              		.loc 1 160 3 view .LVU10
  90 0004 FFF7FEFF 		bl	TS_IO_Init
  91              	.LVL4:
 163:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  92              		.loc 1 163 3 is_stmt 1 view .LVU11
 163:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  93              		.loc 1 163 11 is_stmt 0 view .LVU12
  94 0008 A821     		movs	r1, #168
  95 000a E0B2     		uxtb	r0, r4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 8


  96 000c FFF7FEFF 		bl	TS_IO_Read
  97              	.LVL5:
 164:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  98              		.loc 1 164 1 view .LVU13
  99 0010 80B2     		uxth	r0, r0
 100 0012 10BD     		pop	{r4, pc}
 101              		.cfi_endproc
 102              	.LFE2:
 104              		.section	.text.ft6x06_TS_DetectTouch,"ax",%progbits
 105              		.align	1
 106              		.p2align 2,,3
 107              		.global	ft6x06_TS_DetectTouch
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	ft6x06_TS_DetectTouch:
 113              	.LVL6:
 114              	.LFB4:
 196:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 115              		.loc 1 196 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 8
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 119              		.loc 1 197 3 view .LVU15
 196:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 120              		.loc 1 196 1 is_stmt 0 view .LVU16
 121 0000 10B5     		push	{r4, lr}
 122              		.cfi_def_cfa_offset 8
 123              		.cfi_offset 4, -8
 124              		.cfi_offset 14, -4
 125 0002 82B0     		sub	sp, sp, #8
 126              		.cfi_def_cfa_offset 16
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 127              		.loc 1 197 20 view .LVU17
 128 0004 0024     		movs	r4, #0
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 129              		.loc 1 200 13 view .LVU18
 130 0006 0221     		movs	r1, #2
 131 0008 C0B2     		uxtb	r0, r0
 132              	.LVL7:
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 133              		.loc 1 197 20 view .LVU19
 134 000a 8DF80740 		strb	r4, [sp, #7]
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 135              		.loc 1 200 3 is_stmt 1 view .LVU20
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 136              		.loc 1 200 13 is_stmt 0 view .LVU21
 137 000e FFF7FEFF 		bl	TS_IO_Read
 138              	.LVL8:
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 139              		.loc 1 200 11 view .LVU22
 140 0012 8DF80700 		strb	r0, [sp, #7]
 201:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 141              		.loc 1 201 3 is_stmt 1 view .LVU23
 201:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 142              		.loc 1 201 11 is_stmt 0 view .LVU24
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 9


 143 0016 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 144 001a 03F00F03 		and	r3, r3, #15
 145 001e 8DF80730 		strb	r3, [sp, #7]
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 146              		.loc 1 203 3 is_stmt 1 view .LVU25
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 147              		.loc 1 203 14 is_stmt 0 view .LVU26
 148 0022 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 149              		.loc 1 203 5 view .LVU27
 150 0026 022B     		cmp	r3, #2
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 151              		.loc 1 206 5 is_stmt 1 view .LVU28
 210:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 152              		.loc 1 210 3 view .LVU29
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 153              		.loc 1 206 13 is_stmt 0 view .LVU30
 154 0028 88BF     		it	hi
 155 002a 8DF80740 		strbhi	r4, [sp, #7]
 210:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 156              		.loc 1 210 35 view .LVU31
 157 002e 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 158 0032 044B     		ldr	r3, .L9
 215:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 159              		.loc 1 215 9 view .LVU32
 160 0034 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 210:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 161              		.loc 1 210 35 view .LVU33
 162 0038 5970     		strb	r1, [r3, #1]
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 163              		.loc 1 213 3 is_stmt 1 view .LVU34
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 164              		.loc 1 213 36 is_stmt 0 view .LVU35
 165 003a 0022     		movs	r2, #0
 166 003c 9A70     		strb	r2, [r3, #2]
 215:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 167              		.loc 1 215 3 is_stmt 1 view .LVU36
 216:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 168              		.loc 1 216 1 is_stmt 0 view .LVU37
 169 003e 02B0     		add	sp, sp, #8
 170              		.cfi_def_cfa_offset 8
 171              		@ sp needed
 172 0040 10BD     		pop	{r4, pc}
 173              	.L10:
 174 0042 00BF     		.align	2
 175              	.L9:
 176 0044 00000000 		.word	.LANCHOR0
 177              		.cfi_endproc
 178              	.LFE4:
 180              		.section	.text.ft6x06_TS_GetXY,"ax",%progbits
 181              		.align	1
 182              		.p2align 2,,3
 183              		.global	ft6x06_TS_GetXY
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	ft6x06_TS_GetXY:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 10


 189              	.LVL9:
 190              	.LFB5:
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 191              		.loc 1 228 1 is_stmt 1 view -0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 8
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 229:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 195              		.loc 1 229 3 view .LVU39
 230:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 196              		.loc 1 230 3 view .LVU40
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 197              		.loc 1 232 3 view .LVU41
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 198              		.loc 1 228 1 is_stmt 0 view .LVU42
 199 0000 70B5     		push	{r4, r5, r6, lr}
 200              		.cfi_def_cfa_offset 16
 201              		.cfi_offset 4, -16
 202              		.cfi_offset 5, -12
 203              		.cfi_offset 6, -8
 204              		.cfi_offset 14, -4
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 205              		.loc 1 232 19 view .LVU43
 206 0002 164C     		ldr	r4, .L17
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 207              		.loc 1 228 1 view .LVU44
 208 0004 1546     		mov	r5, r2
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 209              		.loc 1 232 19 view .LVU45
 210 0006 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 211              		.loc 1 232 5 view .LVU46
 212 0008 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 213              	.LVL10:
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 214              		.loc 1 232 5 view .LVU47
 215 000a 9A42     		cmp	r2, r3
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 216              		.loc 1 228 1 view .LVU48
 217 000c 82B0     		sub	sp, sp, #8
 218              		.cfi_def_cfa_offset 24
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 219              		.loc 1 232 5 view .LVU49
 220 000e 20D9     		bls	.L11
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 221              		.loc 1 234 5 is_stmt 1 view .LVU50
 222 0010 0E46     		mov	r6, r1
 223 0012 03B3     		cbz	r3, .L14
 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 224              		.loc 1 240 18 is_stmt 0 view .LVU51
 225 0014 012B     		cmp	r3, #1
 226 0016 14BF     		ite	ne
 227 0018 0021     		movne	r1, #0
 228              	.LVL11:
 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 229              		.loc 1 240 18 view .LVU52
 230 001a 0921     		moveq	r1, #9
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 11


 231              	.L13:
 232              	.LVL12:
 248:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 233              		.loc 1 248 5 is_stmt 1 view .LVU53
 234 001c 0423     		movs	r3, #4
 235 001e 0DEB0302 		add	r2, sp, r3
 236 0022 C0B2     		uxtb	r0, r0
 237              	.LVL13:
 248:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 238              		.loc 1 248 5 is_stmt 0 view .LVU54
 239 0024 FFF7FEFF 		bl	TS_IO_ReadMultiple
 240              	.LVL14:
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 241              		.loc 1 251 5 is_stmt 1 view .LVU55
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 242              		.loc 1 251 41 is_stmt 0 view .LVU56
 243 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 244              		.loc 1 251 56 view .LVU57
 245 002c 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 246              		.loc 1 254 56 view .LVU58
 247 0030 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 248              		.loc 1 251 41 view .LVU59
 249 0034 1B02     		lsls	r3, r3, #8
 250 0036 03F47063 		and	r3, r3, #3840
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 251              		.loc 1 251 47 view .LVU60
 252 003a 1A43     		orrs	r2, r2, r3
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 253              		.loc 1 254 41 view .LVU61
 254 003c 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 255              		.loc 1 251 8 view .LVU62
 256 0040 3280     		strh	r2, [r6]	@ movhi
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 257              		.loc 1 254 5 is_stmt 1 view .LVU63
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 258              		.loc 1 254 41 is_stmt 0 view .LVU64
 259 0042 1B02     		lsls	r3, r3, #8
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 260              		.loc 1 256 37 view .LVU65
 261 0044 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 262              		.loc 1 254 41 view .LVU66
 263 0046 03F47063 		and	r3, r3, #3840
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 264              		.loc 1 254 47 view .LVU67
 265 004a 1943     		orrs	r1, r1, r3
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 266              		.loc 1 256 37 view .LVU68
 267 004c 531C     		adds	r3, r2, #1
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 268              		.loc 1 254 8 view .LVU69
 269 004e 2980     		strh	r1, [r5]	@ movhi
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 12


 270              		.loc 1 256 5 is_stmt 1 view .LVU70
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 271              		.loc 1 256 37 is_stmt 0 view .LVU71
 272 0050 A370     		strb	r3, [r4, #2]
 273              	.LVL15:
 274              	.L11:
 258:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 275              		.loc 1 258 1 view .LVU72
 276 0052 02B0     		add	sp, sp, #8
 277              		.cfi_remember_state
 278              		.cfi_def_cfa_offset 16
 279              		@ sp needed
 280 0054 70BD     		pop	{r4, r5, r6, pc}
 281              	.LVL16:
 282              	.L14:
 283              		.cfi_restore_state
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 284              		.loc 1 234 5 view .LVU73
 285 0056 0321     		movs	r1, #3
 286              	.LVL17:
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 287              		.loc 1 234 5 view .LVU74
 288 0058 E0E7     		b	.L13
 289              	.L18:
 290 005a 00BF     		.align	2
 291              	.L17:
 292 005c 00000000 		.word	.LANCHOR0
 293              		.cfi_endproc
 294              	.LFE5:
 296              		.section	.text.ft6x06_TS_EnableIT,"ax",%progbits
 297              		.align	1
 298              		.p2align 2,,3
 299              		.global	ft6x06_TS_EnableIT
 300              		.syntax unified
 301              		.thumb
 302              		.thumb_func
 304              	ft6x06_TS_EnableIT:
 305              	.LVL18:
 306              	.LFB6:
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 307              		.loc 1 267 1 is_stmt 1 view -0
 308              		.cfi_startproc
 309              		@ args = 0, pretend = 0, frame = 0
 310              		@ frame_needed = 0, uses_anonymous_args = 0
 311              		@ link register save eliminated.
 268:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 312              		.loc 1 268 3 view .LVU76
 269:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 313              		.loc 1 269 3 view .LVU77
 272:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 314              		.loc 1 272 3 view .LVU78
 315 0000 0122     		movs	r2, #1
 316 0002 A421     		movs	r1, #164
 317 0004 C0B2     		uxtb	r0, r0
 318              	.LVL19:
 272:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 319              		.loc 1 272 3 is_stmt 0 view .LVU79
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 13


 320 0006 FFF7FEBF 		b	TS_IO_Write
 321              	.LVL20:
 322              		.cfi_endproc
 323              	.LFE6:
 325 000a 00BF     		.section	.text.ft6x06_TS_Start,"ax",%progbits
 326              		.align	1
 327              		.p2align 2,,3
 328              		.global	ft6x06_TS_Start
 329              		.syntax unified
 330              		.thumb
 331              		.thumb_func
 333              	ft6x06_TS_Start:
 334              	.LVL21:
 335              	.LFB3:
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 336              		.loc 1 174 1 is_stmt 1 view -0
 337              		.cfi_startproc
 338              		@ args = 0, pretend = 0, frame = 0
 339              		@ frame_needed = 0, uses_anonymous_args = 0
 340              		@ link register save eliminated.
 181:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 341              		.loc 1 181 3 view .LVU81
 185:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 342              		.loc 1 185 3 view .LVU82
 343              	.LBB16:
 344              	.LBI16:
 281:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 345              		.loc 1 281 6 view .LVU83
 346              	.LBB17:
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 347              		.loc 1 283 3 view .LVU84
 284:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 348              		.loc 1 284 3 view .LVU85
 287:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 349              		.loc 1 287 3 view .LVU86
 350 0000 0022     		movs	r2, #0
 351 0002 A421     		movs	r1, #164
 352 0004 C0B2     		uxtb	r0, r0
 353              	.LVL22:
 287:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 354              		.loc 1 287 3 is_stmt 0 view .LVU87
 355 0006 FFF7FEBF 		b	TS_IO_Write
 356              	.LVL23:
 357              	.LBE17:
 358              	.LBE16:
 359              		.cfi_endproc
 360              	.LFE3:
 362 000a 00BF     		.section	.text.ft6x06_Init,"ax",%progbits
 363              		.align	1
 364              		.p2align 2,,3
 365              		.global	ft6x06_Init
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 370              	ft6x06_Init:
 371              	.LVL24:
 372              	.LFB0:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 14


 115:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 373              		.loc 1 115 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 0
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377              		@ link register save eliminated.
 116:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 378              		.loc 1 116 3 view .LVU89
 117:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 379              		.loc 1 117 3 view .LVU90
 120:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 380              		.loc 1 120 3 view .LVU91
 381              	.LBB28:
 382              	.LBB29:
 303:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 304:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 305:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Clear IT status in FT6xx6 interrupt status clear registers
 306:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU.
 307:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6xx6.
 308:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 309:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 310:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 311:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_ClearIT(uint16_t DeviceAddr)
 312:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 313:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing to be done here for FT6xx6 */
 314:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 315:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 316:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**** NEW FEATURES enabled when Multi-touch support is enabled ****/
 317:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 318:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 319:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 320:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the last touch gesture identification (zoom, move up/down...).
 321:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 322:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pGestureId : Pointer to get last touch gesture Identification.
 323:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 324:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 325:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetGestureID(uint16_t DeviceAddr, uint32_t * pGestureId)
 326:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 327:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData = 0;
 328:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 329:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_GEST_ID_REG);
 330:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 331:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * pGestureId = ucReadData;
 332:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 333:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 334:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 335:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch detailed informations on touch number 'touchIdx' (0..1)
 336:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         This touch detailed information contains :
 337:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - weight that was applied to this touch
 338:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - sub-area of the touch in the touch panel
 339:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - event of linked to the touch (press down, lift up, ...)
 340:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 341:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  touchIdx : Passed index of the touch (0..1) on which we want to get the
 342:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *                    detailed information.
 343:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pWeight : Pointer to to get the weight information of 'touchIdx'.
 344:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pArea   : Pointer to to get the sub-area information of 'touchIdx'.
 345:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pEvent  : Pointer to to get the event information of 'touchIdx'.
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 15


 346:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 347:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 348:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 349:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetTouchInfo(uint16_t   DeviceAddr,
 350:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t   touchIdx,
 351:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pWeight,
 352:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pArea,
 353:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pEvent)
 354:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 355:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 356:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t dataxy[3];
 357:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 358:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(touchIdx < ft6x06_handle.currActiveTouchNb)
 359:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 360:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(touchIdx)
 361:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 362:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 : 
 363:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_WEIGHT_REG;
 364:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 365:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 366:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
 367:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_WEIGHT_REG;
 368:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 369:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 370:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 371:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 372:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 373:Drivers/BSP/Components/ft6x06/ft6x06.c ****     } /* end switch(touchIdx) */
 374:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 375:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read weight, area and Event Id of touch index */
 376:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 377:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 378:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return weight of touch index */
 379:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pWeight = (dataxy[0] & FT6206_TOUCH_WEIGHT_MASK) >> FT6206_TOUCH_WEIGHT_SHIFT;
 380:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return area of touch index */
 381:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pArea = (dataxy[1] & FT6206_TOUCH_AREA_MASK) >> FT6206_TOUCH_AREA_SHIFT;
 382:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return Event Id  of touch index */
 383:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pEvent = (dataxy[2] & FT6206_TOUCH_EVT_FLAG_MASK) >> FT6206_TOUCH_EVT_FLAG_SHIFT;
 384:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 385:Drivers/BSP/Components/ft6x06/ft6x06.c ****   } /* of if(touchIdx < ft6x06_handle.currActiveTouchNb) */
 386:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 387:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 388:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 389:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 390:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 391:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 392:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
 393:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
 394:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 395:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 396:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr)
 397:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 398:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t nbAttempt = 0;
 399:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData;
 400:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t regValue;
 401:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 402:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t bEndCalibration = 0;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 16


 403:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 404:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* >> Calibration sequence start */
 405:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 406:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Switch FT6xx6 back to factory mode to calibrate */
 407:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_DEV_MODE_FACTORY & FT6206_DEV_MODE_MASK) << FT6206_DEV_MODE_SHIFT;
 408:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_DEV_MODE_REG, regValue); /* 0x40 */
 409:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 410:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read back the same register FT6206_DEV_MODE_REG */
 411:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 412:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 413:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 414:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(((ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_SHIFT) != F
 415:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 416:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return error to caller */
 417:Drivers/BSP/Components/ft6x06/ft6x06.c ****     return(FT6206_STATUS_NOT_OK);
 418:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 419:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 420:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Start calibration command */
 421:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_TD_STAT_REG, 0x04);
 422:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 423:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 424:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* 100 attempts to wait switch from factory mode (calibration) to working mode */
 425:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for (nbAttempt=0; ((nbAttempt < 100) && (!bEndCalibration)) ; nbAttempt++)
 426:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 427:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 428:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = (ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_
 429:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ucReadData == FT6206_DEV_MODE_WORKING)
 430:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 431:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Auto Switch to FT6206_DEV_MODE_WORKING : means calibration have ended */
 432:Drivers/BSP/Components/ft6x06/ft6x06.c ****       bEndCalibration = 1; /* exit for loop */
 433:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 434:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 435:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_Delay(200); /* Wait 200 ms */
 436:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 437:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 438:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Calibration sequence end << */
 439:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 440:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 441:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 442:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
 443:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 444:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 445:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
 446:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
 447:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 448:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 449:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr)
 450:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 451:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 452:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 453:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing special to be done for FT6xx6 */
 454:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 455:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 456:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 457:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 458:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 459:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Check if the device instance of the selected address is already registered
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 17


 460:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         and return its index  
 461:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 462:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Index of the device instance if registered, 0xFF if not.
 463:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 464:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr)
 465:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 466:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t idx = 0;
 467:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 468:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check all the registered instances */
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for(idx = 0; idx < FT6x06_MAX_INSTANCE ; idx ++)
 470:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 471:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ft6x06[idx] == DeviceAddr)
 383              		.loc 1 471 14 is_stmt 0 view .LVU92
 384 0000 064A     		ldr	r2, .L26
 385 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 386              	.LVL25:
 387              		.loc 1 471 14 view .LVU93
 388              	.LBE29:
 389              	.LBI28:
 464:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 390              		.loc 1 464 16 is_stmt 1 view .LVU94
 391              	.LBB30:
 466:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 392              		.loc 1 466 3 view .LVU95
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 393              		.loc 1 469 3 view .LVU96
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 394              		.loc 1 469 20 view .LVU97
 395              		.loc 1 471 5 view .LVU98
 396              		.loc 1 471 7 is_stmt 0 view .LVU99
 397 0004 9842     		cmp	r0, r3
 398 0006 04D0     		beq	.L21
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 399              		.loc 1 469 48 is_stmt 1 view .LVU100
 400              	.LVL26:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 401              		.loc 1 469 20 view .LVU101
 402              		.loc 1 471 5 view .LVU102
 403              		.loc 1 471 14 is_stmt 0 view .LVU103
 404 0008 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 405              		.loc 1 471 7 view .LVU104
 406 000a 8842     		cmp	r0, r1
 407 000c 01D0     		beq	.L21
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 408              		.loc 1 469 48 is_stmt 1 view .LVU105
 409              	.LVL27:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 410              		.loc 1 469 20 view .LVU106
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 411              		.loc 1 469 20 is_stmt 0 view .LVU107
 412              	.LBE30:
 413              	.LBE28:
 123:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 414              		.loc 1 123 3 is_stmt 1 view .LVU108
 415              	.LBB31:
 416              	.LBI31:
 114:Drivers/BSP/Components/ft6x06/ft6x06.c **** {  
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 18


 417              		.loc 1 114 6 view .LVU109
 418              	.LBB32:
 419              	.LBB33:
 420              	.LBB34:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 421              		.loc 1 469 20 view .LVU110
 422              		.loc 1 471 5 view .LVU111
 423              		.loc 1 471 7 is_stmt 0 view .LVU112
 424 000e 13B1     		cbz	r3, .L23
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 425              		.loc 1 469 48 is_stmt 1 view .LVU113
 426              	.LVL28:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 427              		.loc 1 469 20 view .LVU114
 428              		.loc 1 471 5 view .LVU115
 429              		.loc 1 471 7 is_stmt 0 view .LVU116
 430 0010 01B1     		cbz	r1, .L25
 431              	.LVL29:
 432              	.L21:
 433              		.loc 1 471 7 view .LVU117
 434              	.LBE34:
 435              	.LBE33:
 436              	.LBE32:
 437              	.LBE31:
 137:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 438              		.loc 1 137 1 view .LVU118
 439 0012 7047     		bx	lr
 440              	.LVL30:
 441              	.L25:
 442              	.LBB38:
 443              	.LBB37:
 444              	.LBB36:
 445              	.LBB35:
 446              		.loc 1 471 7 view .LVU119
 447 0014 0123     		movs	r3, #1
 448              	.LVL31:
 449              	.L23:
 450              		.loc 1 471 7 view .LVU120
 451              	.LBE35:
 452              	.LBE36:
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 453              		.loc 1 131 7 is_stmt 1 view .LVU121
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 454              		.loc 1 131 21 is_stmt 0 view .LVU122
 455 0016 D054     		strb	r0, [r2, r3]
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 456              		.loc 1 134 7 is_stmt 1 view .LVU123
 457 0018 FFF7FEBF 		b	TS_IO_Init
 458              	.LVL32:
 459              	.L27:
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 460              		.loc 1 134 7 is_stmt 0 view .LVU124
 461              		.align	2
 462              	.L26:
 463 001c 00000000 		.word	.LANCHOR1
 464              	.LBE37:
 465              	.LBE38:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 19


 466              		.cfi_endproc
 467              	.LFE0:
 469              		.section	.text.ft6x06_TS_ClearIT,"ax",%progbits
 470              		.align	1
 471              		.p2align 2,,3
 472              		.global	ft6x06_TS_ClearIT
 473              		.syntax unified
 474              		.thumb
 475              		.thumb_func
 477              	ft6x06_TS_ClearIT:
 478              	.LFB14:
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		@ link register save eliminated.
 483 0000 7047     		bx	lr
 484              		.cfi_endproc
 485              	.LFE14:
 487 0002 00BF     		.section	.text.ft6x06_TS_DisableIT,"ax",%progbits
 488              		.align	1
 489              		.p2align 2,,3
 490              		.global	ft6x06_TS_DisableIT
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 495              	ft6x06_TS_DisableIT:
 496              	.LFB16:
 497              		.cfi_startproc
 498              		@ args = 0, pretend = 0, frame = 0
 499              		@ frame_needed = 0, uses_anonymous_args = 0
 500              		@ link register save eliminated.
 501 0000 0022     		movs	r2, #0
 502 0002 A421     		movs	r1, #164
 503 0004 C0B2     		uxtb	r0, r0
 504 0006 FFF7FEBF 		b	TS_IO_Write
 505              		.cfi_endproc
 506              	.LFE16:
 508              		.global	ft6x06
 509              		.global	ft6x06_ts_drv
 510 000a 00BF     		.section	.bss.ft6x06,"aw",%nobits
 511              		.align	2
 512              		.set	.LANCHOR1,. + 0
 515              	ft6x06:
 516 0000 0000     		.space	2
 517              		.section	.bss.ft6x06_handle,"aw",%nobits
 518              		.align	2
 519              		.set	.LANCHOR0,. + 0
 522              	ft6x06_handle:
 523 0000 000000   		.space	3
 524              		.section	.data.ft6x06_ts_drv,"aw"
 525              		.align	2
 528              	ft6x06_ts_drv:
 529 0000 00000000 		.word	ft6x06_Init
 530 0004 00000000 		.word	ft6x06_ReadID
 531 0008 00000000 		.word	ft6x06_Reset
 532 000c 00000000 		.word	ft6x06_TS_Start
 533 0010 00000000 		.word	ft6x06_TS_DetectTouch
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 20


 534 0014 00000000 		.word	ft6x06_TS_GetXY
 535 0018 00000000 		.word	ft6x06_TS_EnableIT
 536 001c 00000000 		.word	ft6x06_TS_ClearIT
 537 0020 00000000 		.word	ft6x06_TS_ITStatus
 538 0024 00000000 		.word	ft6x06_TS_DisableIT
 539              		.text
 540              	.Letext0:
 541              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 542              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 543              		.file 4 "Drivers/BSP/Components/ft6x06/../Common/ts.h"
 544              		.file 5 "Drivers/BSP/Components/ft6x06/ft6x06.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ft6x06.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:20     .text.ft6x06_Reset:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:27     .text.ft6x06_Reset:0000000000000000 ft6x06_Reset
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:42     .text.ft6x06_TS_ITStatus:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:49     .text.ft6x06_TS_ITStatus:0000000000000000 ft6x06_TS_ITStatus
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:67     .text.ft6x06_ReadID:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:74     .text.ft6x06_ReadID:0000000000000000 ft6x06_ReadID
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:105    .text.ft6x06_TS_DetectTouch:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:112    .text.ft6x06_TS_DetectTouch:0000000000000000 ft6x06_TS_DetectTouch
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:176    .text.ft6x06_TS_DetectTouch:0000000000000044 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:181    .text.ft6x06_TS_GetXY:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:188    .text.ft6x06_TS_GetXY:0000000000000000 ft6x06_TS_GetXY
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:292    .text.ft6x06_TS_GetXY:000000000000005c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:297    .text.ft6x06_TS_EnableIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:304    .text.ft6x06_TS_EnableIT:0000000000000000 ft6x06_TS_EnableIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:326    .text.ft6x06_TS_Start:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:333    .text.ft6x06_TS_Start:0000000000000000 ft6x06_TS_Start
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:363    .text.ft6x06_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:370    .text.ft6x06_Init:0000000000000000 ft6x06_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:463    .text.ft6x06_Init:000000000000001c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:470    .text.ft6x06_TS_ClearIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:477    .text.ft6x06_TS_ClearIT:0000000000000000 ft6x06_TS_ClearIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:488    .text.ft6x06_TS_DisableIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:495    .text.ft6x06_TS_DisableIT:0000000000000000 ft6x06_TS_DisableIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:515    .bss.ft6x06:0000000000000000 ft6x06
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:528    .data.ft6x06_ts_drv:0000000000000000 ft6x06_ts_drv
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:511    .bss.ft6x06:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:518    .bss.ft6x06_handle:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:522    .bss.ft6x06_handle:0000000000000000 ft6x06_handle
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4yfP5x.s:525    .data.ft6x06_ts_drv:0000000000000000 $d

UNDEFINED SYMBOLS
TS_IO_Init
TS_IO_Read
TS_IO_ReadMultiple
TS_IO_Write
