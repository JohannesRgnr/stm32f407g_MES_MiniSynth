ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ft6x06.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.ft6x06_Reset,"ax",%progbits
  20              		.align	1
  21              		.global	ft6x06_Reset
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ft6x06_Reset:
  27              	.LVL0:
  28              	.LFB1:
  29              		.file 1 "Drivers/BSP/Components/ft6x06/ft6x06.c"
   1:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
   2:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   3:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @file    ft6x06.c
   4:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @author  MCD Application Team
   5:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief   This file provides a set of functions needed to manage the FT6X06
   6:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *          IO Expander devices.
   7:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   8:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @attention
   9:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  10:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  11:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * All rights reserved.</center></h2>
  12:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  13:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  14:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * the "License"; You may not use this file except in compliance with the
  15:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * License. You may obtain a copy of the License at:
  16:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *                        opensource.org/licenses/BSD-3-Clause
  17:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  18:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
  19:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  20:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  21:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Includes ------------------------------------------------------------------*/
  22:Drivers/BSP/Components/ft6x06/ft6x06.c **** #include "ft6x06.h"
  23:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  24:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup BSP
  25:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  26:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  27:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  28:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup Component
  29:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 2


  30:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  31:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  32:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6
  33:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  34:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  35:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  36:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private typedef -----------------------------------------------------------*/
  37:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  38:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6_Private_Defines FT6XX6 Private Defines
  39:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  40:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  41:Drivers/BSP/Components/ft6x06/ft6x06.c **** #define FT6x06_MAX_INSTANCE  2
  42:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  43:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  44:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  45:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  46:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private macro -------------------------------------------------------------*/
  47:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  48:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6XX6_Private_Variables FT6XX6 Private Variables
  49:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  50:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  51:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  52:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Touch screen driver structure initialization */
  53:Drivers/BSP/Components/ft6x06/ft6x06.c **** TS_DrvTypeDef ft6x06_ts_drv =
  54:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  55:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Init,
  56:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_ReadID,
  57:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Reset,
  58:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  59:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Start,
  60:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DetectTouch,
  61:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_GetXY,
  62:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  63:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_EnableIT,
  64:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ClearIT,
  65:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ITStatus,
  66:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT
  67:Drivers/BSP/Components/ft6x06/ft6x06.c **** };
  68:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  69:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* ft6xx6 instances by address */
  70:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06[FT6x06_MAX_INSTANCE] = {0};
  71:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  72:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Global ft6xx6 handle */
  73:Drivers/BSP/Components/ft6x06/ft6x06.c **** static ft6x06_handle_TypeDef ft6x06_handle = { FT6206_I2C_NOT_INITIALIZED, 0, 0};
  74:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  75:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  76:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  77:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  78:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  79:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6xx6_Private_Function_Prototypes ft6xx6 Private Function Prototypes
  80:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  81:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  82:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr);
  83:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private functions prototypes-----------------------------------------------*/
  84:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
  85:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  86:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 3


  87:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
  88:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
  89:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  90:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr);
  91:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
  92:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  93:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  94:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
  95:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
  96:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
  97:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  98:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr);
  99:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 100:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 101:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
 102:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 103:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 104:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6xx6_Private_Functions ft6xx6 Private Functions
 105:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
 106:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 107:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 108:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 109:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Initialize the ft6xx6 communication bus
 110:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         from MCU to FT6xx6 : ie I2C channel initialization (if required).
 111:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 112:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 113:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 114:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Init(uint16_t DeviceAddr)
 115:Drivers/BSP/Components/ft6x06/ft6x06.c **** {  
 116:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 117:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 118:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 119:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check if device instance already exists */
 120:Drivers/BSP/Components/ft6x06/ft6x06.c ****   instance = ft6x06_GetInstance(DeviceAddr);
 121:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 122:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* To prevent double initialization */
 123:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(instance == 0xFF)
 124:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 125:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Look for empty instance */
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****     empty = ft6x06_GetInstance(0);
 127:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 128:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(empty < FT6x06_MAX_INSTANCE)
 129:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 130:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Register the current device instance */
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       ft6x06[empty] = DeviceAddr;
 132:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 133:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Initialize IO BUS layer */
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****       TS_IO_Init(); 
 135:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 136:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 137:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 138:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 139:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 140:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Software Reset the ft6xx6.
 141:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : Not applicable to FT6xx6.
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 143:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 4


 144:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 145:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Reset(uint16_t DeviceAddr)
 146:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  30              		.loc 1 146 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
 147:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Do nothing */
 148:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* No software reset sequence available in FT6xx6 IC */
 149:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  35              		.loc 1 149 1 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
  38              	.LFE1:
  40              		.section	.text.ft6x06_TS_ITStatus,"ax",%progbits
  41              		.align	1
  42              		.global	ft6x06_TS_ITStatus
  43              		.syntax unified
  44              		.thumb
  45              		.thumb_func
  47              	ft6x06_TS_ITStatus:
  48              	.LVL1:
  49              	.LFB8:
 150:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 151:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 152:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Read the ft6xx6 device ID, pre initialize I2C in case of need to be
 153:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         able to read the FT6xx6 device ID, and verify this is a FT6xx6.
 154:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: I2C FT6xx6 Slave address.
 155:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval The Device ID (two bytes).
 156:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 157:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint16_t ft6x06_ReadID(uint16_t DeviceAddr)
 158:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 159:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Init();
 161:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 162:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Return the device ID value */
 163:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return (TS_IO_Read(DeviceAddr, FT6206_CHIP_ID_REG));
 164:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 165:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 166:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 167:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configures the touch Screen IC device to start detecting touches
 168:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         It goes through an internal calibration process (Hw calibration sequence of
 169:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         the touch screen).
 170:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address).
 171:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 172:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 173:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_Start(uint16_t DeviceAddr)
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 175:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 176:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Hw Calibration sequence start : should be done once after each power up */
 177:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* This is called internal calibration of the touch screen                 */
 178:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Calibration(DeviceAddr);
 179:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif
 180:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Minimum static configuration of FT6xx6 */
 181:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Configure(DeviceAddr);
 182:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 5


 183:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* By default set FT6xx6 IC in Polling mode : no INT generation on FT6xx6 for new touch available
 184:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Note TS_INT is active low                                                                     
 185:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT(DeviceAddr);
 186:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 187:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 188:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 189:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Return if there is touches detected or not.
 190:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Try to detect new touches and forget the old ones (reset internal global
 191:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variables).
 192:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 193:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval : Number of active touches detected (can be 0, 1 or 2).
 194:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 195:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_DetectTouch(uint16_t DeviceAddr)
 196:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 197:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 198:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 199:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read register FT6206_TD_STAT_REG to check number of touches detection */
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch = TS_IO_Read(DeviceAddr, FT6206_TD_STAT_REG);
 201:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 202:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(nbTouch > FT6206_MAX_DETECTABLE_TOUCH)
 204:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 205:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* If invalid number of touch detected, set it to zero */
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****     nbTouch = 0;
 207:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 208:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 209:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Update ft6xx6 driver internal global : current number of active touches */
 210:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchNb = nbTouch;
 211:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 212:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Reset current active touch index on which to work on */
 213:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchIdx = 0;
 214:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 215:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(nbTouch);
 216:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 217:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 218:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch screen X and Y positions values
 220:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Manage multi touch thanks to touch Index global
 221:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variable 'ft6x06_handle.currActiveTouchIdx'.
 222:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 223:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  X: Pointer to X position value
 224:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  Y: Pointer to Y position value
 225:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 226:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 227:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetXY(uint16_t DeviceAddr, uint16_t *X, uint16_t *Y)
 228:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 229:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 230:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 231:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(ft6x06_handle.currActiveTouchIdx < ft6x06_handle.currActiveTouchNb)
 233:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(ft6x06_handle.currActiveTouchIdx)
 235:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 236:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 :    
 237:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_XH_REG; 
 238:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 239:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 6


 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_XH_REG; 
 241:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 242:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 243:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 244:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 245:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 246:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 247:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read X and Y positions */
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 249:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready X position to caller */
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *X = ((dataxy[0] & FT6206_MSB_MASK) << 8) | (dataxy[1] & FT6206_LSB_MASK);
 252:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 253:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready Y position to caller */
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *Y = ((dataxy[2] & FT6206_MSB_MASK) << 8) | (dataxy[3] & FT6206_LSB_MASK);
 255:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ft6x06_handle.currActiveTouchIdx++;
 257:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 258:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 259:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 260:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 261:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6xx6 device to generate IT on given INT pin
 262:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 263:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6xx6).
 264:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 265:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 266:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_EnableIT(uint16_t DeviceAddr)
 267:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 268:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 269:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 271:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt trigger mode in FT6206_GMODE_REG */
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 273:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 274:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 275:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 276:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6xx6 device to stop generating IT on the given INT pin
 277:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 278:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6xx6).
 279:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 280:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 281:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_DisableIT(uint16_t DeviceAddr)
 282:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 284:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 285:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 286:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt polling mode in FT6206_GMODE_REG */
 287:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 288:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 289:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 290:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 291:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get IT status from FT6xx6 interrupt status registers
 292:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU to know the detailed
 293:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         reason of the interrupt.
 294:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6xx6.
 295:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 296:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval TS interrupts status : always return 0 here
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 7


 297:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 298:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_ITStatus(uint16_t DeviceAddr)
 299:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  50              		.loc 1 299 1 view -0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54              		@ link register save eliminated.
 300:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Always return 0 as feature not applicable to FT6xx6 */
 301:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return 0;
  55              		.loc 1 301 3 view .LVU3
 302:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  56              		.loc 1 302 1 is_stmt 0 view .LVU4
  57 0000 0020     		movs	r0, #0
  58              	.LVL2:
  59              		.loc 1 302 1 view .LVU5
  60 0002 7047     		bx	lr
  61              		.cfi_endproc
  62              	.LFE8:
  64              		.section	.text.ft6x06_TS_ClearIT,"ax",%progbits
  65              		.align	1
  66              		.global	ft6x06_TS_ClearIT
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  71              	ft6x06_TS_ClearIT:
  72              	.LVL3:
  73              	.LFB9:
 303:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 304:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 305:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Clear IT status in FT6xx6 interrupt status clear registers
 306:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU.
 307:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6xx6.
 308:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 309:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 310:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 311:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_ClearIT(uint16_t DeviceAddr)
 312:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  74              		.loc 1 312 1 is_stmt 1 view -0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		@ link register save eliminated.
 313:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing to be done here for FT6xx6 */
 314:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  79              		.loc 1 314 1 view .LVU7
  80 0000 7047     		bx	lr
  81              		.cfi_endproc
  82              	.LFE9:
  84              		.section	.text.ft6x06_GetInstance,"ax",%progbits
  85              		.align	1
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  90              	ft6x06_GetInstance:
  91              	.LVL4:
  92              	.LFB11:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 8


 315:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 316:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**** NEW FEATURES enabled when Multi-touch support is enabled ****/
 317:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 318:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 319:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 320:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the last touch gesture identification (zoom, move up/down...).
 321:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 322:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pGestureId : Pointer to get last touch gesture Identification.
 323:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 324:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 325:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetGestureID(uint16_t DeviceAddr, uint32_t * pGestureId)
 326:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 327:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData = 0;
 328:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 329:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_GEST_ID_REG);
 330:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 331:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * pGestureId = ucReadData;
 332:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 333:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 334:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 335:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch detailed informations on touch number 'touchIdx' (0..1)
 336:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         This touch detailed information contains :
 337:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - weight that was applied to this touch
 338:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - sub-area of the touch in the touch panel
 339:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - event of linked to the touch (press down, lift up, ...)
 340:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6xx6).
 341:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  touchIdx : Passed index of the touch (0..1) on which we want to get the
 342:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *                    detailed information.
 343:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pWeight : Pointer to to get the weight information of 'touchIdx'.
 344:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pArea   : Pointer to to get the sub-area information of 'touchIdx'.
 345:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pEvent  : Pointer to to get the event information of 'touchIdx'.
 346:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 347:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 348:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 349:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetTouchInfo(uint16_t   DeviceAddr,
 350:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t   touchIdx,
 351:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pWeight,
 352:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pArea,
 353:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pEvent)
 354:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 355:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 356:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t dataxy[3];
 357:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 358:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(touchIdx < ft6x06_handle.currActiveTouchNb)
 359:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 360:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(touchIdx)
 361:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 362:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 : 
 363:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_WEIGHT_REG;
 364:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 365:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 366:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
 367:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_WEIGHT_REG;
 368:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 369:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 370:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 371:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 9


 372:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 373:Drivers/BSP/Components/ft6x06/ft6x06.c ****     } /* end switch(touchIdx) */
 374:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 375:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read weight, area and Event Id of touch index */
 376:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 377:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 378:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return weight of touch index */
 379:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pWeight = (dataxy[0] & FT6206_TOUCH_WEIGHT_MASK) >> FT6206_TOUCH_WEIGHT_SHIFT;
 380:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return area of touch index */
 381:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pArea = (dataxy[1] & FT6206_TOUCH_AREA_MASK) >> FT6206_TOUCH_AREA_SHIFT;
 382:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return Event Id  of touch index */
 383:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pEvent = (dataxy[2] & FT6206_TOUCH_EVT_FLAG_MASK) >> FT6206_TOUCH_EVT_FLAG_SHIFT;
 384:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 385:Drivers/BSP/Components/ft6x06/ft6x06.c ****   } /* of if(touchIdx < ft6x06_handle.currActiveTouchNb) */
 386:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 387:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 388:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 389:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 390:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 391:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 392:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
 393:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
 394:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 395:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 396:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr)
 397:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 398:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t nbAttempt = 0;
 399:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData;
 400:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t regValue;
 401:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 402:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t bEndCalibration = 0;
 403:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 404:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* >> Calibration sequence start */
 405:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 406:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Switch FT6xx6 back to factory mode to calibrate */
 407:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_DEV_MODE_FACTORY & FT6206_DEV_MODE_MASK) << FT6206_DEV_MODE_SHIFT;
 408:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_DEV_MODE_REG, regValue); /* 0x40 */
 409:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 410:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read back the same register FT6206_DEV_MODE_REG */
 411:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 412:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 413:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 414:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(((ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_SHIFT) != F
 415:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 416:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return error to caller */
 417:Drivers/BSP/Components/ft6x06/ft6x06.c ****     return(FT6206_STATUS_NOT_OK);
 418:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 419:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 420:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Start calibration command */
 421:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_TD_STAT_REG, 0x04);
 422:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 423:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 424:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* 100 attempts to wait switch from factory mode (calibration) to working mode */
 425:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for (nbAttempt=0; ((nbAttempt < 100) && (!bEndCalibration)) ; nbAttempt++)
 426:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 427:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 428:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = (ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 10


 429:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ucReadData == FT6206_DEV_MODE_WORKING)
 430:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 431:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Auto Switch to FT6206_DEV_MODE_WORKING : means calibration have ended */
 432:Drivers/BSP/Components/ft6x06/ft6x06.c ****       bEndCalibration = 1; /* exit for loop */
 433:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 434:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 435:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_Delay(200); /* Wait 200 ms */
 436:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 437:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 438:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Calibration sequence end << */
 439:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 440:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 441:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 442:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
 443:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 444:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 445:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
 446:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6xx6 Device address for communication on I2C Bus.
 447:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 448:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 449:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr)
 450:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 451:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 452:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 453:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing special to be done for FT6xx6 */
 454:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 455:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 456:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 457:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 458:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 459:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Check if the device instance of the selected address is already registered
 460:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         and return its index  
 461:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 462:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Index of the device instance if registered, 0xFF if not.
 463:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 464:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr)
 465:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  93              		.loc 1 465 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		@ link register save eliminated.
  98              		.loc 1 465 1 is_stmt 0 view .LVU9
  99 0000 0346     		mov	r3, r0
 466:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t idx = 0;
 100              		.loc 1 466 3 is_stmt 1 view .LVU10
 101              	.LVL5:
 467:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 468:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check all the registered instances */
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for(idx = 0; idx < FT6x06_MAX_INSTANCE ; idx ++)
 102              		.loc 1 469 3 view .LVU11
 103              		.loc 1 469 11 is_stmt 0 view .LVU12
 104 0002 0020     		movs	r0, #0
 105              	.LVL6:
 106              	.L5:
 107              		.loc 1 469 20 is_stmt 1 discriminator 1 view .LVU13
 108 0004 0128     		cmp	r0, #1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 11


 109 0006 06D8     		bhi	.L8
 470:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 471:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ft6x06[idx] == DeviceAddr)
 110              		.loc 1 471 5 view .LVU14
 111              		.loc 1 471 14 is_stmt 0 view .LVU15
 112 0008 044A     		ldr	r2, .L9
 113 000a 125C     		ldrb	r2, [r2, r0]	@ zero_extendqisi2
 114              		.loc 1 471 7 view .LVU16
 115 000c 9A42     		cmp	r2, r3
 116 000e 03D0     		beq	.L6
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 117              		.loc 1 469 48 is_stmt 1 discriminator 2 view .LVU17
 118 0010 0130     		adds	r0, r0, #1
 119              	.LVL7:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 120              		.loc 1 469 48 is_stmt 0 discriminator 2 view .LVU18
 121 0012 C0B2     		uxtb	r0, r0
 122              	.LVL8:
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 123              		.loc 1 469 48 discriminator 2 view .LVU19
 124 0014 F6E7     		b	.L5
 125              	.L8:
 472:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 473:Drivers/BSP/Components/ft6x06/ft6x06.c ****       return idx; 
 474:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 475:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 476:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 477:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return 0xFF;
 126              		.loc 1 477 10 view .LVU20
 127 0016 FF20     		movs	r0, #255
 128              	.LVL9:
 129              	.L6:
 478:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 130              		.loc 1 478 1 view .LVU21
 131 0018 7047     		bx	lr
 132              	.L10:
 133 001a 00BF     		.align	2
 134              	.L9:
 135 001c 00000000 		.word	.LANCHOR0
 136              		.cfi_endproc
 137              	.LFE11:
 139              		.section	.text.ft6x06_Init,"ax",%progbits
 140              		.align	1
 141              		.global	ft6x06_Init
 142              		.syntax unified
 143              		.thumb
 144              		.thumb_func
 146              	ft6x06_Init:
 147              	.LVL10:
 148              	.LFB0:
 115:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 149              		.loc 1 115 1 is_stmt 1 view -0
 150              		.cfi_startproc
 151              		@ args = 0, pretend = 0, frame = 0
 152              		@ frame_needed = 0, uses_anonymous_args = 0
 115:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 153              		.loc 1 115 1 is_stmt 0 view .LVU23
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 12


 154 0000 10B5     		push	{r4, lr}
 155              		.cfi_def_cfa_offset 8
 156              		.cfi_offset 4, -8
 157              		.cfi_offset 14, -4
 158 0002 0446     		mov	r4, r0
 116:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 159              		.loc 1 116 3 is_stmt 1 view .LVU24
 117:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 160              		.loc 1 117 3 view .LVU25
 120:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 161              		.loc 1 120 3 view .LVU26
 120:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 162              		.loc 1 120 14 is_stmt 0 view .LVU27
 163 0004 FFF7FEFF 		bl	ft6x06_GetInstance
 164              	.LVL11:
 123:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 165              		.loc 1 123 3 is_stmt 1 view .LVU28
 123:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 166              		.loc 1 123 5 is_stmt 0 view .LVU29
 167 0008 FF28     		cmp	r0, #255
 168 000a 00D0     		beq	.L14
 169              	.LVL12:
 170              	.L11:
 137:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 171              		.loc 1 137 1 view .LVU30
 172 000c 10BD     		pop	{r4, pc}
 173              	.LVL13:
 174              	.L14:
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 175              		.loc 1 126 5 is_stmt 1 view .LVU31
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 176              		.loc 1 126 13 is_stmt 0 view .LVU32
 177 000e 0020     		movs	r0, #0
 178              	.LVL14:
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 179              		.loc 1 126 13 view .LVU33
 180 0010 FFF7FEFF 		bl	ft6x06_GetInstance
 181              	.LVL15:
 128:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 182              		.loc 1 128 5 is_stmt 1 view .LVU34
 128:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 183              		.loc 1 128 7 is_stmt 0 view .LVU35
 184 0014 0128     		cmp	r0, #1
 185 0016 F9D8     		bhi	.L11
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 186              		.loc 1 131 7 is_stmt 1 view .LVU36
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 187              		.loc 1 131 21 is_stmt 0 view .LVU37
 188 0018 024B     		ldr	r3, .L15
 189 001a 1C54     		strb	r4, [r3, r0]
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 190              		.loc 1 134 7 is_stmt 1 view .LVU38
 191 001c FFF7FEFF 		bl	TS_IO_Init
 192              	.LVL16:
 137:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 193              		.loc 1 137 1 is_stmt 0 view .LVU39
 194 0020 F4E7     		b	.L11
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 13


 195              	.L16:
 196 0022 00BF     		.align	2
 197              	.L15:
 198 0024 00000000 		.word	.LANCHOR0
 199              		.cfi_endproc
 200              	.LFE0:
 202              		.section	.text.ft6x06_ReadID,"ax",%progbits
 203              		.align	1
 204              		.global	ft6x06_ReadID
 205              		.syntax unified
 206              		.thumb
 207              		.thumb_func
 209              	ft6x06_ReadID:
 210              	.LVL17:
 211              	.LFB2:
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 212              		.loc 1 158 1 is_stmt 1 view -0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 0
 215              		@ frame_needed = 0, uses_anonymous_args = 0
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 216              		.loc 1 158 1 is_stmt 0 view .LVU41
 217 0000 10B5     		push	{r4, lr}
 218              		.cfi_def_cfa_offset 8
 219              		.cfi_offset 4, -8
 220              		.cfi_offset 14, -4
 221 0002 0446     		mov	r4, r0
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 222              		.loc 1 160 3 is_stmt 1 view .LVU42
 223 0004 FFF7FEFF 		bl	TS_IO_Init
 224              	.LVL18:
 163:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 225              		.loc 1 163 3 view .LVU43
 163:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 226              		.loc 1 163 11 is_stmt 0 view .LVU44
 227 0008 A821     		movs	r1, #168
 228 000a E0B2     		uxtb	r0, r4
 229 000c FFF7FEFF 		bl	TS_IO_Read
 230              	.LVL19:
 164:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 231              		.loc 1 164 1 view .LVU45
 232 0010 80B2     		uxth	r0, r0
 233 0012 10BD     		pop	{r4, pc}
 234              		.cfi_endproc
 235              	.LFE2:
 237              		.section	.text.ft6x06_TS_DetectTouch,"ax",%progbits
 238              		.align	1
 239              		.global	ft6x06_TS_DetectTouch
 240              		.syntax unified
 241              		.thumb
 242              		.thumb_func
 244              	ft6x06_TS_DetectTouch:
 245              	.LVL20:
 246              	.LFB4:
 196:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 247              		.loc 1 196 1 is_stmt 1 view -0
 248              		.cfi_startproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 14


 249              		@ args = 0, pretend = 0, frame = 8
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 196:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 251              		.loc 1 196 1 is_stmt 0 view .LVU47
 252 0000 00B5     		push	{lr}
 253              		.cfi_def_cfa_offset 4
 254              		.cfi_offset 14, -4
 255 0002 83B0     		sub	sp, sp, #12
 256              		.cfi_def_cfa_offset 16
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 257              		.loc 1 197 3 is_stmt 1 view .LVU48
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 258              		.loc 1 197 20 is_stmt 0 view .LVU49
 259 0004 0023     		movs	r3, #0
 260 0006 8DF80730 		strb	r3, [sp, #7]
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 261              		.loc 1 200 3 is_stmt 1 view .LVU50
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 262              		.loc 1 200 13 is_stmt 0 view .LVU51
 263 000a 0221     		movs	r1, #2
 264 000c C0B2     		uxtb	r0, r0
 265              	.LVL21:
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 266              		.loc 1 200 13 view .LVU52
 267 000e FFF7FEFF 		bl	TS_IO_Read
 268              	.LVL22:
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 269              		.loc 1 200 11 view .LVU53
 270 0012 8DF80700 		strb	r0, [sp, #7]
 201:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 271              		.loc 1 201 3 is_stmt 1 view .LVU54
 201:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 272              		.loc 1 201 11 is_stmt 0 view .LVU55
 273 0016 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 274 001a 03F00F03 		and	r3, r3, #15
 275 001e 8DF80730 		strb	r3, [sp, #7]
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 276              		.loc 1 203 3 is_stmt 1 view .LVU56
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 277              		.loc 1 203 14 is_stmt 0 view .LVU57
 278 0022 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 279 0026 DBB2     		uxtb	r3, r3
 203:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 280              		.loc 1 203 5 view .LVU58
 281 0028 022B     		cmp	r3, #2
 282 002a 02D9     		bls	.L20
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 283              		.loc 1 206 5 is_stmt 1 view .LVU59
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 284              		.loc 1 206 13 is_stmt 0 view .LVU60
 285 002c 0023     		movs	r3, #0
 286 002e 8DF80730 		strb	r3, [sp, #7]
 287              	.L20:
 210:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 288              		.loc 1 210 3 is_stmt 1 view .LVU61
 210:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 289              		.loc 1 210 35 is_stmt 0 view .LVU62
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 15


 290 0032 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 291 0036 044B     		ldr	r3, .L22
 292 0038 5A70     		strb	r2, [r3, #1]
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 293              		.loc 1 213 3 is_stmt 1 view .LVU63
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 294              		.loc 1 213 36 is_stmt 0 view .LVU64
 295 003a 0022     		movs	r2, #0
 296 003c 9A70     		strb	r2, [r3, #2]
 215:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 297              		.loc 1 215 3 is_stmt 1 view .LVU65
 215:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 298              		.loc 1 215 9 is_stmt 0 view .LVU66
 299 003e 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 216:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 300              		.loc 1 216 1 view .LVU67
 301 0042 03B0     		add	sp, sp, #12
 302              		.cfi_def_cfa_offset 4
 303              		@ sp needed
 304 0044 5DF804FB 		ldr	pc, [sp], #4
 305              	.L23:
 306              		.align	2
 307              	.L22:
 308 0048 00000000 		.word	.LANCHOR1
 309              		.cfi_endproc
 310              	.LFE4:
 312              		.section	.text.ft6x06_TS_GetXY,"ax",%progbits
 313              		.align	1
 314              		.global	ft6x06_TS_GetXY
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 319              	ft6x06_TS_GetXY:
 320              	.LVL23:
 321              	.LFB5:
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 322              		.loc 1 228 1 is_stmt 1 view -0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 8
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 326              		.loc 1 228 1 is_stmt 0 view .LVU69
 327 0000 30B5     		push	{r4, r5, lr}
 328              		.cfi_def_cfa_offset 12
 329              		.cfi_offset 4, -12
 330              		.cfi_offset 5, -8
 331              		.cfi_offset 14, -4
 332 0002 83B0     		sub	sp, sp, #12
 333              		.cfi_def_cfa_offset 24
 334 0004 1446     		mov	r4, r2
 229:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 335              		.loc 1 229 3 is_stmt 1 view .LVU70
 336              	.LVL24:
 230:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 337              		.loc 1 230 3 view .LVU71
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 338              		.loc 1 232 3 view .LVU72
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 16


 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 339              		.loc 1 232 19 is_stmt 0 view .LVU73
 340 0006 164A     		ldr	r2, .L30
 341              	.LVL25:
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 342              		.loc 1 232 19 view .LVU74
 343 0008 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 344              		.loc 1 232 54 view .LVU75
 345 000a 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 232:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 346              		.loc 1 232 5 view .LVU76
 347 000c 9342     		cmp	r3, r2
 348 000e 20D2     		bcs	.L24
 349 0010 0D46     		mov	r5, r1
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 350              		.loc 1 234 5 is_stmt 1 view .LVU77
 351 0012 03B3     		cbz	r3, .L27
 352 0014 012B     		cmp	r3, #1
 353 0016 20D1     		bne	.L28
 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 354              		.loc 1 240 18 is_stmt 0 view .LVU78
 355 0018 0921     		movs	r1, #9
 356              	.LVL26:
 357              	.L26:
 248:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 358              		.loc 1 248 5 is_stmt 1 view .LVU79
 359 001a 0423     		movs	r3, #4
 360 001c 0DEB0302 		add	r2, sp, r3
 361 0020 C0B2     		uxtb	r0, r0
 362              	.LVL27:
 248:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 363              		.loc 1 248 5 is_stmt 0 view .LVU80
 364 0022 FFF7FEFF 		bl	TS_IO_ReadMultiple
 365              	.LVL28:
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 366              		.loc 1 251 5 is_stmt 1 view .LVU81
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 367              		.loc 1 251 18 is_stmt 0 view .LVU82
 368 0026 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 369              		.loc 1 251 41 view .LVU83
 370 002a 1B02     		lsls	r3, r3, #8
 371 002c 03F47063 		and	r3, r3, #3840
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 372              		.loc 1 251 56 view .LVU84
 373 0030 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 374              		.loc 1 251 47 view .LVU85
 375 0034 1343     		orrs	r3, r3, r2
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 376              		.loc 1 251 8 view .LVU86
 377 0036 2B80     		strh	r3, [r5]	@ movhi
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 378              		.loc 1 254 5 is_stmt 1 view .LVU87
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 379              		.loc 1 254 18 is_stmt 0 view .LVU88
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 17


 380 0038 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 381              		.loc 1 254 41 view .LVU89
 382 003c 1B02     		lsls	r3, r3, #8
 383 003e 03F47063 		and	r3, r3, #3840
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 384              		.loc 1 254 56 view .LVU90
 385 0042 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 386              		.loc 1 254 47 view .LVU91
 387 0046 1343     		orrs	r3, r3, r2
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 388              		.loc 1 254 8 view .LVU92
 389 0048 2380     		strh	r3, [r4]	@ movhi
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 390              		.loc 1 256 5 is_stmt 1 view .LVU93
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 391              		.loc 1 256 18 is_stmt 0 view .LVU94
 392 004a 054A     		ldr	r2, .L30
 393 004c 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 394              		.loc 1 256 37 view .LVU95
 395 004e 0133     		adds	r3, r3, #1
 396 0050 9370     		strb	r3, [r2, #2]
 397              	.LVL29:
 398              	.L24:
 258:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 399              		.loc 1 258 1 view .LVU96
 400 0052 03B0     		add	sp, sp, #12
 401              		.cfi_remember_state
 402              		.cfi_def_cfa_offset 12
 403              		@ sp needed
 404 0054 30BD     		pop	{r4, r5, pc}
 405              	.LVL30:
 406              	.L27:
 407              		.cfi_restore_state
 237:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 408              		.loc 1 237 18 view .LVU97
 409 0056 0321     		movs	r1, #3
 410              	.LVL31:
 237:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 411              		.loc 1 237 18 view .LVU98
 412 0058 DFE7     		b	.L26
 413              	.LVL32:
 414              	.L28:
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 415              		.loc 1 234 5 view .LVU99
 416 005a 0021     		movs	r1, #0
 417              	.LVL33:
 234:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 418              		.loc 1 234 5 view .LVU100
 419 005c DDE7     		b	.L26
 420              	.L31:
 421 005e 00BF     		.align	2
 422              	.L30:
 423 0060 00000000 		.word	.LANCHOR1
 424              		.cfi_endproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 18


 425              	.LFE5:
 427              		.section	.text.ft6x06_TS_EnableIT,"ax",%progbits
 428              		.align	1
 429              		.global	ft6x06_TS_EnableIT
 430              		.syntax unified
 431              		.thumb
 432              		.thumb_func
 434              	ft6x06_TS_EnableIT:
 435              	.LVL34:
 436              	.LFB6:
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 437              		.loc 1 267 1 is_stmt 1 view -0
 438              		.cfi_startproc
 439              		@ args = 0, pretend = 0, frame = 0
 440              		@ frame_needed = 0, uses_anonymous_args = 0
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 441              		.loc 1 267 1 is_stmt 0 view .LVU102
 442 0000 08B5     		push	{r3, lr}
 443              		.cfi_def_cfa_offset 8
 444              		.cfi_offset 3, -8
 445              		.cfi_offset 14, -4
 268:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 446              		.loc 1 268 3 is_stmt 1 view .LVU103
 447              	.LVL35:
 269:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 448              		.loc 1 269 3 view .LVU104
 272:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 449              		.loc 1 272 3 view .LVU105
 450 0002 0122     		movs	r2, #1
 451 0004 A421     		movs	r1, #164
 452 0006 C0B2     		uxtb	r0, r0
 453              	.LVL36:
 272:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 454              		.loc 1 272 3 is_stmt 0 view .LVU106
 455 0008 FFF7FEFF 		bl	TS_IO_Write
 456              	.LVL37:
 273:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 457              		.loc 1 273 1 view .LVU107
 458 000c 08BD     		pop	{r3, pc}
 459              		.cfi_endproc
 460              	.LFE6:
 462              		.section	.text.ft6x06_TS_DisableIT,"ax",%progbits
 463              		.align	1
 464              		.global	ft6x06_TS_DisableIT
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 469              	ft6x06_TS_DisableIT:
 470              	.LVL38:
 471              	.LFB7:
 282:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 472              		.loc 1 282 1 is_stmt 1 view -0
 473              		.cfi_startproc
 474              		@ args = 0, pretend = 0, frame = 0
 475              		@ frame_needed = 0, uses_anonymous_args = 0
 282:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 476              		.loc 1 282 1 is_stmt 0 view .LVU109
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 19


 477 0000 08B5     		push	{r3, lr}
 478              		.cfi_def_cfa_offset 8
 479              		.cfi_offset 3, -8
 480              		.cfi_offset 14, -4
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 481              		.loc 1 283 3 is_stmt 1 view .LVU110
 482              	.LVL39:
 284:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 483              		.loc 1 284 3 view .LVU111
 287:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 484              		.loc 1 287 3 view .LVU112
 485 0002 0022     		movs	r2, #0
 486 0004 A421     		movs	r1, #164
 487 0006 C0B2     		uxtb	r0, r0
 488              	.LVL40:
 287:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 489              		.loc 1 287 3 is_stmt 0 view .LVU113
 490 0008 FFF7FEFF 		bl	TS_IO_Write
 491              	.LVL41:
 288:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 492              		.loc 1 288 1 view .LVU114
 493 000c 08BD     		pop	{r3, pc}
 494              		.cfi_endproc
 495              	.LFE7:
 497              		.section	.text.ft6x06_TS_Start,"ax",%progbits
 498              		.align	1
 499              		.global	ft6x06_TS_Start
 500              		.syntax unified
 501              		.thumb
 502              		.thumb_func
 504              	ft6x06_TS_Start:
 505              	.LVL42:
 506              	.LFB3:
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 507              		.loc 1 174 1 is_stmt 1 view -0
 508              		.cfi_startproc
 509              		@ args = 0, pretend = 0, frame = 0
 510              		@ frame_needed = 0, uses_anonymous_args = 0
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 511              		.loc 1 174 1 is_stmt 0 view .LVU116
 512 0000 08B5     		push	{r3, lr}
 513              		.cfi_def_cfa_offset 8
 514              		.cfi_offset 3, -8
 515              		.cfi_offset 14, -4
 181:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 516              		.loc 1 181 3 is_stmt 1 view .LVU117
 185:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 517              		.loc 1 185 3 view .LVU118
 518 0002 FFF7FEFF 		bl	ft6x06_TS_DisableIT
 519              	.LVL43:
 186:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 520              		.loc 1 186 1 is_stmt 0 view .LVU119
 521 0006 08BD     		pop	{r3, pc}
 522              		.cfi_endproc
 523              	.LFE3:
 525              		.global	ft6x06
 526              		.global	ft6x06_ts_drv
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 20


 527              		.section	.bss.ft6x06,"aw",%nobits
 528              		.align	2
 529              		.set	.LANCHOR0,. + 0
 532              	ft6x06:
 533 0000 0000     		.space	2
 534              		.section	.bss.ft6x06_handle,"aw",%nobits
 535              		.align	2
 536              		.set	.LANCHOR1,. + 0
 539              	ft6x06_handle:
 540 0000 000000   		.space	3
 541              		.section	.data.ft6x06_ts_drv,"aw"
 542              		.align	2
 545              	ft6x06_ts_drv:
 546 0000 00000000 		.word	ft6x06_Init
 547 0004 00000000 		.word	ft6x06_ReadID
 548 0008 00000000 		.word	ft6x06_Reset
 549 000c 00000000 		.word	ft6x06_TS_Start
 550 0010 00000000 		.word	ft6x06_TS_DetectTouch
 551 0014 00000000 		.word	ft6x06_TS_GetXY
 552 0018 00000000 		.word	ft6x06_TS_EnableIT
 553 001c 00000000 		.word	ft6x06_TS_ClearIT
 554 0020 00000000 		.word	ft6x06_TS_ITStatus
 555 0024 00000000 		.word	ft6x06_TS_DisableIT
 556              		.text
 557              	.Letext0:
 558              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 559              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 560              		.file 4 "Drivers/BSP/Components/ft6x06/../Common/ts.h"
 561              		.file 5 "Drivers/BSP/Components/ft6x06/ft6x06.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ft6x06.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:20     .text.ft6x06_Reset:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:26     .text.ft6x06_Reset:0000000000000000 ft6x06_Reset
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:41     .text.ft6x06_TS_ITStatus:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:47     .text.ft6x06_TS_ITStatus:0000000000000000 ft6x06_TS_ITStatus
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:65     .text.ft6x06_TS_ClearIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:71     .text.ft6x06_TS_ClearIT:0000000000000000 ft6x06_TS_ClearIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:85     .text.ft6x06_GetInstance:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:90     .text.ft6x06_GetInstance:0000000000000000 ft6x06_GetInstance
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:135    .text.ft6x06_GetInstance:000000000000001c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:140    .text.ft6x06_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:146    .text.ft6x06_Init:0000000000000000 ft6x06_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:198    .text.ft6x06_Init:0000000000000024 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:203    .text.ft6x06_ReadID:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:209    .text.ft6x06_ReadID:0000000000000000 ft6x06_ReadID
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:238    .text.ft6x06_TS_DetectTouch:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:244    .text.ft6x06_TS_DetectTouch:0000000000000000 ft6x06_TS_DetectTouch
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:308    .text.ft6x06_TS_DetectTouch:0000000000000048 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:313    .text.ft6x06_TS_GetXY:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:319    .text.ft6x06_TS_GetXY:0000000000000000 ft6x06_TS_GetXY
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:423    .text.ft6x06_TS_GetXY:0000000000000060 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:428    .text.ft6x06_TS_EnableIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:434    .text.ft6x06_TS_EnableIT:0000000000000000 ft6x06_TS_EnableIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:463    .text.ft6x06_TS_DisableIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:469    .text.ft6x06_TS_DisableIT:0000000000000000 ft6x06_TS_DisableIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:498    .text.ft6x06_TS_Start:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:504    .text.ft6x06_TS_Start:0000000000000000 ft6x06_TS_Start
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:532    .bss.ft6x06:0000000000000000 ft6x06
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:545    .data.ft6x06_ts_drv:0000000000000000 ft6x06_ts_drv
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:528    .bss.ft6x06:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:535    .bss.ft6x06_handle:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:539    .bss.ft6x06_handle:0000000000000000 ft6x06_handle
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccIAhZ5l.s:542    .data.ft6x06_ts_drv:0000000000000000 $d

UNDEFINED SYMBOLS
TS_IO_Init
TS_IO_Read
TS_IO_ReadMultiple
TS_IO_Write
