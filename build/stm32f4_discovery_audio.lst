ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4_discovery_audio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.I2S3_Init,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	I2S3_Init:
  26              	.LVL0:
  27              	.LFB148:
  28              		.file 1 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c"
   1:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
   2:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   3:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @file    stm32f4_discovery_audio.c
   4:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @author  MCD Application Team
   5:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   This file provides the Audio driver for the STM32F4-Discovery 
   6:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          board.  
   7:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   8:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @attention
   9:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  10:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * Copyright (c) 2017 STMicroelectronics.
  11:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * All rights reserved.
  12:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  13:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * in the root directory of this software component.
  15:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  17:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
  18:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
  19:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  20:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*==============================================================================
  21:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                              User NOTES
  22:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 1. How To use this driver:
  23:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------------
  24:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    - This driver supports STM32F4xx devices on STM32F4-Discovery Kit:
  25:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         a) to play an audio file (all functions names start by BSP_AUDIO_OUT_xxx)
  26:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         b) to record an audio file through MP45DT02, ST MEMS (all functions names start by AUDIO_IN
  27:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  28:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** a) PLAY A FILE:
  29:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============
  30:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Init(
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 2


  31:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     OutputDevice: physical output mode (OUTPUT_DEVICE_SPEAKER, 
  32:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_AUTO or 
  33:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_BOTH)
  34:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     Volume: initial volume to be set (0 is min (mute), 100 is max (
  35:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  36:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     this parameter is relative to the audio file/stream type.
  37:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                    )
  38:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (codec, I2C, I2S
  39:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
  40:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       If the returned value is different from 0 or the function is stuck then the communication wit
  41:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the codec (try to un-plug the power or reset device in this case).
  42:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_SPEAKER: only speaker will be set as output for the audio stream.
  43:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_HEADPHONE: only headphones will be set as output for the audio stream.
  44:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_AUTO: Selection of output device is made through external switch (implemented
  45:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          into the audio jack on the discovery board). When the Headphone is connected it is used
  46:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          as output. When the headphone is disconnected from the audio jack, the output is
  47:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          automatically switched to Speaker.
  48:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_BOTH: both Speaker and Headphone are used as outputs for the audio stream
  49:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          at the same time.
  50:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Play(
  51:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   pBuffer: pointer to the audio data file address
  52:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   Size: size of the buffer to be sent in Bytes
  53:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                  )
  54:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start playing (for the first time) from the audio file/stream.
  55:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Pause() to pause playing 
  56:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Resume() to resume playing.
  57:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. After calling BSP_AUDIO_OUT_Pause() function for pause, only BSP_AUDIO_OUT_Resume() sh
  58:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****           for resume (it is not allowed to call BSP_AUDIO_OUT_Play() in this case).
  59:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. This function should be called only when the audio file is played or paused (not stopp
  60:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + For each mode, you may need to implement the relative callback functions into your code.
  61:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       The Callback functions are named BSP_AUDIO_OUT_XXXCallBack() and only their prototypes are de
  62:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the stm32f4_discovery_audio.h file. (refer to the example for more details on the callbacks i
  63:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + To Stop playing, to modify the volume level, the frequency or to mute, use the functions
  64:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        BSP_AUDIO_OUT_Stop(), BSP_AUDIO_OUT_SetVolume(), AUDIO_OUT_SetFrequency() BSP_AUDIO_OUT_SetO
  65:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + The driver API and the callback functions are at the end of the stm32f4_discovery_audio.h file
  66:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    
  67:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Driver architecture:
  68:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------
  69:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide the High Audio Layer: consists of the function API exported in the stm32f4
  70:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        (BSP_AUDIO_OUT_Init(), BSP_AUDIO_OUT_Play() ...)
  71:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide also the Media Access Layer (MAL): which consists of functions allowing to
  72:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        providing the audio file/stream. These functions are also included as local functions into
  73:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        the stm32f4_discovery_audio.c file (I2S3_Init()...)
  74:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  75:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Known Limitations:
  76:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** -------------------
  77:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    1- When using the Speaker, if the audio file quality is not high enough, the speaker output
  78:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       may produce high and uncomfortable noise level. To avoid this issue, to use speaker
  79:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       output properly, try to increase audio file sampling rate (typically higher than 48KHz).
  80:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This operation will lead to larger file size.
  81:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    2- Communication with the audio codec (through I2C) may be corrupted if it is interrupted by som
  82:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       user interrupt routines (in this case, interrupts could be disabled just before the start of 
  83:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       communication then re-enabled when it is over). Note that this communication is only done at
  84:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the configuration phase (BSP_AUDIO_OUT_Init() or BSP_AUDIO_OUT_Stop()) and when Volume contro
  85:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       performed (BSP_AUDIO_OUT_SetVolume() or BSP_AUDIO_OUT_SetMute()or BSP_AUDIO_OUT_SetOutputMode
  86:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       When the audio data is played, no communication is required with the audio codec.
  87:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    3- Parsing of audio file is not implemented (in order to determine audio file properties: Mono/S
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 3


  88:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       File size, Audio Frequency, Audio Data header size ...). The configuration is fixed for the g
  89:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    4- Supports only Stereo audio streaming. To play mono audio streams, each data should be sent tw
  90:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       on the I2S or should be duplicated on the source buffer. Or convert the stream in stereo befo
  91:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    5- Supports only 16-bits audio data size.
  92:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  93:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** b) RECORD A FILE:
  94:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ================
  95:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Init(
  96:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  97:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     )
  98:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (I2S, 
  99:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
 100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Record(
 102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             pbuf Main buffer pointer for the recorded data storing  
 103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             size Current size of the recorded buffer
 104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             )
 105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start recording from the microphone.
 106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + User needs to implement user callbacks to retrieve data saved in the record buffer
 108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       (AUDIO_IN_RxHalfCpltCallback/BSP_AUDIO_IN_ReceiveComplete_CallBack)
 109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function AUDIO_IN_STOP() to stop recording 
 111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 112:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============================================================================*/
 113:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 114:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* Includes ------------------------------------------------------------------*/
 115:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** #include "stm32f4_discovery_audio.h"
 116:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 117:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup BSP
 118:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 119:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 120:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 121:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup STM32F4_DISCOVERY
 122:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 123:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 124:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 125:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO STM32F4 DISCOVERY AUDIO
 126:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief This file includes the low layer audio driver available on STM32F4-Discovery
 127:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *        discovery board.
 128:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 129:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 130:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 131:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Types STM32F4 DISCOVERY AUDIO Private Types
 132:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 133:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 134:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 135:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 136:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 137:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 138:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Defines STM32F4 DISCOVERY AUDIO Private Defines
 139:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 140:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 141:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* These PLL parameters are valid when the f(VCO clock) = 1Mhz */
 142:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SFreq[8] = {8000, 11025, 16000, 22050, 32000, 44100, 48000, 96000};
 143:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLN[8] = {256, 429, 213, 429, 426, 271, 258, 344};
 144:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLR[8] = {5, 4, 4, 4, 4, 6, 3, 1};
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 4


 145:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 146:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 147:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 148:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 149:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Macros STM32F4 DISCOVERY AUDIO Private Macros
 150:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 151:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 152:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 153:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 154:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 155:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 156:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Variables STM32F4 DISCOVERY AUDIO Private Variables
 157:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 158:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 159:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*##### PLAY #####*/
 160:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static AUDIO_DrvTypeDef           *pAudioDrv;
 161:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioOutI2s;
 162:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 163:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*### RECORDER ###*/
 164:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioInI2s;
 165:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 166:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* PDM filters params */
 167:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Handler_t  PDM_FilterHandler[2];
 168:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Config_t   PDM_FilterConfig[2];
 169:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 170:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __IO uint16_t AudioInVolume = DEFAULT_AUDIO_IN_VOLUME;
 171:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 172:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 173:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 174:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 175:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Function_Prototypes STM32F4 DISCOVERY AUDIO Private F
 176:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 177:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 178:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq);
 179:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq);
 180:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut);
 181:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 182:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 183:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 184:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 185:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_OUT_Private_Functions STM32F4 DISCOVERY AUDIO OUT Private Fun
 186:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 187:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 188:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 189:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 190:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Configures the audio peripherals.
 191:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  OutputDevice: OUTPUT_DEVICE_SPEAKER, OUTPUT_DEVICE_HEADPHONE,
 192:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                       OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO .
 193:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Initial volume level (from 0 (Mute) to 100 (Max))
 194:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 195:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 196:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 197:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Init(uint16_t OutputDevice, uint8_t Volume, uint32_t AudioFreq)
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 200:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 201:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 5


 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
 203:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 204:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 205:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance = I2S3;
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 208:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 209:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init the I2S MSP: this __weak function can be redefined by the application*/
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_MspInit(&hAudioOutI2s, NULL);
 211:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 212:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 213:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 214:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 215:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(I2S3_Init(AudioFreq) != AUDIO_OK)
 217:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 218:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     ret = AUDIO_ERROR;
 219:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 220:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 222:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 223:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Retieve audio codec identifier */
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(((cs43l22_drv.ReadID(AUDIO_I2C_ADDRESS)) & CS43L22_ID_MASK) == CS43L22_ID)
 225:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 226:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Initialize the audio driver structure */
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       pAudioDrv = &cs43l22_drv; 
 228:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 229:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     else
 230:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 231:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       ret = AUDIO_ERROR;
 232:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 233:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 234:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 236:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     pAudioDrv->Init(AUDIO_I2C_ADDRESS, OutputDevice, Volume, AudioFreq);
 238:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 239:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 242:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 243:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 244:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts playing audio stream from a data buffer for a determined size. 
 245:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pBuffer: Pointer to the buffer 
 246:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of audio data BYTES.
 247:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 248:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 249:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Play(uint16_t* pBuffer, uint32_t Size)
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 251:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Play(AUDIO_I2C_ADDRESS, pBuffer, Size) != 0)
 253:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 255:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 256:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 257:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 258:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Update the Media layer and enable it for play */  
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 6


 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_Transmit_DMA(&hAudioOutI2s, pBuffer, DMA_MAX(Size/AUDIODATA_SIZE)); 
 260:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 261:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 262:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 263:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 264:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 265:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 266:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 267:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Sends n-Bytes on the I2S interface.
 268:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pData: Pointer to data address 
 269:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of data to be written
 270:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 271:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_ChangeBuffer(uint16_t *pData, uint16_t Size)
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 274:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 275:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 276:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 277:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Pauses the audio file stream. In case of using DMA, the DMA Pause
 278:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          feature is used.
 279:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only the
 280:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 281:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 282:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 283:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 284:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Pause(void)
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 286:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Pause(AUDIO_I2C_ADDRESS) != 0)
 288:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 289:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 290:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 291:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 292:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 293:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer pause function */
 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAPause(&hAudioOutI2s);
 295:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 296:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 298:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 299:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 300:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 301:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 302:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Resumes the audio file streaming.  
 303:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only
 304:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 305:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 306:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 307:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 308:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Resume(void)
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 310:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Resume(AUDIO_I2C_ADDRESS) != 0)
 312:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 313:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 314:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 315:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 7


 316:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 317:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer resume function */
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAResume(&hAudioOutI2s);
 319:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 320:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 322:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 323:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 324:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 325:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 326:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio playing and Power down the Audio Codec. 
 327:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Option: could be one of the following parameters 
 328:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *           - CODEC_PDWN_HW: completely shut down the codec (physically). 
 329:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                            Then need to reconfigure the Codec after power on.  
 330:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 331:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 332:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Stop(uint32_t Option)
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 334:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 335:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioOutI2s);
 336:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 337:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call Audio Codec Stop function */
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Stop(AUDIO_I2C_ADDRESS, Option) != 0)
 339:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 341:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 342:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 343:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 344:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(Option == CODEC_PDWN_HW)
 345:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     { 
 346:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Wait at least 1ms */
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_Delay(1);
 348:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 349:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Reset the pin */
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_GPIO_WritePin(AUDIO_RESET_GPIO, AUDIO_RESET_PIN, GPIO_PIN_RESET);
 351:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 352:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 353:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 355:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 356:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 357:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 358:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 359:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the current audio volume level. 
 360:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 361:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 362:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 363:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 364:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetVolume(uint8_t Volume)
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 366:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetVolume(AUDIO_I2C_ADDRESS, Volume) != 0)
 368:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 369:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 370:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 371:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 372:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 8


 373:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 374:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 375:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 376:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 377:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 378:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 379:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Enables or disables the MUTE mode by software 
 380:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Cmd: could be AUDIO_MUTE_ON to mute sound or AUDIO_MUTE_OFF to 
 381:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         unmute the codec and restore previous volume level.
 382:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 383:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 384:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetMute(uint32_t Cmd)
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 386:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetMute(AUDIO_I2C_ADDRESS, Cmd) != 0)
 388:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 389:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 390:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 391:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 392:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 393:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 394:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 395:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 396:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 397:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 398:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 399:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Switch dynamically (while audio file is played) the output target 
 400:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         (speaker or headphone).
 401:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function modifies a global variable of the audio codec driver: OutputDev.
 402:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Output: specifies the audio output target: OUTPUT_DEVICE_SPEAKER,
 403:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO 
 404:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 405:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 406:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetOutputMode(uint8_t Output)
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 408:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetOutputMode(AUDIO_I2C_ADDRESS, Output) != 0)
 410:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 411:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 412:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 413:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 414:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 415:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 416:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 417:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 418:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 419:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 420:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 421:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Update the audio frequency.
 422:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 423:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API should be called after the BSP_AUDIO_OUT_Init() to adjust the
 424:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         audio frequency. 
 425:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 426:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_SetFrequency(uint32_t AudioFreq)
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 428:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 9


 430:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 431:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Update the I2S audio frequency configuration */
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_Init(AudioFreq);
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 434:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 435:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 436:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Transfer completed callbacks.
 437:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 438:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 439:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxCpltCallback(I2S_HandleTypeDef *hi2s)
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 442:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 443:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the user function which will manage directly transfer complete */  
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_TransferComplete_CallBack();       
 445:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 447:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 448:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 449:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Half Transfer completed callbacks.
 450:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 451:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 452:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 455:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 456:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Manage the remaining file size and new address offset: This function should
 457:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_HalfTransfer_CallBack();
 459:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 461:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 462:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 463:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Clock Config.
 464:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 465:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 466:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_OUT_Init() and BSP_AUDIO_OUT_SetFrequency()
 467:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application     
 468:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 469:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 470:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 472:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 474:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < 8; index++)
 476:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(I2SFreq[index] == AudioFreq)
 478:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 479:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       freqindex = index;
 480:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 481:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 482:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable PLLI2S clock */
 483:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 484:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 485:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((freqindex & 0x7) == 0)
 486:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 10


 487:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 488:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input) � (PLLI2SN/PLLM)
 489:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 493:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 494:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 495:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 496:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 497:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 498:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input) � (PLLI2SN/PLLM)
 499:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 504:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 505:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 506:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 507:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 508:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  AUDIO OUT I2S MSP Init.
 509:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 510:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 511:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 512:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 516:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 517:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S3 clock */
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_ENABLE();
 519:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 520:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*** Configure the GPIOs ***/  
 521:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_SCK_SD_CLK_ENABLE();
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 524:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 525:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: WS, SCK and SD pins ----------------------------*/
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_SCK_PIN | I2S3_SD_PIN; 
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 532:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_WS_PIN ;
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 535:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 536:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: MCK pin */
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_MCK_CLK_ENABLE();
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 540:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 541:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S DMA clock */
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_DMAx_CLK_ENABLE(); 
 543:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 11


 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 545:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 546:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sTx handle parameters */   
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Channel             = I2S3_DMAx_CHANNEL;  
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 553:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 554:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 555:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     // hdma_i2sTx.Init.Mode                = DMA_NORMAL;
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Mode                = DMA_CIRCULAR;
 557:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 558:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 559:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Priority            = DMA_PRIORITY_HIGH;
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 565:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Instance                 = I2S3_DMAx_STREAM;
 567:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 568:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmatx, hdma_i2sTx);
 570:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 571:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sTx);
 573:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 574:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sTx);
 576:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 577:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 578:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S3_DMAx_IRQ, AUDIO_OUT_IRQ_PREPRIO, 0);
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 582:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 583:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 584:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  De-Initializes BSP_AUDIO_OUT MSP.
 585:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 586:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 587:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 588:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {  
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 591:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 592:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S3_DMAx_IRQ); 
 594:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 596:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 597:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmatx);
 599:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 600:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 12


 601:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 603:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 604:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: SCK and SD pins */
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_SCK_PIN | I2S3_SD_PIN;
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 607:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 608:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: WS pin */
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_WS_PIN;
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 611:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 612:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: MCK pin */
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_MCK_PIN;
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 615:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 616:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_DISABLE();
 618:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 619:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 620:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */   
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 622:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 623:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 624:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA full Transfer complete event.
 625:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 626:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_TransferComplete_CallBack(void)
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 629:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 630:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 631:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 632:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 633:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_HalfTransfer_CallBack(void)
 634:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 635:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 636:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 637:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 638:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA FIFO error event.
 639:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 640:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_Error_CallBack(void)
 641:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 642:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 643:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 644:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
 645:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
 646:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
 647:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 648:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 649:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S).
 650:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 651:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 652:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq)
 653:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
  29              		.loc 1 653 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 13


  33              		.loc 1 653 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 654:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioOutI2s Instance parameter */
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance         = I2S3;
  38              		.loc 1 655 3 is_stmt 1 view .LVU2
  39              		.loc 1 655 33 is_stmt 0 view .LVU3
  40 0002 0B4B     		ldr	r3, .L4
  41 0004 0B4A     		ldr	r2, .L4+4
  42 0006 1A60     		str	r2, [r3]
 656:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 657:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioOutI2s);
  43              		.loc 1 658 3 is_stmt 1 view .LVU4
  44 0008 D169     		ldr	r1, [r2, #28]
  45 000a 21F48061 		bic	r1, r1, #1024
  46 000e D161     		str	r1, [r2, #28]
 659:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 660:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 peripheral configuration */
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.AudioFreq   = AudioFreq;
  47              		.loc 1 661 3 view .LVU5
  48              		.loc 1 661 33 is_stmt 0 view .LVU6
  49 0010 5861     		str	r0, [r3, #20]
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
  50              		.loc 1 662 3 is_stmt 1 view .LVU7
  51              		.loc 1 662 33 is_stmt 0 view .LVU8
  52 0012 0022     		movs	r2, #0
  53 0014 DA61     		str	r2, [r3, #28]
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
  54              		.loc 1 663 3 is_stmt 1 view .LVU9
  55              		.loc 1 663 33 is_stmt 0 view .LVU10
  56 0016 9A61     		str	r2, [r3, #24]
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
  57              		.loc 1 664 3 is_stmt 1 view .LVU11
  58              		.loc 1 664 33 is_stmt 0 view .LVU12
  59 0018 DA60     		str	r2, [r3, #12]
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
  60              		.loc 1 665 3 is_stmt 1 view .LVU13
  61              		.loc 1 665 33 is_stmt 0 view .LVU14
  62 001a 4FF40071 		mov	r1, #512
  63 001e 1961     		str	r1, [r3, #16]
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
  64              		.loc 1 666 3 is_stmt 1 view .LVU15
  65              		.loc 1 666 33 is_stmt 0 view .LVU16
  66 0020 5960     		str	r1, [r3, #4]
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
  67              		.loc 1 667 3 is_stmt 1 view .LVU17
  68              		.loc 1 667 33 is_stmt 0 view .LVU18
  69 0022 9A60     		str	r2, [r3, #8]
 668:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 669:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioOutI2s) != HAL_OK)
  70              		.loc 1 669 3 is_stmt 1 view .LVU19
  71              		.loc 1 669 6 is_stmt 0 view .LVU20
  72 0024 1846     		mov	r0, r3
  73              	.LVL1:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 14


  74              		.loc 1 669 6 view .LVU21
  75 0026 FFF7FEFF 		bl	HAL_I2S_Init
  76              	.LVL2:
  77              		.loc 1 669 5 view .LVU22
  78 002a 00B1     		cbz	r0, .L2
 670:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 671:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
  79              		.loc 1 671 12 view .LVU23
  80 002c 0120     		movs	r0, #1
  81              	.L2:
 672:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 673:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 674:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 675:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 676:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 677:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
  82              		.loc 1 677 1 view .LVU24
  83 002e 08BD     		pop	{r3, pc}
  84              	.L5:
  85              		.align	2
  86              	.L4:
  87 0030 00000000 		.word	.LANCHOR0
  88 0034 003C0040 		.word	1073757184
  89              		.cfi_endproc
  90              	.LFE148:
  92              		.section	.text.I2S2_Init,"ax",%progbits
  93              		.align	1
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  98              	I2S2_Init:
  99              	.LVL3:
 100              	.LFB165:
 678:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 679:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 680:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 681:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 682:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 683:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_Private_Functions STM32F4 DISCOVERY AUDIO IN Private Funct
 684:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 685:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 686:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 687:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 688:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes wave recording.
 689:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 690:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured for the I2S peripheral.
 691:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbr: Audio frequency to be configured for the I2S peripheral.
 692:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 693:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 694:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Init(uint32_t AudioFreq, uint32_t BitRes, uint32_t ChnlNbr)
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 696:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 697:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure PLL clock */ 
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_ClockConfig(&hAudioInI2s, AudioFreq, NULL);
 699:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 700:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the PDM library */
 701:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* On STM32F4-Discovery a single microphone is mounted, samples are duplicated
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 15


 702:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to make stereo audio streams */
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   PDMDecoder_Init(AudioFreq, ChnlNbr, 2);
 704:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 705:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance = I2S2;
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 708:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 709:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Initialize the I2S Msp: this __weak function can be rewritten by the application */
 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_MspInit(&hAudioInI2s, NULL);
 711:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 712:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 713:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S2 */
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_Init(AudioFreq);
 715:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 716:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 719:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 720:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 721:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts audio recording.
 722:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pbuf: Main buffer pointer for the recorded data storing  
 723:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  size: Current size of the recorded buffer
 724:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 725:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 726:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Record(uint16_t* pbuf, uint32_t size)
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 728:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 729:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 730:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Start the process receive DMA */
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Receive_DMA(&hAudioInI2s, pbuf, size);
 732:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 733:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 734:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 735:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 736:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 737:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 738:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 739:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 740:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio recording.
 741:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 742:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 743:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Stop(void)
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 745:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 746:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 747:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 748:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioInI2s);  
 749:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 750:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 751:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 752:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 753:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 754:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 755:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 756:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 757:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Pauses the audio file stream.
 758:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 16


 759:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 760:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Pause(void)
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 762:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 763:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAPause(&hAudioInI2s);
 764:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 765:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 766:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 767:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 768:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 769:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 770:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Resumes the audio file stream.    
 771:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 772:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 773:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Resume(void)
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 775:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 776:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAResume(&hAudioInI2s);
 777:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 778:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 779:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 780:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 781:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 782:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 783:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the audio in volume level. 
 784:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 785:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 786:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 787:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 788:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_SetVolume(uint8_t Volume)
 789:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 790:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Set the Global variable AudioInVolume */
 791:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   AudioInVolume = Volume; 
 792:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 793:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 794:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 795:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 796:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 797:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 798:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Converts audio format from PDM to PCM.
 799:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PDMBuf: Pointer to data PDM buffer
 800:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PCMBuf: Pointer to data PCM buffer
 801:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 802:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 803:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_PDMToPCM(uint16_t *PDMBuf, uint16_t *PCMBuf)
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 805:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 806:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0; 
 807:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 808:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PDM Demux */
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index<INTERNAL_BUFF_SIZE/2; index++)
 810:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     AppPDM[index] = HTONS(PDMBuf[index]);
 812:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 813:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < DEFAULT_AUDIO_IN_CHANNEL_NBR; index++)
 815:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 17


 816:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM to PCM filter */
 817:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 	PDM_Filter((uint8_t*)&AppPDM[index], (uint16_t*)&(PCMBuf[index]), &PDM_FilterHandler[index]);
 818:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 819:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Duplicate samples since a single microphone in mounted on STM32F4-Discovery */
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < PCM_OUT_SIZE; index++)
 821:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PCMBuf[(index<<1)+1] = PCMBuf[index<<1];
 823:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 824:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 825:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 826:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK; 
 827:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 828:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 829:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 830:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Transfer completed callbacks
 831:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 832:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 833:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxCpltCallback(I2S_HandleTypeDef *hi2s)
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 835:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_TransferComplete_CallBack();
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 838:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 839:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 840:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Half Transfer completed callbacks.
 841:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 842:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 843:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 845:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 846:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_HalfTransfer_CallBack();
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 849:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 850:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 851:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio In Clock Config.
 852:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 853:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to record the audio stream.  
 854:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.   
 855:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_IN_Init()
 856:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application
 857:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 858:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 860:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 861:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 862:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*Enable PLLI2S clock*/
 863:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 864:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 865:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((AudioFreq & 0x7) == 0)
 866:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 867:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Audio frequency multiple of 8 (8/16/32/48/96/192)*/
 868:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 192 Mhz */
 869:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 192/6 = 32 Mhz */
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 871:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 18


 873:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 874:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 875:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 876:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 877:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Other Frequency (11.025/22.500/44.100) */
 878:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 290 Mhz */
 879:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 290/2 = 145 Mhz */
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 883:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 884:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 885:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 886:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 887:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 888:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  BSP AUDIO IN MSP Init.
 889:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 890:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 891:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 892:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 894:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 895:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 896:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 897:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S2 peripheral clock */
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_ENABLE();
 899:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 900:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_SCK_GPIO_CLK_ENABLE();
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 903:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 904:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 pins configuration: SCK and MOSI pins ------------------------------*/
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode      = GPIO_MODE_AF_PP;
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 908:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_SCK_PIN; 
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 912:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_MOSI_PIN ;
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 915:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_MOSI_GPIO_PORT, &GPIO_InitStruct); 
 916:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 917:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the DMA clock */
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_DMAx_CLK_ENABLE();
 919:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 921:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 922:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sRx handle parameters */   
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Channel             = I2S2_DMAx_CHANNEL;
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 19


 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 935:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Instance = I2S2_DMAx_STREAM;
 937:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 938:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmarx, hdma_i2sRx);
 940:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 941:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sRx);
 943:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 944:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sRx);      
 946:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 947:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 948:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 949:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S2_DMAx_IRQ, AUDIO_IN_IRQ_PREPRIO, 0);
 950:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S2_DMAx_IRQ); 
 951:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 952:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 953:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 954:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  DeInitializes BSP_AUDIO_IN MSP.
 955:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 956:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 957:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 958:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 961:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 962:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S2_DMAx_IRQ); 
 964:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 966:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 967:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmarx);
 969:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 970:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 971:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 973:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 974:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable pins: SCK and SD pins */
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_SCK_PIN;
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 979:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 980:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_DISABLE();
 982:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 983:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 984:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */ 
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 986:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 20


 987:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 988:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  User callback when record buffer is filled.
 989:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 990:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_TransferComplete_CallBack(void)
 991:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 992:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
 993:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
 994:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
 995:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 996:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 997:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 998:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 999:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1000:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_HalfTransfer_CallBack(void)
1001:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1002:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
1003:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
1004:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
1005:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1006:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1007:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1008:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio IN Error callback function.
1009:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1010:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_Error_Callback(void)
1011:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {   
1012:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
1013:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      error occurs. */
1014:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1015:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1016:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
1017:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
1018:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
1019:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1020:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1021:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the PDM library.
1022:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio sampling frequency
1023:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrIn: Number of input audio channels in the PDM buffer
1024:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrOut: Number of desired output audio channels in the  resulting PCM buffer
1025:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Number of audio channels (1: mono; 2: stereo)
1026:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1027:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut)
1028:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1029:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0;
1030:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1031:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable CRC peripheral to unlock the PDM library */
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_RCC_CRC_CLK_ENABLE();
1033:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < ChnlNbrIn; index++)
1035:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1036:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init PDM filters */
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].bit_order  = PDM_FILTER_BIT_ORDER_LSB;
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
1043:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 21


1044:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM lib config phase */
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].output_samples_number = AudioFreq/1000;
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
1048:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_setConfig((PDM_Filter_Handler_t *)&PDM_FilterHandler[index], &PDM_FilterConfig[index
1049:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1050:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1051:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1052:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1053:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S)
1054:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function assumes that the I2S input clock (through PLL_R in 
1055:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Devices RevA/Z and through dedicated PLLI2S_R in Devices RevB/Y)
1056:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         is already configured and ready to be used.    
1057:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
1058:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1059:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq)
1060:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 101              		.loc 1 1060 1 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		.loc 1 1060 1 is_stmt 0 view .LVU26
 106 0000 08B5     		push	{r3, lr}
 107              		.cfi_def_cfa_offset 8
 108              		.cfi_offset 3, -8
 109              		.cfi_offset 14, -4
1061:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioInI2s Instance parameter */
1062:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance          = I2S2;
 110              		.loc 1 1062 3 is_stmt 1 view .LVU27
 111              		.loc 1 1062 33 is_stmt 0 view .LVU28
 112 0002 0D4B     		ldr	r3, .L9
 113 0004 0D4A     		ldr	r2, .L9+4
 114 0006 1A60     		str	r2, [r3]
1063:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1064:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S block */
1065:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioInI2s);
 115              		.loc 1 1065 3 is_stmt 1 view .LVU29
 116 0008 D169     		ldr	r1, [r2, #28]
 117 000a 21F48061 		bic	r1, r1, #1024
 118 000e D161     		str	r1, [r2, #28]
1066:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1067:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 peripheral configuration */
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.AudioFreq    = 2 * AudioFreq;
 119              		.loc 1 1068 3 view .LVU30
 120              		.loc 1 1068 37 is_stmt 0 view .LVU31
 121 0010 4000     		lsls	r0, r0, #1
 122              	.LVL4:
 123              		.loc 1 1068 33 view .LVU32
 124 0012 5861     		str	r0, [r3, #20]
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 125              		.loc 1 1069 3 is_stmt 1 view .LVU33
 126              		.loc 1 1069 33 is_stmt 0 view .LVU34
 127 0014 0022     		movs	r2, #0
 128 0016 DA61     		str	r2, [r3, #28]
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
 129              		.loc 1 1070 3 is_stmt 1 view .LVU35
 130              		.loc 1 1070 33 is_stmt 0 view .LVU36
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 22


 131 0018 0821     		movs	r1, #8
 132 001a 9961     		str	r1, [r3, #24]
1071:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
 133              		.loc 1 1071 3 is_stmt 1 view .LVU37
 134              		.loc 1 1071 33 is_stmt 0 view .LVU38
 135 001c DA60     		str	r2, [r3, #12]
1072:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.MCLKOutput   = I2S_MCLKOUTPUT_DISABLE;
 136              		.loc 1 1072 3 is_stmt 1 view .LVU39
 137              		.loc 1 1072 33 is_stmt 0 view .LVU40
 138 001e 1A61     		str	r2, [r3, #16]
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Mode         = I2S_MODE_MASTER_RX;
 139              		.loc 1 1073 3 is_stmt 1 view .LVU41
 140              		.loc 1 1073 33 is_stmt 0 view .LVU42
 141 0020 4FF44072 		mov	r2, #768
 142 0024 5A60     		str	r2, [r3, #4]
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 143              		.loc 1 1074 3 is_stmt 1 view .LVU43
 144              		.loc 1 1074 33 is_stmt 0 view .LVU44
 145 0026 2022     		movs	r2, #32
 146 0028 9A60     		str	r2, [r3, #8]
1075:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1076:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
1077:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioInI2s) != HAL_OK)
 147              		.loc 1 1077 3 is_stmt 1 view .LVU45
 148              		.loc 1 1077 6 is_stmt 0 view .LVU46
 149 002a 1846     		mov	r0, r3
 150 002c FFF7FEFF 		bl	HAL_I2S_Init
 151              	.LVL5:
 152              		.loc 1 1077 5 view .LVU47
 153 0030 00B1     		cbz	r0, .L7
1078:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1079:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 154              		.loc 1 1079 12 view .LVU48
 155 0032 0120     		movs	r0, #1
 156              	.L7:
1080:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1081:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
1082:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1083:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK; 
1084:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1085:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }  
 157              		.loc 1 1085 1 view .LVU49
 158 0034 08BD     		pop	{r3, pc}
 159              	.L10:
 160 0036 00BF     		.align	2
 161              	.L9:
 162 0038 00000000 		.word	.LANCHOR1
 163 003c 00380040 		.word	1073756160
 164              		.cfi_endproc
 165              	.LFE165:
 167              		.section	.text.PDMDecoder_Init,"ax",%progbits
 168              		.align	1
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 173              	PDMDecoder_Init:
 174              	.LVL6:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 23


 175              	.LFB164:
1028:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0;
 176              		.loc 1 1028 1 is_stmt 1 view -0
 177              		.cfi_startproc
 178              		@ args = 0, pretend = 0, frame = 8
 179              		@ frame_needed = 0, uses_anonymous_args = 0
1028:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0;
 180              		.loc 1 1028 1 is_stmt 0 view .LVU51
 181 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 182              		.cfi_def_cfa_offset 24
 183              		.cfi_offset 4, -24
 184              		.cfi_offset 5, -20
 185              		.cfi_offset 6, -16
 186              		.cfi_offset 7, -12
 187              		.cfi_offset 8, -8
 188              		.cfi_offset 14, -4
 189 0004 82B0     		sub	sp, sp, #8
 190              		.cfi_def_cfa_offset 32
 191 0006 8046     		mov	r8, r0
 192 0008 0E46     		mov	r6, r1
 193 000a 1746     		mov	r7, r2
1029:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 194              		.loc 1 1029 3 is_stmt 1 view .LVU52
 195              	.LVL7:
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 196              		.loc 1 1032 3 view .LVU53
 197              	.LBB2:
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 198              		.loc 1 1032 3 view .LVU54
 199 000c 0024     		movs	r4, #0
 200 000e 0194     		str	r4, [sp, #4]
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 201              		.loc 1 1032 3 view .LVU55
 202 0010 184B     		ldr	r3, .L15
 203 0012 1A6B     		ldr	r2, [r3, #48]
 204              	.LVL8:
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 205              		.loc 1 1032 3 is_stmt 0 view .LVU56
 206 0014 42F48052 		orr	r2, r2, #4096
 207 0018 1A63     		str	r2, [r3, #48]
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 208              		.loc 1 1032 3 is_stmt 1 view .LVU57
 209 001a 1B6B     		ldr	r3, [r3, #48]
 210 001c 03F48053 		and	r3, r3, #4096
 211 0020 0193     		str	r3, [sp, #4]
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 212              		.loc 1 1032 3 view .LVU58
 213 0022 019B     		ldr	r3, [sp, #4]
 214              	.LBE2:
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 215              		.loc 1 1032 3 view .LVU59
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 216              		.loc 1 1034 3 view .LVU60
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 217              		.loc 1 1034 3 is_stmt 0 view .LVU61
 218 0024 21E0     		b	.L12
 219              	.LVL9:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 24


 220              	.L13:
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 221              		.loc 1 1037 5 is_stmt 1 discriminator 3 view .LVU62
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 222              		.loc 1 1037 41 is_stmt 0 discriminator 3 view .LVU63
 223 0026 1449     		ldr	r1, .L15+4
 224 0028 4C23     		movs	r3, #76
 225 002a 04FB03F3 		mul	r3, r4, r3
 226 002e CD18     		adds	r5, r1, r3
 227 0030 0022     		movs	r2, #0
 228 0032 CA52     		strh	r2, [r1, r3]	@ movhi
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
 229              		.loc 1 1038 5 is_stmt 1 discriminator 3 view .LVU64
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
 230              		.loc 1 1038 41 is_stmt 0 discriminator 3 view .LVU65
 231 0034 6A80     		strh	r2, [r5, #2]	@ movhi
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 232              		.loc 1 1039 5 is_stmt 1 discriminator 3 view .LVU66
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 233              		.loc 1 1039 44 is_stmt 0 discriminator 3 view .LVU67
 234 0036 114B     		ldr	r3, .L15+8
 235 0038 6B60     		str	r3, [r5, #4]
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 236              		.loc 1 1040 5 is_stmt 1 discriminator 3 view .LVU68
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 237              		.loc 1 1040 47 is_stmt 0 discriminator 3 view .LVU69
 238 003a 6F81     		strh	r7, [r5, #10]	@ movhi
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 239              		.loc 1 1041 5 is_stmt 1 discriminator 3 view .LVU70
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 240              		.loc 1 1041 47 is_stmt 0 discriminator 3 view .LVU71
 241 003c 2E81     		strh	r6, [r5, #8]	@ movhi
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 242              		.loc 1 1042 5 is_stmt 1 discriminator 3 view .LVU72
 243 003e 2846     		mov	r0, r5
 244 0040 FFF7FEFF 		bl	PDM_Filter_Init
 245              	.LVL10:
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 246              		.loc 1 1045 5 discriminator 3 view .LVU73
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 247              		.loc 1 1045 62 is_stmt 0 discriminator 3 view .LVU74
 248 0044 0E4B     		ldr	r3, .L15+12
 249 0046 A3FB0823 		umull	r2, r3, r3, r8
 250 004a 9B09     		lsrs	r3, r3, #6
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 251              		.loc 1 1045 51 discriminator 3 view .LVU75
 252 004c 0D4A     		ldr	r2, .L15+16
 253 004e 04EB4400 		add	r0, r4, r4, lsl #1
 254 0052 02EB4001 		add	r1, r2, r0, lsl #1
 255 0056 4B80     		strh	r3, [r1, #2]	@ movhi
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 256              		.loc 1 1046 5 is_stmt 1 discriminator 3 view .LVU76
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 257              		.loc 1 1046 38 is_stmt 0 discriminator 3 view .LVU77
 258 0058 1823     		movs	r3, #24
 259 005a 8B80     		strh	r3, [r1, #4]	@ movhi
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_setConfig((PDM_Filter_Handler_t *)&PDM_FilterHandler[index], &PDM_FilterConfig[index
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 25


 260              		.loc 1 1047 5 is_stmt 1 discriminator 3 view .LVU78
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_setConfig((PDM_Filter_Handler_t *)&PDM_FilterHandler[index], &PDM_FilterConfig[index
 261              		.loc 1 1047 47 is_stmt 0 discriminator 3 view .LVU79
 262 005c 0223     		movs	r3, #2
 263 005e 22F81030 		strh	r3, [r2, r0, lsl #1]	@ movhi
1048:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 264              		.loc 1 1048 5 is_stmt 1 discriminator 3 view .LVU80
 265 0062 2846     		mov	r0, r5
 266 0064 FFF7FEFF 		bl	PDM_Filter_setConfig
 267              	.LVL11:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 268              		.loc 1 1034 42 discriminator 3 view .LVU81
 269 0068 0134     		adds	r4, r4, #1
 270              	.LVL12:
 271              	.L12:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 272              		.loc 1 1034 24 discriminator 1 view .LVU82
 273 006a B442     		cmp	r4, r6
 274 006c DBD3     		bcc	.L13
1050:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 275              		.loc 1 1050 1 is_stmt 0 view .LVU83
 276 006e 02B0     		add	sp, sp, #8
 277              		.cfi_def_cfa_offset 24
 278              		@ sp needed
 279 0070 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 280              	.LVL13:
 281              	.L16:
1050:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 282              		.loc 1 1050 1 view .LVU84
 283              		.align	2
 284              	.L15:
 285 0074 00380240 		.word	1073887232
 286 0078 00000000 		.word	.LANCHOR2
 287 007c 489D807E 		.word	2122358088
 288 0080 D34D6210 		.word	274877907
 289 0084 00000000 		.word	.LANCHOR3
 290              		.cfi_endproc
 291              	.LFE164:
 293              		.section	.text.BSP_AUDIO_OUT_Play,"ax",%progbits
 294              		.align	1
 295              		.global	BSP_AUDIO_OUT_Play
 296              		.syntax unified
 297              		.thumb
 298              		.thumb_func
 300              	BSP_AUDIO_OUT_Play:
 301              	.LVL14:
 302              	.LFB131:
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
 303              		.loc 1 250 1 is_stmt 1 view -0
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 0
 306              		@ frame_needed = 0, uses_anonymous_args = 0
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
 307              		.loc 1 250 1 is_stmt 0 view .LVU86
 308 0000 38B5     		push	{r3, r4, r5, lr}
 309              		.cfi_def_cfa_offset 16
 310              		.cfi_offset 3, -16
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 26


 311              		.cfi_offset 4, -12
 312              		.cfi_offset 5, -8
 313              		.cfi_offset 14, -4
 314 0002 0546     		mov	r5, r0
 315 0004 0C46     		mov	r4, r1
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 316              		.loc 1 252 3 is_stmt 1 view .LVU87
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 317              		.loc 1 252 15 is_stmt 0 view .LVU88
 318 0006 0C4B     		ldr	r3, .L23
 319 0008 1B68     		ldr	r3, [r3]
 320 000a DB68     		ldr	r3, [r3, #12]
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 321              		.loc 1 252 6 view .LVU89
 322 000c 8AB2     		uxth	r2, r1
 323 000e 0146     		mov	r1, r0
 324              	.LVL15:
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 325              		.loc 1 252 6 view .LVU90
 326 0010 9420     		movs	r0, #148
 327              	.LVL16:
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 328              		.loc 1 252 6 view .LVU91
 329 0012 9847     		blx	r3
 330              	.LVL17:
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 331              		.loc 1 252 5 view .LVU92
 332 0014 68B9     		cbnz	r0, .L20
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 333              		.loc 1 259 5 is_stmt 1 view .LVU93
 334 0016 B4F5003F 		cmp	r4, #131072
 335 001a 02D2     		bcs	.L21
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 336              		.loc 1 259 5 is_stmt 0 discriminator 1 view .LVU94
 337 001c C4F34F02 		ubfx	r2, r4, #1, #16
 338 0020 01E0     		b	.L19
 339              	.L21:
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 340              		.loc 1 259 5 view .LVU95
 341 0022 4FF6FF72 		movw	r2, #65535
 342              	.L19:
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 343              		.loc 1 259 5 discriminator 4 view .LVU96
 344 0026 2946     		mov	r1, r5
 345 0028 0448     		ldr	r0, .L23+4
 346 002a FFF7FEFF 		bl	HAL_I2S_Transmit_DMA
 347              	.LVL18:
 262:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 348              		.loc 1 262 5 is_stmt 1 discriminator 4 view .LVU97
 262:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 349              		.loc 1 262 12 is_stmt 0 discriminator 4 view .LVU98
 350 002e 0020     		movs	r0, #0
 351              	.L18:
 264:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 352              		.loc 1 264 1 view .LVU99
 353 0030 38BD     		pop	{r3, r4, r5, pc}
 354              	.LVL19:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 27


 355              	.L20:
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 356              		.loc 1 254 12 view .LVU100
 357 0032 0120     		movs	r0, #1
 358 0034 FCE7     		b	.L18
 359              	.L24:
 360 0036 00BF     		.align	2
 361              	.L23:
 362 0038 00000000 		.word	.LANCHOR4
 363 003c 00000000 		.word	.LANCHOR0
 364              		.cfi_endproc
 365              	.LFE131:
 367              		.section	.text.BSP_AUDIO_OUT_ChangeBuffer,"ax",%progbits
 368              		.align	1
 369              		.global	BSP_AUDIO_OUT_ChangeBuffer
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 374              	BSP_AUDIO_OUT_ChangeBuffer:
 375              	.LVL20:
 376              	.LFB132:
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 377              		.loc 1 272 1 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 381              		.loc 1 272 1 is_stmt 0 view .LVU102
 382 0000 08B5     		push	{r3, lr}
 383              		.cfi_def_cfa_offset 8
 384              		.cfi_offset 3, -8
 385              		.cfi_offset 14, -4
 386 0002 0A46     		mov	r2, r1
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 387              		.loc 1 273 3 is_stmt 1 view .LVU103
 388 0004 0146     		mov	r1, r0
 389              	.LVL21:
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 390              		.loc 1 273 3 is_stmt 0 view .LVU104
 391 0006 0248     		ldr	r0, .L27
 392              	.LVL22:
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 393              		.loc 1 273 3 view .LVU105
 394 0008 FFF7FEFF 		bl	HAL_I2S_Transmit_DMA
 395              	.LVL23:
 274:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 396              		.loc 1 274 1 view .LVU106
 397 000c 08BD     		pop	{r3, pc}
 398              	.L28:
 399 000e 00BF     		.align	2
 400              	.L27:
 401 0010 00000000 		.word	.LANCHOR0
 402              		.cfi_endproc
 403              	.LFE132:
 405              		.section	.text.BSP_AUDIO_OUT_Pause,"ax",%progbits
 406              		.align	1
 407              		.global	BSP_AUDIO_OUT_Pause
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 28


 408              		.syntax unified
 409              		.thumb
 410              		.thumb_func
 412              	BSP_AUDIO_OUT_Pause:
 413              	.LFB133:
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 414              		.loc 1 285 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418 0000 08B5     		push	{r3, lr}
 419              		.cfi_def_cfa_offset 8
 420              		.cfi_offset 3, -8
 421              		.cfi_offset 14, -4
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 422              		.loc 1 287 3 view .LVU108
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 423              		.loc 1 287 15 is_stmt 0 view .LVU109
 424 0002 064B     		ldr	r3, .L34
 425 0004 1B68     		ldr	r3, [r3]
 426 0006 1B69     		ldr	r3, [r3, #16]
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 427              		.loc 1 287 6 view .LVU110
 428 0008 9420     		movs	r0, #148
 429 000a 9847     		blx	r3
 430              	.LVL24:
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 431              		.loc 1 287 5 view .LVU111
 432 000c 08B1     		cbz	r0, .L33
 289:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 433              		.loc 1 289 12 view .LVU112
 434 000e 0120     		movs	r0, #1
 435              	.L30:
 299:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 436              		.loc 1 299 1 view .LVU113
 437 0010 08BD     		pop	{r3, pc}
 438              	.L33:
 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 439              		.loc 1 294 5 is_stmt 1 view .LVU114
 440 0012 0348     		ldr	r0, .L34+4
 441 0014 FFF7FEFF 		bl	HAL_I2S_DMAPause
 442              	.LVL25:
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 443              		.loc 1 297 5 view .LVU115
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 444              		.loc 1 297 12 is_stmt 0 view .LVU116
 445 0018 0020     		movs	r0, #0
 446 001a F9E7     		b	.L30
 447              	.L35:
 448              		.align	2
 449              	.L34:
 450 001c 00000000 		.word	.LANCHOR4
 451 0020 00000000 		.word	.LANCHOR0
 452              		.cfi_endproc
 453              	.LFE133:
 455              		.section	.text.BSP_AUDIO_OUT_Resume,"ax",%progbits
 456              		.align	1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 29


 457              		.global	BSP_AUDIO_OUT_Resume
 458              		.syntax unified
 459              		.thumb
 460              		.thumb_func
 462              	BSP_AUDIO_OUT_Resume:
 463              	.LFB134:
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 464              		.loc 1 309 1 is_stmt 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 0
 467              		@ frame_needed = 0, uses_anonymous_args = 0
 468 0000 08B5     		push	{r3, lr}
 469              		.cfi_def_cfa_offset 8
 470              		.cfi_offset 3, -8
 471              		.cfi_offset 14, -4
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 472              		.loc 1 311 3 view .LVU118
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 473              		.loc 1 311 15 is_stmt 0 view .LVU119
 474 0002 064B     		ldr	r3, .L41
 475 0004 1B68     		ldr	r3, [r3]
 476 0006 5B69     		ldr	r3, [r3, #20]
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 477              		.loc 1 311 6 view .LVU120
 478 0008 9420     		movs	r0, #148
 479 000a 9847     		blx	r3
 480              	.LVL26:
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 481              		.loc 1 311 5 view .LVU121
 482 000c 08B1     		cbz	r0, .L40
 313:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 483              		.loc 1 313 12 view .LVU122
 484 000e 0120     		movs	r0, #1
 485              	.L37:
 323:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 486              		.loc 1 323 1 view .LVU123
 487 0010 08BD     		pop	{r3, pc}
 488              	.L40:
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 489              		.loc 1 318 5 is_stmt 1 view .LVU124
 490 0012 0348     		ldr	r0, .L41+4
 491 0014 FFF7FEFF 		bl	HAL_I2S_DMAResume
 492              	.LVL27:
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 493              		.loc 1 321 5 view .LVU125
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 494              		.loc 1 321 12 is_stmt 0 view .LVU126
 495 0018 0020     		movs	r0, #0
 496 001a F9E7     		b	.L37
 497              	.L42:
 498              		.align	2
 499              	.L41:
 500 001c 00000000 		.word	.LANCHOR4
 501 0020 00000000 		.word	.LANCHOR0
 502              		.cfi_endproc
 503              	.LFE134:
 505              		.section	.text.BSP_AUDIO_OUT_Stop,"ax",%progbits
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 30


 506              		.align	1
 507              		.global	BSP_AUDIO_OUT_Stop
 508              		.syntax unified
 509              		.thumb
 510              		.thumb_func
 512              	BSP_AUDIO_OUT_Stop:
 513              	.LVL28:
 514              	.LFB135:
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 515              		.loc 1 333 1 is_stmt 1 view -0
 516              		.cfi_startproc
 517              		@ args = 0, pretend = 0, frame = 0
 518              		@ frame_needed = 0, uses_anonymous_args = 0
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 519              		.loc 1 333 1 is_stmt 0 view .LVU128
 520 0000 10B5     		push	{r4, lr}
 521              		.cfi_def_cfa_offset 8
 522              		.cfi_offset 4, -8
 523              		.cfi_offset 14, -4
 524 0002 0446     		mov	r4, r0
 335:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 525              		.loc 1 335 3 is_stmt 1 view .LVU129
 526 0004 0C48     		ldr	r0, .L49
 527              	.LVL29:
 335:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 528              		.loc 1 335 3 is_stmt 0 view .LVU130
 529 0006 FFF7FEFF 		bl	HAL_I2S_DMAStop
 530              	.LVL30:
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 531              		.loc 1 338 3 is_stmt 1 view .LVU131
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 532              		.loc 1 338 15 is_stmt 0 view .LVU132
 533 000a 0C4B     		ldr	r3, .L49+4
 534 000c 1B68     		ldr	r3, [r3]
 535 000e 9B69     		ldr	r3, [r3, #24]
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 536              		.loc 1 338 6 view .LVU133
 537 0010 2146     		mov	r1, r4
 538 0012 9420     		movs	r0, #148
 539 0014 9847     		blx	r3
 540              	.LVL31:
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 541              		.loc 1 338 5 view .LVU134
 542 0016 60B9     		cbnz	r0, .L46
 344:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     { 
 543              		.loc 1 344 5 is_stmt 1 view .LVU135
 344:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     { 
 544              		.loc 1 344 7 is_stmt 0 view .LVU136
 545 0018 012C     		cmp	r4, #1
 546 001a 01D0     		beq	.L48
 547              	.L45:
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 548              		.loc 1 354 5 is_stmt 1 view .LVU137
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 549              		.loc 1 354 12 is_stmt 0 view .LVU138
 550 001c 0020     		movs	r0, #0
 551              	.L44:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 31


 356:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 552              		.loc 1 356 1 view .LVU139
 553 001e 10BD     		pop	{r4, pc}
 554              	.LVL32:
 555              	.L48:
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 556              		.loc 1 347 7 is_stmt 1 view .LVU140
 557 0020 0120     		movs	r0, #1
 558 0022 FFF7FEFF 		bl	HAL_Delay
 559              	.LVL33:
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 560              		.loc 1 350 7 view .LVU141
 561 0026 0022     		movs	r2, #0
 562 0028 1021     		movs	r1, #16
 563 002a 0548     		ldr	r0, .L49+8
 564 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 565              	.LVL34:
 566 0030 F4E7     		b	.L45
 567              	.L46:
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 568              		.loc 1 340 12 is_stmt 0 view .LVU142
 569 0032 0120     		movs	r0, #1
 570 0034 F3E7     		b	.L44
 571              	.L50:
 572 0036 00BF     		.align	2
 573              	.L49:
 574 0038 00000000 		.word	.LANCHOR0
 575 003c 00000000 		.word	.LANCHOR4
 576 0040 000C0240 		.word	1073875968
 577              		.cfi_endproc
 578              	.LFE135:
 580              		.section	.text.BSP_AUDIO_OUT_SetVolume,"ax",%progbits
 581              		.align	1
 582              		.global	BSP_AUDIO_OUT_SetVolume
 583              		.syntax unified
 584              		.thumb
 585              		.thumb_func
 587              	BSP_AUDIO_OUT_SetVolume:
 588              	.LVL35:
 589              	.LFB136:
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 590              		.loc 1 365 1 is_stmt 1 view -0
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 0
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 594              		.loc 1 365 1 is_stmt 0 view .LVU144
 595 0000 08B5     		push	{r3, lr}
 596              		.cfi_def_cfa_offset 8
 597              		.cfi_offset 3, -8
 598              		.cfi_offset 14, -4
 599 0002 0146     		mov	r1, r0
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 600              		.loc 1 367 3 is_stmt 1 view .LVU145
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 601              		.loc 1 367 15 is_stmt 0 view .LVU146
 602 0004 044B     		ldr	r3, .L55
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 32


 603 0006 1B68     		ldr	r3, [r3]
 604 0008 1B6A     		ldr	r3, [r3, #32]
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 605              		.loc 1 367 6 view .LVU147
 606 000a 9420     		movs	r0, #148
 607              	.LVL36:
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 608              		.loc 1 367 6 view .LVU148
 609 000c 9847     		blx	r3
 610              	.LVL37:
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 611              		.loc 1 367 5 view .LVU149
 612 000e 08B1     		cbz	r0, .L53
 369:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 613              		.loc 1 369 12 view .LVU150
 614 0010 0120     		movs	r0, #1
 615              	.L52:
 376:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 616              		.loc 1 376 1 view .LVU151
 617 0012 08BD     		pop	{r3, pc}
 618              	.L53:
 374:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 619              		.loc 1 374 12 view .LVU152
 620 0014 0020     		movs	r0, #0
 621 0016 FCE7     		b	.L52
 622              	.L56:
 623              		.align	2
 624              	.L55:
 625 0018 00000000 		.word	.LANCHOR4
 626              		.cfi_endproc
 627              	.LFE136:
 629              		.section	.text.BSP_AUDIO_OUT_SetMute,"ax",%progbits
 630              		.align	1
 631              		.global	BSP_AUDIO_OUT_SetMute
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 636              	BSP_AUDIO_OUT_SetMute:
 637              	.LVL38:
 638              	.LFB137:
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 639              		.loc 1 385 1 is_stmt 1 view -0
 640              		.cfi_startproc
 641              		@ args = 0, pretend = 0, frame = 0
 642              		@ frame_needed = 0, uses_anonymous_args = 0
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 643              		.loc 1 385 1 is_stmt 0 view .LVU154
 644 0000 08B5     		push	{r3, lr}
 645              		.cfi_def_cfa_offset 8
 646              		.cfi_offset 3, -8
 647              		.cfi_offset 14, -4
 648 0002 0146     		mov	r1, r0
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 649              		.loc 1 387 3 is_stmt 1 view .LVU155
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 650              		.loc 1 387 15 is_stmt 0 view .LVU156
 651 0004 044B     		ldr	r3, .L61
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 33


 652 0006 1B68     		ldr	r3, [r3]
 653 0008 5B6A     		ldr	r3, [r3, #36]
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 654              		.loc 1 387 6 view .LVU157
 655 000a 9420     		movs	r0, #148
 656              	.LVL39:
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 657              		.loc 1 387 6 view .LVU158
 658 000c 9847     		blx	r3
 659              	.LVL40:
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 660              		.loc 1 387 5 view .LVU159
 661 000e 08B1     		cbz	r0, .L59
 389:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 662              		.loc 1 389 12 view .LVU160
 663 0010 0120     		movs	r0, #1
 664              	.L58:
 396:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 665              		.loc 1 396 1 view .LVU161
 666 0012 08BD     		pop	{r3, pc}
 667              	.L59:
 394:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 668              		.loc 1 394 12 view .LVU162
 669 0014 0020     		movs	r0, #0
 670 0016 FCE7     		b	.L58
 671              	.L62:
 672              		.align	2
 673              	.L61:
 674 0018 00000000 		.word	.LANCHOR4
 675              		.cfi_endproc
 676              	.LFE137:
 678              		.section	.text.BSP_AUDIO_OUT_SetOutputMode,"ax",%progbits
 679              		.align	1
 680              		.global	BSP_AUDIO_OUT_SetOutputMode
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 685              	BSP_AUDIO_OUT_SetOutputMode:
 686              	.LVL41:
 687              	.LFB138:
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 688              		.loc 1 407 1 is_stmt 1 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 692              		.loc 1 407 1 is_stmt 0 view .LVU164
 693 0000 08B5     		push	{r3, lr}
 694              		.cfi_def_cfa_offset 8
 695              		.cfi_offset 3, -8
 696              		.cfi_offset 14, -4
 697 0002 0146     		mov	r1, r0
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 698              		.loc 1 409 3 is_stmt 1 view .LVU165
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 699              		.loc 1 409 15 is_stmt 0 view .LVU166
 700 0004 044B     		ldr	r3, .L67
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 34


 701 0006 1B68     		ldr	r3, [r3]
 702 0008 9B6A     		ldr	r3, [r3, #40]
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 703              		.loc 1 409 6 view .LVU167
 704 000a 9420     		movs	r0, #148
 705              	.LVL42:
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 706              		.loc 1 409 6 view .LVU168
 707 000c 9847     		blx	r3
 708              	.LVL43:
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 709              		.loc 1 409 5 view .LVU169
 710 000e 08B1     		cbz	r0, .L65
 411:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 711              		.loc 1 411 12 view .LVU170
 712 0010 0120     		movs	r0, #1
 713              	.L64:
 418:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 714              		.loc 1 418 1 view .LVU171
 715 0012 08BD     		pop	{r3, pc}
 716              	.L65:
 416:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 717              		.loc 1 416 12 view .LVU172
 718 0014 0020     		movs	r0, #0
 719 0016 FCE7     		b	.L64
 720              	.L68:
 721              		.align	2
 722              	.L67:
 723 0018 00000000 		.word	.LANCHOR4
 724              		.cfi_endproc
 725              	.LFE138:
 727              		.section	.text.BSP_AUDIO_OUT_ClockConfig,"ax",%progbits
 728              		.align	1
 729              		.weak	BSP_AUDIO_OUT_ClockConfig
 730              		.syntax unified
 731              		.thumb
 732              		.thumb_func
 734              	BSP_AUDIO_OUT_ClockConfig:
 735              	.LVL44:
 736              	.LFB142:
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 737              		.loc 1 471 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 16
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 741              		.loc 1 471 1 is_stmt 0 view .LVU174
 742 0000 10B5     		push	{r4, lr}
 743              		.cfi_def_cfa_offset 8
 744              		.cfi_offset 4, -8
 745              		.cfi_offset 14, -4
 746 0002 84B0     		sub	sp, sp, #16
 747              		.cfi_def_cfa_offset 24
 472:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 748              		.loc 1 472 3 is_stmt 1 view .LVU175
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 749              		.loc 1 473 3 view .LVU176
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 35


 750              	.LVL45:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 751              		.loc 1 475 3 view .LVU177
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 752              		.loc 1 473 22 is_stmt 0 view .LVU178
 753 0004 FF24     		movs	r4, #255
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 754              		.loc 1 475 13 view .LVU179
 755 0006 0023     		movs	r3, #0
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 756              		.loc 1 475 3 view .LVU180
 757 0008 01E0     		b	.L70
 758              	.LVL46:
 759              	.L71:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 760              		.loc 1 475 34 is_stmt 1 discriminator 2 view .LVU181
 761 000a 0133     		adds	r3, r3, #1
 762              	.LVL47:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 763              		.loc 1 475 34 is_stmt 0 discriminator 2 view .LVU182
 764 000c DBB2     		uxtb	r3, r3
 765              	.LVL48:
 766              	.L70:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 767              		.loc 1 475 24 is_stmt 1 discriminator 1 view .LVU183
 768 000e 072B     		cmp	r3, #7
 769 0010 06D8     		bhi	.L77
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 770              		.loc 1 477 5 view .LVU184
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 771              		.loc 1 477 15 is_stmt 0 view .LVU185
 772 0012 134A     		ldr	r2, .L78
 773 0014 52F82320 		ldr	r2, [r2, r3, lsl #2]
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 774              		.loc 1 477 7 view .LVU186
 775 0018 8A42     		cmp	r2, r1
 776 001a F6D1     		bne	.L71
 479:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 777              		.loc 1 479 17 view .LVU187
 778 001c 1C46     		mov	r4, r3
 779              	.LVL49:
 479:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 780              		.loc 1 479 17 view .LVU188
 781 001e F4E7     		b	.L71
 782              	.LVL50:
 783              	.L77:
 483:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 784              		.loc 1 483 3 is_stmt 1 view .LVU189
 785 0020 6846     		mov	r0, sp
 786              	.LVL51:
 483:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 787              		.loc 1 483 3 is_stmt 0 view .LVU190
 788 0022 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 789              	.LVL52:
 485:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 790              		.loc 1 485 3 is_stmt 1 view .LVU191
 485:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 36


 791              		.loc 1 485 6 is_stmt 0 view .LVU192
 792 0026 14F0070F 		tst	r4, #7
 793 002a 0ED1     		bne	.L73
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 794              		.loc 1 490 5 is_stmt 1 view .LVU193
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 795              		.loc 1 490 37 is_stmt 0 view .LVU194
 796 002c 0123     		movs	r3, #1
 797 002e 0093     		str	r3, [sp]
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 798              		.loc 1 491 5 is_stmt 1 view .LVU195
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 799              		.loc 1 491 40 is_stmt 0 view .LVU196
 800 0030 0C4B     		ldr	r3, .L78+4
 801 0032 53F82430 		ldr	r3, [r3, r4, lsl #2]
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 802              		.loc 1 491 31 view .LVU197
 803 0036 0193     		str	r3, [sp, #4]
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 804              		.loc 1 492 5 is_stmt 1 view .LVU198
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 805              		.loc 1 492 40 is_stmt 0 view .LVU199
 806 0038 0B4B     		ldr	r3, .L78+8
 807 003a 53F82430 		ldr	r3, [r3, r4, lsl #2]
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 808              		.loc 1 492 31 view .LVU200
 809 003e 0293     		str	r3, [sp, #8]
 493:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 810              		.loc 1 493 5 is_stmt 1 view .LVU201
 811 0040 6846     		mov	r0, sp
 812 0042 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 813              	.LVL53:
 814              	.L69:
 505:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 815              		.loc 1 505 1 is_stmt 0 view .LVU202
 816 0046 04B0     		add	sp, sp, #16
 817              		.cfi_remember_state
 818              		.cfi_def_cfa_offset 8
 819              		@ sp needed
 820 0048 10BD     		pop	{r4, pc}
 821              	.LVL54:
 822              	.L73:
 823              		.cfi_restore_state
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 824              		.loc 1 500 5 is_stmt 1 view .LVU203
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 825              		.loc 1 500 37 is_stmt 0 view .LVU204
 826 004a 0123     		movs	r3, #1
 827 004c 0093     		str	r3, [sp]
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 828              		.loc 1 501 5 is_stmt 1 view .LVU205
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 829              		.loc 1 501 31 is_stmt 0 view .LVU206
 830 004e 4FF48173 		mov	r3, #258
 831 0052 0193     		str	r3, [sp, #4]
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 832              		.loc 1 502 5 is_stmt 1 view .LVU207
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 37


 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 833              		.loc 1 502 31 is_stmt 0 view .LVU208
 834 0054 0323     		movs	r3, #3
 835 0056 0293     		str	r3, [sp, #8]
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 836              		.loc 1 503 5 is_stmt 1 view .LVU209
 837 0058 6846     		mov	r0, sp
 838 005a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 839              	.LVL55:
 505:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 840              		.loc 1 505 1 is_stmt 0 view .LVU210
 841 005e F2E7     		b	.L69
 842              	.L79:
 843              		.align	2
 844              	.L78:
 845 0060 00000000 		.word	.LANCHOR5
 846 0064 00000000 		.word	.LANCHOR6
 847 0068 00000000 		.word	.LANCHOR7
 848              		.cfi_endproc
 849              	.LFE142:
 851              		.section	.text.BSP_AUDIO_OUT_SetFrequency,"ax",%progbits
 852              		.align	1
 853              		.global	BSP_AUDIO_OUT_SetFrequency
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 858              	BSP_AUDIO_OUT_SetFrequency:
 859              	.LVL56:
 860              	.LFB139:
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 861              		.loc 1 427 1 is_stmt 1 view -0
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 0
 864              		@ frame_needed = 0, uses_anonymous_args = 0
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 865              		.loc 1 427 1 is_stmt 0 view .LVU212
 866 0000 10B5     		push	{r4, lr}
 867              		.cfi_def_cfa_offset 8
 868              		.cfi_offset 4, -8
 869              		.cfi_offset 14, -4
 870 0002 0446     		mov	r4, r0
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 871              		.loc 1 429 3 is_stmt 1 view .LVU213
 872 0004 0022     		movs	r2, #0
 873 0006 0146     		mov	r1, r0
 874 0008 0348     		ldr	r0, .L82
 875              	.LVL57:
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 876              		.loc 1 429 3 is_stmt 0 view .LVU214
 877 000a FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 878              	.LVL58:
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 879              		.loc 1 432 3 is_stmt 1 view .LVU215
 880 000e 2046     		mov	r0, r4
 881 0010 FFF7FEFF 		bl	I2S3_Init
 882              	.LVL59:
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 38


 883              		.loc 1 433 1 is_stmt 0 view .LVU216
 884 0014 10BD     		pop	{r4, pc}
 885              	.LVL60:
 886              	.L83:
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 887              		.loc 1 433 1 view .LVU217
 888 0016 00BF     		.align	2
 889              	.L82:
 890 0018 00000000 		.word	.LANCHOR0
 891              		.cfi_endproc
 892              	.LFE139:
 894              		.section	.text.BSP_AUDIO_OUT_MspInit,"ax",%progbits
 895              		.align	1
 896              		.weak	BSP_AUDIO_OUT_MspInit
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 901              	BSP_AUDIO_OUT_MspInit:
 902              	.LVL61:
 903              	.LFB143:
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 904              		.loc 1 513 1 is_stmt 1 view -0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 40
 907              		@ frame_needed = 0, uses_anonymous_args = 0
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 908              		.loc 1 513 1 is_stmt 0 view .LVU219
 909 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 910              		.cfi_def_cfa_offset 20
 911              		.cfi_offset 4, -20
 912              		.cfi_offset 5, -16
 913              		.cfi_offset 6, -12
 914              		.cfi_offset 7, -8
 915              		.cfi_offset 14, -4
 916 0002 8BB0     		sub	sp, sp, #44
 917              		.cfi_def_cfa_offset 64
 918 0004 0646     		mov	r6, r0
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 919              		.loc 1 514 3 is_stmt 1 view .LVU220
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 920              		.loc 1 515 3 view .LVU221
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 921              		.loc 1 518 3 view .LVU222
 922              	.LBB3:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 923              		.loc 1 518 3 view .LVU223
 924 0006 0025     		movs	r5, #0
 925 0008 0095     		str	r5, [sp]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 926              		.loc 1 518 3 view .LVU224
 927 000a 3F4C     		ldr	r4, .L88
 928 000c 236C     		ldr	r3, [r4, #64]
 929 000e 43F40043 		orr	r3, r3, #32768
 930 0012 2364     		str	r3, [r4, #64]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 931              		.loc 1 518 3 view .LVU225
 932 0014 236C     		ldr	r3, [r4, #64]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 39


 933 0016 03F40043 		and	r3, r3, #32768
 934 001a 0093     		str	r3, [sp]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 935              		.loc 1 518 3 view .LVU226
 936 001c 009B     		ldr	r3, [sp]
 937              	.LBE3:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 938              		.loc 1 518 3 view .LVU227
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 939              		.loc 1 522 3 view .LVU228
 940              	.LBB4:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 941              		.loc 1 522 3 view .LVU229
 942 001e 0195     		str	r5, [sp, #4]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 943              		.loc 1 522 3 view .LVU230
 944 0020 236B     		ldr	r3, [r4, #48]
 945 0022 43F00403 		orr	r3, r3, #4
 946 0026 2363     		str	r3, [r4, #48]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 947              		.loc 1 522 3 view .LVU231
 948 0028 236B     		ldr	r3, [r4, #48]
 949 002a 03F00403 		and	r3, r3, #4
 950 002e 0193     		str	r3, [sp, #4]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 951              		.loc 1 522 3 view .LVU232
 952 0030 019B     		ldr	r3, [sp, #4]
 953              	.LBE4:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 954              		.loc 1 522 3 view .LVU233
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 955              		.loc 1 523 3 view .LVU234
 956              	.LBB5:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 957              		.loc 1 523 3 view .LVU235
 958 0032 0295     		str	r5, [sp, #8]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 959              		.loc 1 523 3 view .LVU236
 960 0034 236B     		ldr	r3, [r4, #48]
 961 0036 43F00103 		orr	r3, r3, #1
 962 003a 2363     		str	r3, [r4, #48]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 963              		.loc 1 523 3 view .LVU237
 964 003c 236B     		ldr	r3, [r4, #48]
 965 003e 03F00103 		and	r3, r3, #1
 966 0042 0293     		str	r3, [sp, #8]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 967              		.loc 1 523 3 view .LVU238
 968 0044 029B     		ldr	r3, [sp, #8]
 969              	.LBE5:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 970              		.loc 1 523 3 view .LVU239
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 971              		.loc 1 526 3 view .LVU240
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 972              		.loc 1 526 31 is_stmt 0 view .LVU241
 973 0046 4FF4A053 		mov	r3, #5120
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 40


 974 004a 0593     		str	r3, [sp, #20]
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 975              		.loc 1 527 3 is_stmt 1 view .LVU242
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 976              		.loc 1 527 31 is_stmt 0 view .LVU243
 977 004c 0223     		movs	r3, #2
 978 004e 0693     		str	r3, [sp, #24]
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 979              		.loc 1 528 3 is_stmt 1 view .LVU244
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 980              		.loc 1 528 31 is_stmt 0 view .LVU245
 981 0050 0795     		str	r5, [sp, #28]
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 982              		.loc 1 529 3 is_stmt 1 view .LVU246
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 983              		.loc 1 529 31 is_stmt 0 view .LVU247
 984 0052 0893     		str	r3, [sp, #32]
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 985              		.loc 1 530 3 is_stmt 1 view .LVU248
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 986              		.loc 1 530 31 is_stmt 0 view .LVU249
 987 0054 0623     		movs	r3, #6
 988 0056 0993     		str	r3, [sp, #36]
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 989              		.loc 1 531 3 is_stmt 1 view .LVU250
 990 0058 2C4F     		ldr	r7, .L88+4
 991 005a 05A9     		add	r1, sp, #20
 992              	.LVL62:
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 993              		.loc 1 531 3 is_stmt 0 view .LVU251
 994 005c 3846     		mov	r0, r7
 995              	.LVL63:
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 996              		.loc 1 531 3 view .LVU252
 997 005e FFF7FEFF 		bl	HAL_GPIO_Init
 998              	.LVL64:
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 999              		.loc 1 533 3 is_stmt 1 view .LVU253
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 1000              		.loc 1 533 31 is_stmt 0 view .LVU254
 1001 0062 1023     		movs	r3, #16
 1002 0064 0593     		str	r3, [sp, #20]
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1003              		.loc 1 534 3 is_stmt 1 view .LVU255
 1004 0066 05A9     		add	r1, sp, #20
 1005 0068 2948     		ldr	r0, .L88+8
 1006 006a FFF7FEFF 		bl	HAL_GPIO_Init
 1007              	.LVL65:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1008              		.loc 1 537 3 view .LVU256
 1009              	.LBB6:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1010              		.loc 1 537 3 view .LVU257
 1011 006e 0395     		str	r5, [sp, #12]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1012              		.loc 1 537 3 view .LVU258
 1013 0070 236B     		ldr	r3, [r4, #48]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 41


 1014 0072 43F00403 		orr	r3, r3, #4
 1015 0076 2363     		str	r3, [r4, #48]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1016              		.loc 1 537 3 view .LVU259
 1017 0078 236B     		ldr	r3, [r4, #48]
 1018 007a 03F00403 		and	r3, r3, #4
 1019 007e 0393     		str	r3, [sp, #12]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1020              		.loc 1 537 3 view .LVU260
 1021 0080 039B     		ldr	r3, [sp, #12]
 1022              	.LBE6:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 1023              		.loc 1 537 3 view .LVU261
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 1024              		.loc 1 538 3 view .LVU262
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 1025              		.loc 1 538 31 is_stmt 0 view .LVU263
 1026 0082 8023     		movs	r3, #128
 1027 0084 0593     		str	r3, [sp, #20]
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1028              		.loc 1 539 3 is_stmt 1 view .LVU264
 1029 0086 05A9     		add	r1, sp, #20
 1030 0088 3846     		mov	r0, r7
 1031 008a FFF7FEFF 		bl	HAL_GPIO_Init
 1032              	.LVL66:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1033              		.loc 1 542 3 view .LVU265
 1034              	.LBB7:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1035              		.loc 1 542 3 view .LVU266
 1036 008e 0495     		str	r5, [sp, #16]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1037              		.loc 1 542 3 view .LVU267
 1038 0090 236B     		ldr	r3, [r4, #48]
 1039 0092 43F40013 		orr	r3, r3, #2097152
 1040 0096 2363     		str	r3, [r4, #48]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1041              		.loc 1 542 3 view .LVU268
 1042 0098 236B     		ldr	r3, [r4, #48]
 1043 009a 03F40013 		and	r3, r3, #2097152
 1044 009e 0493     		str	r3, [sp, #16]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1045              		.loc 1 542 3 view .LVU269
 1046 00a0 049B     		ldr	r3, [sp, #16]
 1047              	.LBE7:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1048              		.loc 1 542 3 view .LVU270
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1049              		.loc 1 544 3 view .LVU271
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1050              		.loc 1 544 10 is_stmt 0 view .LVU272
 1051 00a2 3268     		ldr	r2, [r6]
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1052              		.loc 1 544 5 view .LVU273
 1053 00a4 1B4B     		ldr	r3, .L88+12
 1054 00a6 9A42     		cmp	r2, r3
 1055 00a8 09D0     		beq	.L87
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 42


 1056              	.L85:
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 1057              		.loc 1 579 3 is_stmt 1 view .LVU274
 1058 00aa 0022     		movs	r2, #0
 1059 00ac 0E21     		movs	r1, #14
 1060 00ae 2F20     		movs	r0, #47
 1061 00b0 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1062              	.LVL67:
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1063              		.loc 1 580 3 view .LVU275
 1064 00b4 2F20     		movs	r0, #47
 1065 00b6 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1066              	.LVL68:
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1067              		.loc 1 581 1 is_stmt 0 view .LVU276
 1068 00ba 0BB0     		add	sp, sp, #44
 1069              		.cfi_remember_state
 1070              		.cfi_def_cfa_offset 20
 1071              		@ sp needed
 1072 00bc F0BD     		pop	{r4, r5, r6, r7, pc}
 1073              	.LVL69:
 1074              	.L87:
 1075              		.cfi_restore_state
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 1076              		.loc 1 547 5 is_stmt 1 view .LVU277
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 1077              		.loc 1 547 41 is_stmt 0 view .LVU278
 1078 00be 164C     		ldr	r4, .L88+16
 1079 00c0 6560     		str	r5, [r4, #4]
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 1080              		.loc 1 548 5 is_stmt 1 view .LVU279
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 1081              		.loc 1 548 41 is_stmt 0 view .LVU280
 1082 00c2 4022     		movs	r2, #64
 1083 00c4 A260     		str	r2, [r4, #8]
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
 1084              		.loc 1 549 5 is_stmt 1 view .LVU281
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
 1085              		.loc 1 549 41 is_stmt 0 view .LVU282
 1086 00c6 E560     		str	r5, [r4, #12]
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 1087              		.loc 1 550 5 is_stmt 1 view .LVU283
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 1088              		.loc 1 550 41 is_stmt 0 view .LVU284
 1089 00c8 4FF48062 		mov	r2, #1024
 1090 00cc 2261     		str	r2, [r4, #16]
 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 1091              		.loc 1 551 5 is_stmt 1 view .LVU285
 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 1092              		.loc 1 551 41 is_stmt 0 view .LVU286
 1093 00ce 4FF40062 		mov	r2, #2048
 1094 00d2 6261     		str	r2, [r4, #20]
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1095              		.loc 1 552 5 is_stmt 1 view .LVU287
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1096              		.loc 1 552 41 is_stmt 0 view .LVU288
 1097 00d4 4FF40052 		mov	r2, #8192
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 43


 1098 00d8 A261     		str	r2, [r4, #24]
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 1099              		.loc 1 556 5 is_stmt 1 view .LVU289
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 1100              		.loc 1 556 41 is_stmt 0 view .LVU290
 1101 00da 4FF48072 		mov	r2, #256
 1102 00de E261     		str	r2, [r4, #28]
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 1103              		.loc 1 560 5 is_stmt 1 view .LVU291
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 1104              		.loc 1 560 41 is_stmt 0 view .LVU292
 1105 00e0 4FF40032 		mov	r2, #131072
 1106 00e4 2262     		str	r2, [r4, #32]
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 1107              		.loc 1 561 5 is_stmt 1 view .LVU293
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 1108              		.loc 1 561 41 is_stmt 0 view .LVU294
 1109 00e6 0422     		movs	r2, #4
 1110 00e8 6262     		str	r2, [r4, #36]
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1111              		.loc 1 562 5 is_stmt 1 view .LVU295
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1112              		.loc 1 562 41 is_stmt 0 view .LVU296
 1113 00ea 0322     		movs	r2, #3
 1114 00ec A262     		str	r2, [r4, #40]
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 1115              		.loc 1 563 5 is_stmt 1 view .LVU297
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 1116              		.loc 1 563 41 is_stmt 0 view .LVU298
 1117 00ee E562     		str	r5, [r4, #44]
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1118              		.loc 1 564 5 is_stmt 1 view .LVU299
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1119              		.loc 1 564 41 is_stmt 0 view .LVU300
 1120 00f0 2563     		str	r5, [r4, #48]
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1121              		.loc 1 566 5 is_stmt 1 view .LVU301
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1122              		.loc 1 566 41 is_stmt 0 view .LVU302
 1123 00f2 0A4B     		ldr	r3, .L88+20
 1124 00f4 2360     		str	r3, [r4]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1125              		.loc 1 569 5 is_stmt 1 view .LVU303
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1126              		.loc 1 569 5 view .LVU304
 1127 00f6 B463     		str	r4, [r6, #56]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1128              		.loc 1 569 5 view .LVU305
 1129 00f8 A663     		str	r6, [r4, #56]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1130              		.loc 1 569 5 view .LVU306
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1131              		.loc 1 572 5 view .LVU307
 1132 00fa 2046     		mov	r0, r4
 1133 00fc FFF7FEFF 		bl	HAL_DMA_DeInit
 1134              	.LVL70:
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 44


 1135              		.loc 1 575 5 view .LVU308
 1136 0100 2046     		mov	r0, r4
 1137 0102 FFF7FEFF 		bl	HAL_DMA_Init
 1138              	.LVL71:
 1139 0106 D0E7     		b	.L85
 1140              	.L89:
 1141              		.align	2
 1142              	.L88:
 1143 0108 00380240 		.word	1073887232
 1144 010c 00080240 		.word	1073874944
 1145 0110 00000240 		.word	1073872896
 1146 0114 003C0040 		.word	1073757184
 1147 0118 00000000 		.word	.LANCHOR8
 1148 011c B8600240 		.word	1073897656
 1149              		.cfi_endproc
 1150              	.LFE143:
 1152              		.section	.text.BSP_AUDIO_OUT_Init,"ax",%progbits
 1153              		.align	1
 1154              		.global	BSP_AUDIO_OUT_Init
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	BSP_AUDIO_OUT_Init:
 1160              	.LVL72:
 1161              	.LFB130:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 1162              		.loc 1 198 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 0
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 1166              		.loc 1 198 1 is_stmt 0 view .LVU310
 1167 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1168              		.cfi_def_cfa_offset 24
 1169              		.cfi_offset 4, -24
 1170              		.cfi_offset 5, -20
 1171              		.cfi_offset 6, -16
 1172              		.cfi_offset 7, -12
 1173              		.cfi_offset 8, -8
 1174              		.cfi_offset 14, -4
 1175 0004 0646     		mov	r6, r0
 1176 0006 0F46     		mov	r7, r1
 1177 0008 1446     		mov	r4, r2
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1178              		.loc 1 199 3 is_stmt 1 view .LVU311
 1179              	.LVL73:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1180              		.loc 1 202 3 view .LVU312
 1181 000a 194D     		ldr	r5, .L99
 1182 000c 0022     		movs	r2, #0
 1183              	.LVL74:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1184              		.loc 1 202 3 is_stmt 0 view .LVU313
 1185 000e 2146     		mov	r1, r4
 1186              	.LVL75:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1187              		.loc 1 202 3 view .LVU314
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 45


 1188 0010 2846     		mov	r0, r5
 1189              	.LVL76:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1190              		.loc 1 202 3 view .LVU315
 1191 0012 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 1192              	.LVL77:
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 1193              		.loc 1 206 3 is_stmt 1 view .LVU316
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 1194              		.loc 1 206 25 is_stmt 0 view .LVU317
 1195 0016 174B     		ldr	r3, .L99+4
 1196 0018 2B60     		str	r3, [r5]
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1197              		.loc 1 207 3 is_stmt 1 view .LVU318
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1198              		.loc 1 207 6 is_stmt 0 view .LVU319
 1199 001a 2846     		mov	r0, r5
 1200 001c FFF7FEFF 		bl	HAL_I2S_GetState
 1201              	.LVL78:
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1202              		.loc 1 207 5 view .LVU320
 1203 0020 70B1     		cbz	r0, .L97
 1204              	.L91:
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1205              		.loc 1 216 3 is_stmt 1 view .LVU321
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1206              		.loc 1 216 6 is_stmt 0 view .LVU322
 1207 0022 2046     		mov	r0, r4
 1208 0024 FFF7FEFF 		bl	I2S3_Init
 1209              	.LVL79:
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1210              		.loc 1 216 5 view .LVU323
 1211 0028 0546     		mov	r5, r0
 1212 002a 90B9     		cbnz	r0, .L94
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1213              		.loc 1 221 3 is_stmt 1 view .LVU324
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1214              		.loc 1 224 5 view .LVU325
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1215              		.loc 1 224 21 is_stmt 0 view .LVU326
 1216 002c 124B     		ldr	r3, .L99+8
 1217 002e 9B68     		ldr	r3, [r3, #8]
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1218              		.loc 1 224 10 view .LVU327
 1219 0030 9420     		movs	r0, #148
 1220 0032 9847     		blx	r3
 1221              	.LVL80:
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1222              		.loc 1 224 49 view .LVU328
 1223 0034 00F0F800 		and	r0, r0, #248
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1224              		.loc 1 224 7 view .LVU329
 1225 0038 E028     		cmp	r0, #224
 1226 003a 06D0     		beq	.L98
 231:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1227              		.loc 1 231 11 view .LVU330
 1228 003c 0125     		movs	r5, #1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 46


 1229 003e 13E0     		b	.L93
 1230              	.L97:
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1231              		.loc 1 210 5 is_stmt 1 view .LVU331
 1232 0040 0021     		movs	r1, #0
 1233 0042 2846     		mov	r0, r5
 1234 0044 FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 1235              	.LVL81:
 1236 0048 EBE7     		b	.L91
 1237              	.L98:
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1238              		.loc 1 227 7 view .LVU332
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1239              		.loc 1 227 17 is_stmt 0 view .LVU333
 1240 004a 0C4B     		ldr	r3, .L99+12
 1241 004c 0A4A     		ldr	r2, .L99+8
 1242 004e 1A60     		str	r2, [r3]
 1243 0050 00E0     		b	.L92
 1244              	.L94:
 218:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1245              		.loc 1 218 9 view .LVU334
 1246 0052 0125     		movs	r5, #1
 1247              	.L92:
 1248              	.LVL82:
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1249              		.loc 1 235 3 is_stmt 1 view .LVU335
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1250              		.loc 1 235 5 is_stmt 0 view .LVU336
 1251 0054 45B9     		cbnz	r5, .L93
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1252              		.loc 1 237 5 is_stmt 1 view .LVU337
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1253              		.loc 1 237 14 is_stmt 0 view .LVU338
 1254 0056 094B     		ldr	r3, .L99+12
 1255 0058 1B68     		ldr	r3, [r3]
 1256 005a D3F80080 		ldr	r8, [r3]
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1257              		.loc 1 237 5 view .LVU339
 1258 005e 2346     		mov	r3, r4
 1259 0060 3A46     		mov	r2, r7
 1260 0062 3146     		mov	r1, r6
 1261 0064 9420     		movs	r0, #148
 1262 0066 C047     		blx	r8
 1263              	.LVL83:
 1264              	.L93:
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1265              		.loc 1 240 3 is_stmt 1 view .LVU340
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1266              		.loc 1 241 1 is_stmt 0 view .LVU341
 1267 0068 2846     		mov	r0, r5
 1268 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1269              	.LVL84:
 1270              	.L100:
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1271              		.loc 1 241 1 view .LVU342
 1272 006e 00BF     		.align	2
 1273              	.L99:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 47


 1274 0070 00000000 		.word	.LANCHOR0
 1275 0074 003C0040 		.word	1073757184
 1276 0078 00000000 		.word	cs43l22_drv
 1277 007c 00000000 		.word	.LANCHOR4
 1278              		.cfi_endproc
 1279              	.LFE130:
 1281              		.section	.text.BSP_AUDIO_OUT_MspDeInit,"ax",%progbits
 1282              		.align	1
 1283              		.weak	BSP_AUDIO_OUT_MspDeInit
 1284              		.syntax unified
 1285              		.thumb
 1286              		.thumb_func
 1288              	BSP_AUDIO_OUT_MspDeInit:
 1289              	.LVL85:
 1290              	.LFB144:
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1291              		.loc 1 589 1 is_stmt 1 view -0
 1292              		.cfi_startproc
 1293              		@ args = 0, pretend = 0, frame = 24
 1294              		@ frame_needed = 0, uses_anonymous_args = 0
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1295              		.loc 1 589 1 is_stmt 0 view .LVU344
 1296 0000 10B5     		push	{r4, lr}
 1297              		.cfi_def_cfa_offset 8
 1298              		.cfi_offset 4, -8
 1299              		.cfi_offset 14, -4
 1300 0002 86B0     		sub	sp, sp, #24
 1301              		.cfi_def_cfa_offset 32
 1302 0004 0446     		mov	r4, r0
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1303              		.loc 1 590 3 is_stmt 1 view .LVU345
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1304              		.loc 1 593 3 view .LVU346
 1305 0006 2F20     		movs	r0, #47
 1306              	.LVL86:
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1307              		.loc 1 593 3 is_stmt 0 view .LVU347
 1308 0008 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1309              	.LVL87:
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1310              		.loc 1 595 3 is_stmt 1 view .LVU348
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1311              		.loc 1 595 10 is_stmt 0 view .LVU349
 1312 000c 2268     		ldr	r2, [r4]
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1313              		.loc 1 595 5 view .LVU350
 1314 000e 124B     		ldr	r3, .L105
 1315 0010 9A42     		cmp	r2, r3
 1316 0012 1CD0     		beq	.L104
 1317              	.L102:
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1318              		.loc 1 602 3 is_stmt 1 view .LVU351
 1319 0014 2268     		ldr	r2, [r4]
 1320 0016 D369     		ldr	r3, [r2, #28]
 1321 0018 23F48063 		bic	r3, r3, #1024
 1322 001c D361     		str	r3, [r2, #28]
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 48


 1323              		.loc 1 605 3 view .LVU352
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 1324              		.loc 1 605 23 is_stmt 0 view .LVU353
 1325 001e 4FF4A051 		mov	r1, #5120
 1326 0022 0191     		str	r1, [sp, #4]
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1327              		.loc 1 606 3 is_stmt 1 view .LVU354
 1328 0024 0D4C     		ldr	r4, .L105+4
 1329              	.LVL88:
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1330              		.loc 1 606 3 is_stmt 0 view .LVU355
 1331 0026 2046     		mov	r0, r4
 1332 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1333              	.LVL89:
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 1334              		.loc 1 609 3 is_stmt 1 view .LVU356
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 1335              		.loc 1 609 23 is_stmt 0 view .LVU357
 1336 002c 1021     		movs	r1, #16
 1337 002e 0191     		str	r1, [sp, #4]
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1338              		.loc 1 610 3 is_stmt 1 view .LVU358
 1339 0030 0B48     		ldr	r0, .L105+8
 1340 0032 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1341              	.LVL90:
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 1342              		.loc 1 613 3 view .LVU359
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 1343              		.loc 1 613 23 is_stmt 0 view .LVU360
 1344 0036 8021     		movs	r1, #128
 1345 0038 0191     		str	r1, [sp, #4]
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1346              		.loc 1 614 3 is_stmt 1 view .LVU361
 1347 003a 2046     		mov	r0, r4
 1348 003c FFF7FEFF 		bl	HAL_GPIO_DeInit
 1349              	.LVL91:
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1350              		.loc 1 617 3 view .LVU362
 1351 0040 084A     		ldr	r2, .L105+12
 1352 0042 136C     		ldr	r3, [r2, #64]
 1353 0044 23F40043 		bic	r3, r3, #32768
 1354 0048 1364     		str	r3, [r2, #64]
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1355              		.loc 1 621 1 is_stmt 0 view .LVU363
 1356 004a 06B0     		add	sp, sp, #24
 1357              		.cfi_remember_state
 1358              		.cfi_def_cfa_offset 8
 1359              		@ sp needed
 1360 004c 10BD     		pop	{r4, pc}
 1361              	.LVL92:
 1362              	.L104:
 1363              		.cfi_restore_state
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1364              		.loc 1 598 5 is_stmt 1 view .LVU364
 1365 004e A06B     		ldr	r0, [r4, #56]
 1366 0050 FFF7FEFF 		bl	HAL_DMA_DeInit
 1367              	.LVL93:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 49


 1368 0054 DEE7     		b	.L102
 1369              	.L106:
 1370 0056 00BF     		.align	2
 1371              	.L105:
 1372 0058 003C0040 		.word	1073757184
 1373 005c 00080240 		.word	1073874944
 1374 0060 00000240 		.word	1073872896
 1375 0064 00380240 		.word	1073887232
 1376              		.cfi_endproc
 1377              	.LFE144:
 1379              		.section	.text.BSP_AUDIO_OUT_TransferComplete_CallBack,"ax",%progbits
 1380              		.align	1
 1381              		.weak	BSP_AUDIO_OUT_TransferComplete_CallBack
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1386              	BSP_AUDIO_OUT_TransferComplete_CallBack:
 1387              	.LFB145:
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1388              		.loc 1 627 1 view -0
 1389              		.cfi_startproc
 1390              		@ args = 0, pretend = 0, frame = 0
 1391              		@ frame_needed = 0, uses_anonymous_args = 0
 1392              		@ link register save eliminated.
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1393              		.loc 1 628 1 view .LVU366
 1394 0000 7047     		bx	lr
 1395              		.cfi_endproc
 1396              	.LFE145:
 1398              		.section	.text.HAL_I2S_TxCpltCallback,"ax",%progbits
 1399              		.align	1
 1400              		.global	HAL_I2S_TxCpltCallback
 1401              		.syntax unified
 1402              		.thumb
 1403              		.thumb_func
 1405              	HAL_I2S_TxCpltCallback:
 1406              	.LVL94:
 1407              	.LFB140:
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1408              		.loc 1 440 1 view -0
 1409              		.cfi_startproc
 1410              		@ args = 0, pretend = 0, frame = 0
 1411              		@ frame_needed = 0, uses_anonymous_args = 0
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1412              		.loc 1 440 1 is_stmt 0 view .LVU368
 1413 0000 08B5     		push	{r3, lr}
 1414              		.cfi_def_cfa_offset 8
 1415              		.cfi_offset 3, -8
 1416              		.cfi_offset 14, -4
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1417              		.loc 1 441 3 is_stmt 1 view .LVU369
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1418              		.loc 1 441 10 is_stmt 0 view .LVU370
 1419 0002 0268     		ldr	r2, [r0]
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1420              		.loc 1 441 5 view .LVU371
 1421 0004 034B     		ldr	r3, .L112
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 50


 1422 0006 9A42     		cmp	r2, r3
 1423 0008 00D0     		beq	.L111
 1424              	.LVL95:
 1425              	.L108:
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1426              		.loc 1 446 1 view .LVU372
 1427 000a 08BD     		pop	{r3, pc}
 1428              	.LVL96:
 1429              	.L111:
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1430              		.loc 1 444 5 is_stmt 1 view .LVU373
 1431 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_TransferComplete_CallBack
 1432              	.LVL97:
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1433              		.loc 1 446 1 is_stmt 0 view .LVU374
 1434 0010 FBE7     		b	.L108
 1435              	.L113:
 1436 0012 00BF     		.align	2
 1437              	.L112:
 1438 0014 003C0040 		.word	1073757184
 1439              		.cfi_endproc
 1440              	.LFE140:
 1442              		.section	.text.BSP_AUDIO_OUT_HalfTransfer_CallBack,"ax",%progbits
 1443              		.align	1
 1444              		.weak	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1445              		.syntax unified
 1446              		.thumb
 1447              		.thumb_func
 1449              	BSP_AUDIO_OUT_HalfTransfer_CallBack:
 1450              	.LFB146:
 634:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1451              		.loc 1 634 1 is_stmt 1 view -0
 1452              		.cfi_startproc
 1453              		@ args = 0, pretend = 0, frame = 0
 1454              		@ frame_needed = 0, uses_anonymous_args = 0
 1455              		@ link register save eliminated.
 635:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1456              		.loc 1 635 1 view .LVU376
 1457 0000 7047     		bx	lr
 1458              		.cfi_endproc
 1459              	.LFE146:
 1461              		.section	.text.HAL_I2S_TxHalfCpltCallback,"ax",%progbits
 1462              		.align	1
 1463              		.global	HAL_I2S_TxHalfCpltCallback
 1464              		.syntax unified
 1465              		.thumb
 1466              		.thumb_func
 1468              	HAL_I2S_TxHalfCpltCallback:
 1469              	.LVL98:
 1470              	.LFB141:
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1471              		.loc 1 453 1 view -0
 1472              		.cfi_startproc
 1473              		@ args = 0, pretend = 0, frame = 0
 1474              		@ frame_needed = 0, uses_anonymous_args = 0
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1475              		.loc 1 453 1 is_stmt 0 view .LVU378
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 51


 1476 0000 08B5     		push	{r3, lr}
 1477              		.cfi_def_cfa_offset 8
 1478              		.cfi_offset 3, -8
 1479              		.cfi_offset 14, -4
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1480              		.loc 1 454 3 is_stmt 1 view .LVU379
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1481              		.loc 1 454 10 is_stmt 0 view .LVU380
 1482 0002 0268     		ldr	r2, [r0]
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1483              		.loc 1 454 5 view .LVU381
 1484 0004 034B     		ldr	r3, .L119
 1485 0006 9A42     		cmp	r2, r3
 1486 0008 00D0     		beq	.L118
 1487              	.LVL99:
 1488              	.L115:
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1489              		.loc 1 460 1 view .LVU382
 1490 000a 08BD     		pop	{r3, pc}
 1491              	.LVL100:
 1492              	.L118:
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1493              		.loc 1 458 5 is_stmt 1 view .LVU383
 1494 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1495              	.LVL101:
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1496              		.loc 1 460 1 is_stmt 0 view .LVU384
 1497 0010 FBE7     		b	.L115
 1498              	.L120:
 1499 0012 00BF     		.align	2
 1500              	.L119:
 1501 0014 003C0040 		.word	1073757184
 1502              		.cfi_endproc
 1503              	.LFE141:
 1505              		.section	.text.BSP_AUDIO_OUT_Error_CallBack,"ax",%progbits
 1506              		.align	1
 1507              		.weak	BSP_AUDIO_OUT_Error_CallBack
 1508              		.syntax unified
 1509              		.thumb
 1510              		.thumb_func
 1512              	BSP_AUDIO_OUT_Error_CallBack:
 1513              	.LFB147:
 641:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1514              		.loc 1 641 1 is_stmt 1 view -0
 1515              		.cfi_startproc
 1516              		@ args = 0, pretend = 0, frame = 0
 1517              		@ frame_needed = 0, uses_anonymous_args = 0
 1518              		@ link register save eliminated.
 642:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1519              		.loc 1 642 1 view .LVU386
 1520 0000 7047     		bx	lr
 1521              		.cfi_endproc
 1522              	.LFE147:
 1524              		.section	.text.BSP_AUDIO_IN_Record,"ax",%progbits
 1525              		.align	1
 1526              		.global	BSP_AUDIO_IN_Record
 1527              		.syntax unified
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 52


 1528              		.thumb
 1529              		.thumb_func
 1531              	BSP_AUDIO_IN_Record:
 1532              	.LVL102:
 1533              	.LFB150:
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1534              		.loc 1 727 1 view -0
 1535              		.cfi_startproc
 1536              		@ args = 0, pretend = 0, frame = 0
 1537              		@ frame_needed = 0, uses_anonymous_args = 0
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1538              		.loc 1 727 1 is_stmt 0 view .LVU388
 1539 0000 08B5     		push	{r3, lr}
 1540              		.cfi_def_cfa_offset 8
 1541              		.cfi_offset 3, -8
 1542              		.cfi_offset 14, -4
 728:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1543              		.loc 1 728 3 is_stmt 1 view .LVU389
 1544              	.LVL103:
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1545              		.loc 1 731 3 view .LVU390
 1546 0002 8AB2     		uxth	r2, r1
 1547 0004 0146     		mov	r1, r0
 1548              	.LVL104:
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1549              		.loc 1 731 3 is_stmt 0 view .LVU391
 1550 0006 0248     		ldr	r0, .L124
 1551              	.LVL105:
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1552              		.loc 1 731 3 view .LVU392
 1553 0008 FFF7FEFF 		bl	HAL_I2S_Receive_DMA
 1554              	.LVL106:
 734:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1555              		.loc 1 734 3 is_stmt 1 view .LVU393
 736:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1556              		.loc 1 736 3 view .LVU394
 737:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1557              		.loc 1 737 1 is_stmt 0 view .LVU395
 1558 000c 0020     		movs	r0, #0
 1559 000e 08BD     		pop	{r3, pc}
 1560              	.L125:
 1561              		.align	2
 1562              	.L124:
 1563 0010 00000000 		.word	.LANCHOR1
 1564              		.cfi_endproc
 1565              	.LFE150:
 1567              		.section	.text.BSP_AUDIO_IN_Stop,"ax",%progbits
 1568              		.align	1
 1569              		.global	BSP_AUDIO_IN_Stop
 1570              		.syntax unified
 1571              		.thumb
 1572              		.thumb_func
 1574              	BSP_AUDIO_IN_Stop:
 1575              	.LFB151:
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1576              		.loc 1 744 1 is_stmt 1 view -0
 1577              		.cfi_startproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 53


 1578              		@ args = 0, pretend = 0, frame = 0
 1579              		@ frame_needed = 0, uses_anonymous_args = 0
 1580 0000 08B5     		push	{r3, lr}
 1581              		.cfi_def_cfa_offset 8
 1582              		.cfi_offset 3, -8
 1583              		.cfi_offset 14, -4
 745:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1584              		.loc 1 745 3 view .LVU397
 1585              	.LVL107:
 748:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1586              		.loc 1 748 3 view .LVU398
 1587 0002 0248     		ldr	r0, .L128
 1588 0004 FFF7FEFF 		bl	HAL_I2S_DMAStop
 1589              	.LVL108:
 751:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1590              		.loc 1 751 3 view .LVU399
 753:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1591              		.loc 1 753 3 view .LVU400
 754:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1592              		.loc 1 754 1 is_stmt 0 view .LVU401
 1593 0008 0020     		movs	r0, #0
 1594 000a 08BD     		pop	{r3, pc}
 1595              	.L129:
 1596              		.align	2
 1597              	.L128:
 1598 000c 00000000 		.word	.LANCHOR1
 1599              		.cfi_endproc
 1600              	.LFE151:
 1602              		.section	.text.BSP_AUDIO_IN_Pause,"ax",%progbits
 1603              		.align	1
 1604              		.global	BSP_AUDIO_IN_Pause
 1605              		.syntax unified
 1606              		.thumb
 1607              		.thumb_func
 1609              	BSP_AUDIO_IN_Pause:
 1610              	.LFB152:
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 1611              		.loc 1 761 1 is_stmt 1 view -0
 1612              		.cfi_startproc
 1613              		@ args = 0, pretend = 0, frame = 0
 1614              		@ frame_needed = 0, uses_anonymous_args = 0
 1615 0000 08B5     		push	{r3, lr}
 1616              		.cfi_def_cfa_offset 8
 1617              		.cfi_offset 3, -8
 1618              		.cfi_offset 14, -4
 763:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1619              		.loc 1 763 3 view .LVU403
 1620 0002 0248     		ldr	r0, .L132
 1621 0004 FFF7FEFF 		bl	HAL_I2S_DMAPause
 1622              	.LVL109:
 766:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1623              		.loc 1 766 3 view .LVU404
 767:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1624              		.loc 1 767 1 is_stmt 0 view .LVU405
 1625 0008 0020     		movs	r0, #0
 1626 000a 08BD     		pop	{r3, pc}
 1627              	.L133:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 54


 1628              		.align	2
 1629              	.L132:
 1630 000c 00000000 		.word	.LANCHOR1
 1631              		.cfi_endproc
 1632              	.LFE152:
 1634              		.section	.text.BSP_AUDIO_IN_Resume,"ax",%progbits
 1635              		.align	1
 1636              		.global	BSP_AUDIO_IN_Resume
 1637              		.syntax unified
 1638              		.thumb
 1639              		.thumb_func
 1641              	BSP_AUDIO_IN_Resume:
 1642              	.LFB153:
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 1643              		.loc 1 774 1 is_stmt 1 view -0
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 0
 1646              		@ frame_needed = 0, uses_anonymous_args = 0
 1647 0000 08B5     		push	{r3, lr}
 1648              		.cfi_def_cfa_offset 8
 1649              		.cfi_offset 3, -8
 1650              		.cfi_offset 14, -4
 776:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1651              		.loc 1 776 3 view .LVU407
 1652 0002 0248     		ldr	r0, .L136
 1653 0004 FFF7FEFF 		bl	HAL_I2S_DMAResume
 1654              	.LVL110:
 779:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1655              		.loc 1 779 3 view .LVU408
 780:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1656              		.loc 1 780 1 is_stmt 0 view .LVU409
 1657 0008 0020     		movs	r0, #0
 1658 000a 08BD     		pop	{r3, pc}
 1659              	.L137:
 1660              		.align	2
 1661              	.L136:
 1662 000c 00000000 		.word	.LANCHOR1
 1663              		.cfi_endproc
 1664              	.LFE153:
 1666              		.section	.text.BSP_AUDIO_IN_SetVolume,"ax",%progbits
 1667              		.align	1
 1668              		.global	BSP_AUDIO_IN_SetVolume
 1669              		.syntax unified
 1670              		.thumb
 1671              		.thumb_func
 1673              	BSP_AUDIO_IN_SetVolume:
 1674              	.LVL111:
 1675              	.LFB154:
 789:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Set the Global variable AudioInVolume */
 1676              		.loc 1 789 1 is_stmt 1 view -0
 1677              		.cfi_startproc
 1678              		@ args = 0, pretend = 0, frame = 0
 1679              		@ frame_needed = 0, uses_anonymous_args = 0
 1680              		@ link register save eliminated.
 791:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1681              		.loc 1 791 3 view .LVU411
 791:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 55


 1682              		.loc 1 791 17 is_stmt 0 view .LVU412
 1683 0000 014B     		ldr	r3, .L139
 1684 0002 1880     		strh	r0, [r3]	@ movhi
 794:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1685              		.loc 1 794 3 is_stmt 1 view .LVU413
 795:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1686              		.loc 1 795 1 is_stmt 0 view .LVU414
 1687 0004 0020     		movs	r0, #0
 1688              	.LVL112:
 795:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1689              		.loc 1 795 1 view .LVU415
 1690 0006 7047     		bx	lr
 1691              	.L140:
 1692              		.align	2
 1693              	.L139:
 1694 0008 00000000 		.word	.LANCHOR9
 1695              		.cfi_endproc
 1696              	.LFE154:
 1698              		.section	.text.BSP_AUDIO_IN_PDMToPCM,"ax",%progbits
 1699              		.align	1
 1700              		.global	BSP_AUDIO_IN_PDMToPCM
 1701              		.syntax unified
 1702              		.thumb
 1703              		.thumb_func
 1705              	BSP_AUDIO_IN_PDMToPCM:
 1706              	.LVL113:
 1707              	.LFB155:
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1708              		.loc 1 804 1 is_stmt 1 view -0
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 128
 1711              		@ frame_needed = 0, uses_anonymous_args = 0
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1712              		.loc 1 804 1 is_stmt 0 view .LVU417
 1713 0000 30B5     		push	{r4, r5, lr}
 1714              		.cfi_def_cfa_offset 12
 1715              		.cfi_offset 4, -12
 1716              		.cfi_offset 5, -8
 1717              		.cfi_offset 14, -4
 1718 0002 A1B0     		sub	sp, sp, #132
 1719              		.cfi_def_cfa_offset 144
 1720 0004 0C46     		mov	r4, r1
 805:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0; 
 1721              		.loc 1 805 3 is_stmt 1 view .LVU418
 806:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1722              		.loc 1 806 3 view .LVU419
 1723              	.LVL114:
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1724              		.loc 1 809 3 view .LVU420
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1725              		.loc 1 809 13 is_stmt 0 view .LVU421
 1726 0006 0023     		movs	r3, #0
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1727              		.loc 1 809 3 view .LVU422
 1728 0008 0BE0     		b	.L142
 1729              	.LVL115:
 1730              	.L143:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 56


 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1731              		.loc 1 811 5 is_stmt 1 discriminator 3 view .LVU423
 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1732              		.loc 1 811 21 is_stmt 0 discriminator 3 view .LVU424
 1733 000a 30F813C0 		ldrh	ip, [r0, r3, lsl #1]
 1734 000e 4FEA0C22 		lsl	r2, ip, #8
 1735 0012 42EA1C22 		orr	r2, r2, ip, lsr #8
 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1736              		.loc 1 811 19 discriminator 3 view .LVU425
 1737 0016 20A9     		add	r1, sp, #128
 1738 0018 01EB430C 		add	ip, r1, r3, lsl #1
 1739 001c 2CF8802C 		strh	r2, [ip, #-128]	@ movhi
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1740              		.loc 1 809 51 is_stmt 1 discriminator 3 view .LVU426
 1741 0020 0133     		adds	r3, r3, #1
 1742              	.LVL116:
 1743              	.L142:
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1744              		.loc 1 809 23 discriminator 1 view .LVU427
 1745 0022 3F2B     		cmp	r3, #63
 1746 0024 F1D9     		bls	.L143
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1747              		.loc 1 814 13 is_stmt 0 view .LVU428
 1748 0026 0025     		movs	r5, #0
 1749              	.LVL117:
 1750              	.L144:
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1751              		.loc 1 814 24 is_stmt 1 discriminator 1 view .LVU429
 1752 0028 0DB1     		cbz	r5, .L145
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1753              		.loc 1 820 13 is_stmt 0 view .LVU430
 1754 002a 0023     		movs	r3, #0
 1755 002c 11E0     		b	.L146
 1756              	.L145:
 817:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1757              		.loc 1 817 2 is_stmt 1 discriminator 3 view .LVU431
 1758 002e 0B4B     		ldr	r3, .L149
 1759 0030 4C22     		movs	r2, #76
 1760 0032 02FB0532 		mla	r2, r2, r5, r3
 1761 0036 04EB4501 		add	r1, r4, r5, lsl #1
 1762 003a 0DEB4500 		add	r0, sp, r5, lsl #1
 1763 003e FFF7FEFF 		bl	PDM_Filter
 1764              	.LVL118:
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1765              		.loc 1 814 61 discriminator 3 view .LVU432
 1766 0042 0135     		adds	r5, r5, #1
 1767              	.LVL119:
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1768              		.loc 1 814 61 is_stmt 0 discriminator 3 view .LVU433
 1769 0044 F0E7     		b	.L144
 1770              	.LVL120:
 1771              	.L147:
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1772              		.loc 1 822 5 is_stmt 1 discriminator 3 view .LVU434
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1773              		.loc 1 822 34 is_stmt 0 discriminator 3 view .LVU435
 1774 0046 9A00     		lsls	r2, r3, #2
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 57


 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1775              		.loc 1 822 11 discriminator 3 view .LVU436
 1776 0048 0232     		adds	r2, r2, #2
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1777              		.loc 1 822 34 discriminator 3 view .LVU437
 1778 004a 34F82310 		ldrh	r1, [r4, r3, lsl #2]
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1779              		.loc 1 822 26 discriminator 3 view .LVU438
 1780 004e A152     		strh	r1, [r4, r2]	@ movhi
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1781              		.loc 1 820 45 is_stmt 1 discriminator 3 view .LVU439
 1782 0050 0133     		adds	r3, r3, #1
 1783              	.LVL121:
 1784              	.L146:
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1785              		.loc 1 820 24 discriminator 1 view .LVU440
 1786 0052 0F2B     		cmp	r3, #15
 1787 0054 F7D9     		bls	.L147
 826:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1788              		.loc 1 826 3 view .LVU441
 827:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1789              		.loc 1 827 1 is_stmt 0 view .LVU442
 1790 0056 0020     		movs	r0, #0
 1791 0058 21B0     		add	sp, sp, #132
 1792              		.cfi_def_cfa_offset 12
 1793              		@ sp needed
 1794 005a 30BD     		pop	{r4, r5, pc}
 1795              	.LVL122:
 1796              	.L150:
 827:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1797              		.loc 1 827 1 view .LVU443
 1798              		.align	2
 1799              	.L149:
 1800 005c 00000000 		.word	.LANCHOR2
 1801              		.cfi_endproc
 1802              	.LFE155:
 1804              		.section	.text.BSP_AUDIO_IN_ClockConfig,"ax",%progbits
 1805              		.align	1
 1806              		.weak	BSP_AUDIO_IN_ClockConfig
 1807              		.syntax unified
 1808              		.thumb
 1809              		.thumb_func
 1811              	BSP_AUDIO_IN_ClockConfig:
 1812              	.LVL123:
 1813              	.LFB158:
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1814              		.loc 1 859 1 is_stmt 1 view -0
 1815              		.cfi_startproc
 1816              		@ args = 0, pretend = 0, frame = 16
 1817              		@ frame_needed = 0, uses_anonymous_args = 0
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1818              		.loc 1 859 1 is_stmt 0 view .LVU445
 1819 0000 10B5     		push	{r4, lr}
 1820              		.cfi_def_cfa_offset 8
 1821              		.cfi_offset 4, -8
 1822              		.cfi_offset 14, -4
 1823 0002 84B0     		sub	sp, sp, #16
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 58


 1824              		.cfi_def_cfa_offset 24
 1825 0004 0C46     		mov	r4, r1
 860:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1826              		.loc 1 860 3 is_stmt 1 view .LVU446
 863:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 1827              		.loc 1 863 3 view .LVU447
 1828 0006 6846     		mov	r0, sp
 1829              	.LVL124:
 863:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 1830              		.loc 1 863 3 is_stmt 0 view .LVU448
 1831 0008 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 1832              	.LVL125:
 865:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1833              		.loc 1 865 3 is_stmt 1 view .LVU449
 865:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1834              		.loc 1 865 6 is_stmt 0 view .LVU450
 1835 000c 14F0070F 		tst	r4, #7
 1836 0010 0AD1     		bne	.L152
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 1837              		.loc 1 870 5 is_stmt 1 view .LVU451
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 1838              		.loc 1 870 37 is_stmt 0 view .LVU452
 1839 0012 0123     		movs	r3, #1
 1840 0014 0093     		str	r3, [sp]
 871:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
 1841              		.loc 1 871 5 is_stmt 1 view .LVU453
 871:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
 1842              		.loc 1 871 31 is_stmt 0 view .LVU454
 1843 0016 C023     		movs	r3, #192
 1844 0018 0193     		str	r3, [sp, #4]
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1845              		.loc 1 872 5 is_stmt 1 view .LVU455
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1846              		.loc 1 872 31 is_stmt 0 view .LVU456
 1847 001a 0623     		movs	r3, #6
 1848 001c 0293     		str	r3, [sp, #8]
 873:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1849              		.loc 1 873 5 is_stmt 1 view .LVU457
 1850 001e 6846     		mov	r0, sp
 1851 0020 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1852              	.LVL126:
 1853              	.L151:
 885:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1854              		.loc 1 885 1 is_stmt 0 view .LVU458
 1855 0024 04B0     		add	sp, sp, #16
 1856              		.cfi_remember_state
 1857              		.cfi_def_cfa_offset 8
 1858              		@ sp needed
 1859 0026 10BD     		pop	{r4, pc}
 1860              	.LVL127:
 1861              	.L152:
 1862              		.cfi_restore_state
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1863              		.loc 1 880 5 is_stmt 1 view .LVU459
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1864              		.loc 1 880 37 is_stmt 0 view .LVU460
 1865 0028 0123     		movs	r3, #1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 59


 1866 002a 0093     		str	r3, [sp]
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1867              		.loc 1 881 5 is_stmt 1 view .LVU461
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1868              		.loc 1 881 31 is_stmt 0 view .LVU462
 1869 002c 4FF49173 		mov	r3, #290
 1870 0030 0193     		str	r3, [sp, #4]
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1871              		.loc 1 882 5 is_stmt 1 view .LVU463
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1872              		.loc 1 882 31 is_stmt 0 view .LVU464
 1873 0032 0223     		movs	r3, #2
 1874 0034 0293     		str	r3, [sp, #8]
 883:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1875              		.loc 1 883 5 is_stmt 1 view .LVU465
 1876 0036 6846     		mov	r0, sp
 1877 0038 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1878              	.LVL128:
 885:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1879              		.loc 1 885 1 is_stmt 0 view .LVU466
 1880 003c F2E7     		b	.L151
 1881              		.cfi_endproc
 1882              	.LFE158:
 1884              		.section	.text.BSP_AUDIO_IN_MspInit,"ax",%progbits
 1885              		.align	1
 1886              		.weak	BSP_AUDIO_IN_MspInit
 1887              		.syntax unified
 1888              		.thumb
 1889              		.thumb_func
 1891              	BSP_AUDIO_IN_MspInit:
 1892              	.LVL129:
 1893              	.LFB159:
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1894              		.loc 1 893 1 is_stmt 1 view -0
 1895              		.cfi_startproc
 1896              		@ args = 0, pretend = 0, frame = 40
 1897              		@ frame_needed = 0, uses_anonymous_args = 0
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1898              		.loc 1 893 1 is_stmt 0 view .LVU468
 1899 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1900              		.cfi_def_cfa_offset 20
 1901              		.cfi_offset 4, -20
 1902              		.cfi_offset 5, -16
 1903              		.cfi_offset 6, -12
 1904              		.cfi_offset 7, -8
 1905              		.cfi_offset 14, -4
 1906 0002 8BB0     		sub	sp, sp, #44
 1907              		.cfi_def_cfa_offset 64
 1908 0004 0646     		mov	r6, r0
 894:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1909              		.loc 1 894 3 is_stmt 1 view .LVU469
 895:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1910              		.loc 1 895 3 view .LVU470
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1911              		.loc 1 898 3 view .LVU471
 1912              	.LBB8:
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 60


 1913              		.loc 1 898 3 view .LVU472
 1914 0006 0025     		movs	r5, #0
 1915 0008 0195     		str	r5, [sp, #4]
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1916              		.loc 1 898 3 view .LVU473
 1917 000a 364C     		ldr	r4, .L159
 1918 000c 236C     		ldr	r3, [r4, #64]
 1919 000e 43F48043 		orr	r3, r3, #16384
 1920 0012 2364     		str	r3, [r4, #64]
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1921              		.loc 1 898 3 view .LVU474
 1922 0014 236C     		ldr	r3, [r4, #64]
 1923 0016 03F48043 		and	r3, r3, #16384
 1924 001a 0193     		str	r3, [sp, #4]
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1925              		.loc 1 898 3 view .LVU475
 1926 001c 019B     		ldr	r3, [sp, #4]
 1927              	.LBE8:
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1928              		.loc 1 898 3 view .LVU476
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1929              		.loc 1 901 3 view .LVU477
 1930              	.LBB9:
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1931              		.loc 1 901 3 view .LVU478
 1932 001e 0295     		str	r5, [sp, #8]
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1933              		.loc 1 901 3 view .LVU479
 1934 0020 236B     		ldr	r3, [r4, #48]
 1935 0022 43F00203 		orr	r3, r3, #2
 1936 0026 2363     		str	r3, [r4, #48]
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1937              		.loc 1 901 3 view .LVU480
 1938 0028 236B     		ldr	r3, [r4, #48]
 1939 002a 03F00203 		and	r3, r3, #2
 1940 002e 0293     		str	r3, [sp, #8]
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1941              		.loc 1 901 3 view .LVU481
 1942 0030 029B     		ldr	r3, [sp, #8]
 1943              	.LBE9:
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1944              		.loc 1 901 3 view .LVU482
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1945              		.loc 1 902 3 view .LVU483
 1946              	.LBB10:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1947              		.loc 1 902 3 view .LVU484
 1948 0032 0395     		str	r5, [sp, #12]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1949              		.loc 1 902 3 view .LVU485
 1950 0034 236B     		ldr	r3, [r4, #48]
 1951 0036 43F00403 		orr	r3, r3, #4
 1952 003a 2363     		str	r3, [r4, #48]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1953              		.loc 1 902 3 view .LVU486
 1954 003c 236B     		ldr	r3, [r4, #48]
 1955 003e 03F00403 		and	r3, r3, #4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 61


 1956 0042 0393     		str	r3, [sp, #12]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1957              		.loc 1 902 3 view .LVU487
 1958 0044 039B     		ldr	r3, [sp, #12]
 1959              	.LBE10:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1960              		.loc 1 902 3 view .LVU488
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 1961              		.loc 1 905 3 view .LVU489
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 1962              		.loc 1 905 29 is_stmt 0 view .LVU490
 1963 0046 0223     		movs	r3, #2
 1964 0048 0693     		str	r3, [sp, #24]
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 1965              		.loc 1 906 3 is_stmt 1 view .LVU491
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 1966              		.loc 1 906 29 is_stmt 0 view .LVU492
 1967 004a 0795     		str	r5, [sp, #28]
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1968              		.loc 1 907 3 is_stmt 1 view .LVU493
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1969              		.loc 1 907 29 is_stmt 0 view .LVU494
 1970 004c 0893     		str	r3, [sp, #32]
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1971              		.loc 1 909 3 is_stmt 1 view .LVU495
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1972              		.loc 1 909 29 is_stmt 0 view .LVU496
 1973 004e 4FF48063 		mov	r3, #1024
 1974 0052 0593     		str	r3, [sp, #20]
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1975              		.loc 1 910 3 is_stmt 1 view .LVU497
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1976              		.loc 1 910 29 is_stmt 0 view .LVU498
 1977 0054 0527     		movs	r7, #5
 1978 0056 0997     		str	r7, [sp, #36]
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1979              		.loc 1 911 3 is_stmt 1 view .LVU499
 1980 0058 05A9     		add	r1, sp, #20
 1981              	.LVL130:
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1982              		.loc 1 911 3 is_stmt 0 view .LVU500
 1983 005a 2348     		ldr	r0, .L159+4
 1984              	.LVL131:
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1985              		.loc 1 911 3 view .LVU501
 1986 005c FFF7FEFF 		bl	HAL_GPIO_Init
 1987              	.LVL132:
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1988              		.loc 1 913 3 is_stmt 1 view .LVU502
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1989              		.loc 1 913 29 is_stmt 0 view .LVU503
 1990 0060 0823     		movs	r3, #8
 1991 0062 0593     		str	r3, [sp, #20]
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_MOSI_GPIO_PORT, &GPIO_InitStruct); 
 1992              		.loc 1 914 3 is_stmt 1 view .LVU504
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_MOSI_GPIO_PORT, &GPIO_InitStruct); 
 1993              		.loc 1 914 29 is_stmt 0 view .LVU505
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 62


 1994 0064 0997     		str	r7, [sp, #36]
 915:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1995              		.loc 1 915 3 is_stmt 1 view .LVU506
 1996 0066 05A9     		add	r1, sp, #20
 1997 0068 2048     		ldr	r0, .L159+8
 1998 006a FFF7FEFF 		bl	HAL_GPIO_Init
 1999              	.LVL133:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2000              		.loc 1 918 3 view .LVU507
 2001              	.LBB11:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2002              		.loc 1 918 3 view .LVU508
 2003 006e 0495     		str	r5, [sp, #16]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2004              		.loc 1 918 3 view .LVU509
 2005 0070 236B     		ldr	r3, [r4, #48]
 2006 0072 43F40013 		orr	r3, r3, #2097152
 2007 0076 2363     		str	r3, [r4, #48]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2008              		.loc 1 918 3 view .LVU510
 2009 0078 236B     		ldr	r3, [r4, #48]
 2010 007a 03F40013 		and	r3, r3, #2097152
 2011 007e 0493     		str	r3, [sp, #16]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2012              		.loc 1 918 3 view .LVU511
 2013 0080 049B     		ldr	r3, [sp, #16]
 2014              	.LBE11:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2015              		.loc 1 918 3 view .LVU512
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2016              		.loc 1 920 3 view .LVU513
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2017              		.loc 1 920 10 is_stmt 0 view .LVU514
 2018 0082 3268     		ldr	r2, [r6]
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2019              		.loc 1 920 5 view .LVU515
 2020 0084 1A4B     		ldr	r3, .L159+12
 2021 0086 9A42     		cmp	r2, r3
 2022 0088 09D0     		beq	.L158
 2023              	.L156:
 949:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S2_DMAx_IRQ); 
 2024              		.loc 1 949 3 is_stmt 1 view .LVU516
 2025 008a 0022     		movs	r2, #0
 2026 008c 0F21     		movs	r1, #15
 2027 008e 0E20     		movs	r0, #14
 2028 0090 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 2029              	.LVL134:
 950:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2030              		.loc 1 950 3 view .LVU517
 2031 0094 0E20     		movs	r0, #14
 2032 0096 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 2033              	.LVL135:
 951:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2034              		.loc 1 951 1 is_stmt 0 view .LVU518
 2035 009a 0BB0     		add	sp, sp, #44
 2036              		.cfi_remember_state
 2037              		.cfi_def_cfa_offset 20
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 63


 2038              		@ sp needed
 2039 009c F0BD     		pop	{r4, r5, r6, r7, pc}
 2040              	.LVL136:
 2041              	.L158:
 2042              		.cfi_restore_state
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 2043              		.loc 1 923 5 is_stmt 1 view .LVU519
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 2044              		.loc 1 923 41 is_stmt 0 view .LVU520
 2045 009e 154C     		ldr	r4, .L159+16
 2046 00a0 6560     		str	r5, [r4, #4]
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 2047              		.loc 1 924 5 is_stmt 1 view .LVU521
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 2048              		.loc 1 924 41 is_stmt 0 view .LVU522
 2049 00a2 A560     		str	r5, [r4, #8]
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 2050              		.loc 1 925 5 is_stmt 1 view .LVU523
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 2051              		.loc 1 925 41 is_stmt 0 view .LVU524
 2052 00a4 E560     		str	r5, [r4, #12]
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 2053              		.loc 1 926 5 is_stmt 1 view .LVU525
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 2054              		.loc 1 926 41 is_stmt 0 view .LVU526
 2055 00a6 4FF48062 		mov	r2, #1024
 2056 00aa 2261     		str	r2, [r4, #16]
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 2057              		.loc 1 927 5 is_stmt 1 view .LVU527
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 2058              		.loc 1 927 41 is_stmt 0 view .LVU528
 2059 00ac 4FF40062 		mov	r2, #2048
 2060 00b0 6261     		str	r2, [r4, #20]
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 2061              		.loc 1 928 5 is_stmt 1 view .LVU529
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 2062              		.loc 1 928 41 is_stmt 0 view .LVU530
 2063 00b2 4FF40052 		mov	r2, #8192
 2064 00b6 A261     		str	r2, [r4, #24]
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 2065              		.loc 1 929 5 is_stmt 1 view .LVU531
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 2066              		.loc 1 929 41 is_stmt 0 view .LVU532
 2067 00b8 4FF48072 		mov	r2, #256
 2068 00bc E261     		str	r2, [r4, #28]
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 2069              		.loc 1 930 5 is_stmt 1 view .LVU533
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 2070              		.loc 1 930 41 is_stmt 0 view .LVU534
 2071 00be 4FF40032 		mov	r2, #131072
 2072 00c2 2262     		str	r2, [r4, #32]
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 2073              		.loc 1 931 5 is_stmt 1 view .LVU535
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 2074              		.loc 1 931 41 is_stmt 0 view .LVU536
 2075 00c4 6562     		str	r5, [r4, #36]
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 64


 2076              		.loc 1 932 5 is_stmt 1 view .LVU537
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 2077              		.loc 1 932 41 is_stmt 0 view .LVU538
 2078 00c6 0322     		movs	r2, #3
 2079 00c8 A262     		str	r2, [r4, #40]
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 2080              		.loc 1 933 5 is_stmt 1 view .LVU539
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 2081              		.loc 1 933 41 is_stmt 0 view .LVU540
 2082 00ca E562     		str	r5, [r4, #44]
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2083              		.loc 1 934 5 is_stmt 1 view .LVU541
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2084              		.loc 1 934 41 is_stmt 0 view .LVU542
 2085 00cc 2563     		str	r5, [r4, #48]
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2086              		.loc 1 936 5 is_stmt 1 view .LVU543
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2087              		.loc 1 936 25 is_stmt 0 view .LVU544
 2088 00ce 0A4B     		ldr	r3, .L159+20
 2089 00d0 2360     		str	r3, [r4]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2090              		.loc 1 939 5 is_stmt 1 view .LVU545
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2091              		.loc 1 939 5 view .LVU546
 2092 00d2 F463     		str	r4, [r6, #60]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2093              		.loc 1 939 5 view .LVU547
 2094 00d4 A663     		str	r6, [r4, #56]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2095              		.loc 1 939 5 view .LVU548
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 2096              		.loc 1 942 5 view .LVU549
 2097 00d6 2046     		mov	r0, r4
 2098 00d8 FFF7FEFF 		bl	HAL_DMA_DeInit
 2099              	.LVL137:
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2100              		.loc 1 945 5 view .LVU550
 2101 00dc 2046     		mov	r0, r4
 2102 00de FFF7FEFF 		bl	HAL_DMA_Init
 2103              	.LVL138:
 2104 00e2 D2E7     		b	.L156
 2105              	.L160:
 2106              		.align	2
 2107              	.L159:
 2108 00e4 00380240 		.word	1073887232
 2109 00e8 00040240 		.word	1073873920
 2110 00ec 00080240 		.word	1073874944
 2111 00f0 00380040 		.word	1073756160
 2112 00f4 00000000 		.word	.LANCHOR10
 2113 00f8 58600240 		.word	1073897560
 2114              		.cfi_endproc
 2115              	.LFE159:
 2117              		.section	.text.BSP_AUDIO_IN_Init,"ax",%progbits
 2118              		.align	1
 2119              		.global	BSP_AUDIO_IN_Init
 2120              		.syntax unified
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 65


 2121              		.thumb
 2122              		.thumb_func
 2124              	BSP_AUDIO_IN_Init:
 2125              	.LVL139:
 2126              	.LFB149:
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2127              		.loc 1 695 1 view -0
 2128              		.cfi_startproc
 2129              		@ args = 0, pretend = 0, frame = 0
 2130              		@ frame_needed = 0, uses_anonymous_args = 0
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2131              		.loc 1 695 1 is_stmt 0 view .LVU552
 2132 0000 70B5     		push	{r4, r5, r6, lr}
 2133              		.cfi_def_cfa_offset 16
 2134              		.cfi_offset 4, -16
 2135              		.cfi_offset 5, -12
 2136              		.cfi_offset 6, -8
 2137              		.cfi_offset 14, -4
 2138 0002 0446     		mov	r4, r0
 2139 0004 1646     		mov	r6, r2
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2140              		.loc 1 698 3 is_stmt 1 view .LVU553
 2141 0006 0D4D     		ldr	r5, .L165
 2142 0008 0022     		movs	r2, #0
 2143              	.LVL140:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2144              		.loc 1 698 3 is_stmt 0 view .LVU554
 2145 000a 0146     		mov	r1, r0
 2146              	.LVL141:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2147              		.loc 1 698 3 view .LVU555
 2148 000c 2846     		mov	r0, r5
 2149              	.LVL142:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2150              		.loc 1 698 3 view .LVU556
 2151 000e FFF7FEFF 		bl	BSP_AUDIO_IN_ClockConfig
 2152              	.LVL143:
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2153              		.loc 1 703 3 is_stmt 1 view .LVU557
 2154 0012 0222     		movs	r2, #2
 2155 0014 3146     		mov	r1, r6
 2156 0016 2046     		mov	r0, r4
 2157 0018 FFF7FEFF 		bl	PDMDecoder_Init
 2158              	.LVL144:
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2159              		.loc 1 706 3 view .LVU558
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2160              		.loc 1 706 24 is_stmt 0 view .LVU559
 2161 001c 084B     		ldr	r3, .L165+4
 2162 001e 2B60     		str	r3, [r5]
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2163              		.loc 1 707 3 is_stmt 1 view .LVU560
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2164              		.loc 1 707 6 is_stmt 0 view .LVU561
 2165 0020 2846     		mov	r0, r5
 2166 0022 FFF7FEFF 		bl	HAL_I2S_GetState
 2167              	.LVL145:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 66


 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2168              		.loc 1 707 5 view .LVU562
 2169 0026 20B1     		cbz	r0, .L164
 2170              	.L162:
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2171              		.loc 1 714 3 is_stmt 1 view .LVU563
 2172 0028 2046     		mov	r0, r4
 2173 002a FFF7FEFF 		bl	I2S2_Init
 2174              	.LVL146:
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2175              		.loc 1 717 3 view .LVU564
 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2176              		.loc 1 718 1 is_stmt 0 view .LVU565
 2177 002e 0020     		movs	r0, #0
 2178 0030 70BD     		pop	{r4, r5, r6, pc}
 2179              	.LVL147:
 2180              	.L164:
 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2181              		.loc 1 710 5 is_stmt 1 view .LVU566
 2182 0032 0021     		movs	r1, #0
 2183 0034 2846     		mov	r0, r5
 2184 0036 FFF7FEFF 		bl	BSP_AUDIO_IN_MspInit
 2185              	.LVL148:
 2186 003a F5E7     		b	.L162
 2187              	.L166:
 2188              		.align	2
 2189              	.L165:
 2190 003c 00000000 		.word	.LANCHOR1
 2191 0040 00380040 		.word	1073756160
 2192              		.cfi_endproc
 2193              	.LFE149:
 2195              		.section	.text.BSP_AUDIO_IN_MspDeInit,"ax",%progbits
 2196              		.align	1
 2197              		.weak	BSP_AUDIO_IN_MspDeInit
 2198              		.syntax unified
 2199              		.thumb
 2200              		.thumb_func
 2202              	BSP_AUDIO_IN_MspDeInit:
 2203              	.LVL149:
 2204              	.LFB160:
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2205              		.loc 1 959 1 view -0
 2206              		.cfi_startproc
 2207              		@ args = 0, pretend = 0, frame = 24
 2208              		@ frame_needed = 0, uses_anonymous_args = 0
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2209              		.loc 1 959 1 is_stmt 0 view .LVU568
 2210 0000 10B5     		push	{r4, lr}
 2211              		.cfi_def_cfa_offset 8
 2212              		.cfi_offset 4, -8
 2213              		.cfi_offset 14, -4
 2214 0002 86B0     		sub	sp, sp, #24
 2215              		.cfi_def_cfa_offset 32
 2216 0004 0446     		mov	r4, r0
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2217              		.loc 1 960 3 is_stmt 1 view .LVU569
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 67


 2218              		.loc 1 963 3 view .LVU570
 2219 0006 0E20     		movs	r0, #14
 2220              	.LVL150:
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2221              		.loc 1 963 3 is_stmt 0 view .LVU571
 2222 0008 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 2223              	.LVL151:
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2224              		.loc 1 965 3 is_stmt 1 view .LVU572
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2225              		.loc 1 965 10 is_stmt 0 view .LVU573
 2226 000c 2268     		ldr	r2, [r4]
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2227              		.loc 1 965 5 view .LVU574
 2228 000e 0F4B     		ldr	r3, .L171
 2229 0010 9A42     		cmp	r2, r3
 2230 0012 16D0     		beq	.L170
 2231              	.L168:
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2232              		.loc 1 972 3 is_stmt 1 view .LVU575
 2233 0014 2268     		ldr	r2, [r4]
 2234 0016 D369     		ldr	r3, [r2, #28]
 2235 0018 23F48063 		bic	r3, r3, #1024
 2236 001c D361     		str	r3, [r2, #28]
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 2237              		.loc 1 975 3 view .LVU576
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 2238              		.loc 1 975 27 is_stmt 0 view .LVU577
 2239 001e 4FF48061 		mov	r1, #1024
 2240 0022 0191     		str	r1, [sp, #4]
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 2241              		.loc 1 976 3 is_stmt 1 view .LVU578
 2242 0024 0A48     		ldr	r0, .L171+4
 2243 0026 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2244              	.LVL152:
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 2245              		.loc 1 977 3 view .LVU579
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 2246              		.loc 1 977 27 is_stmt 0 view .LVU580
 2247 002a 0821     		movs	r1, #8
 2248 002c 0191     		str	r1, [sp, #4]
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2249              		.loc 1 978 3 is_stmt 1 view .LVU581
 2250 002e 0948     		ldr	r0, .L171+8
 2251 0030 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2252              	.LVL153:
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2253              		.loc 1 981 3 view .LVU582
 2254 0034 084A     		ldr	r2, .L171+12
 2255 0036 136C     		ldr	r3, [r2, #64]
 2256 0038 23F48043 		bic	r3, r3, #16384
 2257 003c 1364     		str	r3, [r2, #64]
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2258              		.loc 1 985 1 is_stmt 0 view .LVU583
 2259 003e 06B0     		add	sp, sp, #24
 2260              		.cfi_remember_state
 2261              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 68


 2262              		@ sp needed
 2263 0040 10BD     		pop	{r4, pc}
 2264              	.LVL154:
 2265              	.L170:
 2266              		.cfi_restore_state
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2267              		.loc 1 968 5 is_stmt 1 view .LVU584
 2268 0042 E06B     		ldr	r0, [r4, #60]
 2269 0044 FFF7FEFF 		bl	HAL_DMA_DeInit
 2270              	.LVL155:
 2271 0048 E4E7     		b	.L168
 2272              	.L172:
 2273 004a 00BF     		.align	2
 2274              	.L171:
 2275 004c 00380040 		.word	1073756160
 2276 0050 00040240 		.word	1073873920
 2277 0054 00080240 		.word	1073874944
 2278 0058 00380240 		.word	1073887232
 2279              		.cfi_endproc
 2280              	.LFE160:
 2282              		.section	.text.BSP_AUDIO_IN_TransferComplete_CallBack,"ax",%progbits
 2283              		.align	1
 2284              		.weak	BSP_AUDIO_IN_TransferComplete_CallBack
 2285              		.syntax unified
 2286              		.thumb
 2287              		.thumb_func
 2289              	BSP_AUDIO_IN_TransferComplete_CallBack:
 2290              	.LFB161:
 991:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
 2291              		.loc 1 991 1 view -0
 2292              		.cfi_startproc
 2293              		@ args = 0, pretend = 0, frame = 0
 2294              		@ frame_needed = 0, uses_anonymous_args = 0
 2295              		@ link register save eliminated.
 995:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2296              		.loc 1 995 1 view .LVU586
 2297 0000 7047     		bx	lr
 2298              		.cfi_endproc
 2299              	.LFE161:
 2301              		.section	.text.HAL_I2S_RxCpltCallback,"ax",%progbits
 2302              		.align	1
 2303              		.global	HAL_I2S_RxCpltCallback
 2304              		.syntax unified
 2305              		.thumb
 2306              		.thumb_func
 2308              	HAL_I2S_RxCpltCallback:
 2309              	.LVL156:
 2310              	.LFB156:
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2311              		.loc 1 834 1 view -0
 2312              		.cfi_startproc
 2313              		@ args = 0, pretend = 0, frame = 0
 2314              		@ frame_needed = 0, uses_anonymous_args = 0
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2315              		.loc 1 834 1 is_stmt 0 view .LVU588
 2316 0000 08B5     		push	{r3, lr}
 2317              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 69


 2318              		.cfi_offset 3, -8
 2319              		.cfi_offset 14, -4
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2320              		.loc 1 836 3 is_stmt 1 view .LVU589
 2321 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_TransferComplete_CallBack
 2322              	.LVL157:
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2323              		.loc 1 837 1 is_stmt 0 view .LVU590
 2324 0006 08BD     		pop	{r3, pc}
 2325              		.cfi_endproc
 2326              	.LFE156:
 2328              		.section	.text.BSP_AUDIO_IN_HalfTransfer_CallBack,"ax",%progbits
 2329              		.align	1
 2330              		.weak	BSP_AUDIO_IN_HalfTransfer_CallBack
 2331              		.syntax unified
 2332              		.thumb
 2333              		.thumb_func
 2335              	BSP_AUDIO_IN_HalfTransfer_CallBack:
 2336              	.LFB162:
1001:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
 2337              		.loc 1 1001 1 is_stmt 1 view -0
 2338              		.cfi_startproc
 2339              		@ args = 0, pretend = 0, frame = 0
 2340              		@ frame_needed = 0, uses_anonymous_args = 0
 2341              		@ link register save eliminated.
1005:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2342              		.loc 1 1005 1 view .LVU592
 2343 0000 7047     		bx	lr
 2344              		.cfi_endproc
 2345              	.LFE162:
 2347              		.section	.text.HAL_I2S_RxHalfCpltCallback,"ax",%progbits
 2348              		.align	1
 2349              		.global	HAL_I2S_RxHalfCpltCallback
 2350              		.syntax unified
 2351              		.thumb
 2352              		.thumb_func
 2354              	HAL_I2S_RxHalfCpltCallback:
 2355              	.LVL158:
 2356              	.LFB157:
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2357              		.loc 1 844 1 view -0
 2358              		.cfi_startproc
 2359              		@ args = 0, pretend = 0, frame = 0
 2360              		@ frame_needed = 0, uses_anonymous_args = 0
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2361              		.loc 1 844 1 is_stmt 0 view .LVU594
 2362 0000 08B5     		push	{r3, lr}
 2363              		.cfi_def_cfa_offset 8
 2364              		.cfi_offset 3, -8
 2365              		.cfi_offset 14, -4
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2366              		.loc 1 847 3 is_stmt 1 view .LVU595
 2367 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_HalfTransfer_CallBack
 2368              	.LVL159:
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2369              		.loc 1 848 1 is_stmt 0 view .LVU596
 2370 0006 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 70


 2371              		.cfi_endproc
 2372              	.LFE157:
 2374              		.section	.text.BSP_AUDIO_IN_Error_Callback,"ax",%progbits
 2375              		.align	1
 2376              		.weak	BSP_AUDIO_IN_Error_Callback
 2377              		.syntax unified
 2378              		.thumb
 2379              		.thumb_func
 2381              	BSP_AUDIO_IN_Error_Callback:
 2382              	.LFB163:
1011:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
 2383              		.loc 1 1011 1 is_stmt 1 view -0
 2384              		.cfi_startproc
 2385              		@ args = 0, pretend = 0, frame = 0
 2386              		@ frame_needed = 0, uses_anonymous_args = 0
 2387              		@ link register save eliminated.
1014:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2388              		.loc 1 1014 1 view .LVU598
 2389 0000 7047     		bx	lr
 2390              		.cfi_endproc
 2391              	.LFE163:
 2393              		.section	.text.HAL_I2S_ErrorCallback,"ax",%progbits
 2394              		.align	1
 2395              		.global	HAL_I2S_ErrorCallback
 2396              		.syntax unified
 2397              		.thumb
 2398              		.thumb_func
 2400              	HAL_I2S_ErrorCallback:
 2401              	.LVL160:
 2402              	.LFB166:
1086:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1087:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1088:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
1089:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1090:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1091:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_OUT_Private_Functions STM32F4 DISCOVERY AUDIO IN OUT Priva
1092:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
1093:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
1094:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1095:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1096:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  I2S error callbacks.
1097:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
1098:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1099:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_ErrorCallback(I2S_HandleTypeDef *hi2s)
1100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 2403              		.loc 1 1100 1 view -0
 2404              		.cfi_startproc
 2405              		@ args = 0, pretend = 0, frame = 0
 2406              		@ frame_needed = 0, uses_anonymous_args = 0
 2407              		.loc 1 1100 1 is_stmt 0 view .LVU600
 2408 0000 10B5     		push	{r4, lr}
 2409              		.cfi_def_cfa_offset 8
 2410              		.cfi_offset 4, -8
 2411              		.cfi_offset 14, -4
 2412 0002 0446     		mov	r4, r0
1101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the error generated on DMA FIFO: This function 
1102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 71


1103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 2413              		.loc 1 1103 3 is_stmt 1 view .LVU601
 2414              		.loc 1 1103 10 is_stmt 0 view .LVU602
 2415 0004 0268     		ldr	r2, [r0]
 2416              		.loc 1 1103 5 view .LVU603
 2417 0006 074B     		ldr	r3, .L186
 2418 0008 9A42     		cmp	r2, r3
 2419 000a 04D0     		beq	.L184
 2420              	.LVL161:
 2421              	.L181:
1104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_Error_CallBack();
1106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 2422              		.loc 1 1107 3 is_stmt 1 view .LVU604
 2423              		.loc 1 1107 10 is_stmt 0 view .LVU605
 2424 000c 2268     		ldr	r2, [r4]
 2425              		.loc 1 1107 5 view .LVU606
 2426 000e 064B     		ldr	r3, .L186+4
 2427 0010 9A42     		cmp	r2, r3
 2428 0012 03D0     		beq	.L185
 2429              	.L180:
1108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_Error_Callback();
1110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2430              		.loc 1 1111 1 view .LVU607
 2431 0014 10BD     		pop	{r4, pc}
 2432              	.LVL162:
 2433              	.L184:
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2434              		.loc 1 1105 5 is_stmt 1 view .LVU608
 2435 0016 FFF7FEFF 		bl	BSP_AUDIO_OUT_Error_CallBack
 2436              	.LVL163:
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2437              		.loc 1 1105 5 is_stmt 0 view .LVU609
 2438 001a F7E7     		b	.L181
 2439              	.L185:
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2440              		.loc 1 1109 5 is_stmt 1 view .LVU610
 2441 001c FFF7FEFF 		bl	BSP_AUDIO_IN_Error_Callback
 2442              	.LVL164:
 2443              		.loc 1 1111 1 is_stmt 0 view .LVU611
 2444 0020 F8E7     		b	.L180
 2445              	.L187:
 2446 0022 00BF     		.align	2
 2447              	.L186:
 2448 0024 003C0040 		.word	1073757184
 2449 0028 00380040 		.word	1073756160
 2450              		.cfi_endproc
 2451              	.LFE166:
 2453              		.global	AudioInVolume
 2454              		.global	PDM_FilterConfig
 2455              		.global	PDM_FilterHandler
 2456              		.global	hAudioInI2s
 2457              		.global	hAudioOutI2s
 2458              		.global	I2SPLLR
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 72


 2459              		.global	I2SPLLN
 2460              		.global	I2SFreq
 2461              		.section	.bss.PDM_FilterConfig,"aw",%nobits
 2462              		.align	2
 2463              		.set	.LANCHOR3,. + 0
 2466              	PDM_FilterConfig:
 2467 0000 00000000 		.space	12
 2467      00000000 
 2467      00000000 
 2468              		.section	.bss.PDM_FilterHandler,"aw",%nobits
 2469              		.align	2
 2470              		.set	.LANCHOR2,. + 0
 2473              	PDM_FilterHandler:
 2474 0000 00000000 		.space	152
 2474      00000000 
 2474      00000000 
 2474      00000000 
 2474      00000000 
 2475              		.section	.bss.hAudioInI2s,"aw",%nobits
 2476              		.align	2
 2477              		.set	.LANCHOR1,. + 0
 2480              	hAudioInI2s:
 2481 0000 00000000 		.space	72
 2481      00000000 
 2481      00000000 
 2481      00000000 
 2481      00000000 
 2482              		.section	.bss.hAudioOutI2s,"aw",%nobits
 2483              		.align	2
 2484              		.set	.LANCHOR0,. + 0
 2487              	hAudioOutI2s:
 2488 0000 00000000 		.space	72
 2488      00000000 
 2488      00000000 
 2488      00000000 
 2488      00000000 
 2489              		.section	.bss.hdma_i2sRx.0,"aw",%nobits
 2490              		.align	2
 2491              		.set	.LANCHOR10,. + 0
 2494              	hdma_i2sRx.0:
 2495 0000 00000000 		.space	96
 2495      00000000 
 2495      00000000 
 2495      00000000 
 2495      00000000 
 2496              		.section	.bss.hdma_i2sTx.1,"aw",%nobits
 2497              		.align	2
 2498              		.set	.LANCHOR8,. + 0
 2501              	hdma_i2sTx.1:
 2502 0000 00000000 		.space	96
 2502      00000000 
 2502      00000000 
 2502      00000000 
 2502      00000000 
 2503              		.section	.bss.pAudioDrv,"aw",%nobits
 2504              		.align	2
 2505              		.set	.LANCHOR4,. + 0
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 73


 2508              	pAudioDrv:
 2509 0000 00000000 		.space	4
 2510              		.section	.data.AudioInVolume,"aw"
 2511              		.align	1
 2512              		.set	.LANCHOR9,. + 0
 2515              	AudioInVolume:
 2516 0000 4000     		.short	64
 2517              		.section	.rodata.I2SFreq,"a"
 2518              		.align	2
 2519              		.set	.LANCHOR5,. + 0
 2522              	I2SFreq:
 2523 0000 401F0000 		.word	8000
 2524 0004 112B0000 		.word	11025
 2525 0008 803E0000 		.word	16000
 2526 000c 22560000 		.word	22050
 2527 0010 007D0000 		.word	32000
 2528 0014 44AC0000 		.word	44100
 2529 0018 80BB0000 		.word	48000
 2530 001c 00770100 		.word	96000
 2531              		.section	.rodata.I2SPLLN,"a"
 2532              		.align	2
 2533              		.set	.LANCHOR6,. + 0
 2536              	I2SPLLN:
 2537 0000 00010000 		.word	256
 2538 0004 AD010000 		.word	429
 2539 0008 D5000000 		.word	213
 2540 000c AD010000 		.word	429
 2541 0010 AA010000 		.word	426
 2542 0014 0F010000 		.word	271
 2543 0018 02010000 		.word	258
 2544 001c 58010000 		.word	344
 2545              		.section	.rodata.I2SPLLR,"a"
 2546              		.align	2
 2547              		.set	.LANCHOR7,. + 0
 2550              	I2SPLLR:
 2551 0000 05000000 		.word	5
 2552 0004 04000000 		.word	4
 2553 0008 04000000 		.word	4
 2554 000c 04000000 		.word	4
 2555 0010 04000000 		.word	4
 2556 0014 06000000 		.word	6
 2557 0018 03000000 		.word	3
 2558 001c 01000000 		.word	1
 2559              		.text
 2560              	.Letext0:
 2561              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2562              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2563              		.file 4 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/../Common/audio.h"
 2564              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2565              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2566              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc_ex.h"
 2567              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 2568              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2569              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2s.h"
 2570              		.file 11 "Drivers/BSP/STM32F4-Discovery/../../../Middlewares/ST/STM32_Audio/Addons/PDM/Inc/pdm2pcm
 2571              		.file 12 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/cs43l22.h"
 2572              		.file 13 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 74


 2573              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 2574              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 75


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4_discovery_audio.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:20     .text.I2S3_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:25     .text.I2S3_Init:0000000000000000 I2S3_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:87     .text.I2S3_Init:0000000000000030 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:93     .text.I2S2_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:98     .text.I2S2_Init:0000000000000000 I2S2_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:162    .text.I2S2_Init:0000000000000038 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:168    .text.PDMDecoder_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:173    .text.PDMDecoder_Init:0000000000000000 PDMDecoder_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:285    .text.PDMDecoder_Init:0000000000000074 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:294    .text.BSP_AUDIO_OUT_Play:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:300    .text.BSP_AUDIO_OUT_Play:0000000000000000 BSP_AUDIO_OUT_Play
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:362    .text.BSP_AUDIO_OUT_Play:0000000000000038 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:368    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:374    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000000000000 BSP_AUDIO_OUT_ChangeBuffer
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:401    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000000000010 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:406    .text.BSP_AUDIO_OUT_Pause:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:412    .text.BSP_AUDIO_OUT_Pause:0000000000000000 BSP_AUDIO_OUT_Pause
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:450    .text.BSP_AUDIO_OUT_Pause:000000000000001c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:456    .text.BSP_AUDIO_OUT_Resume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:462    .text.BSP_AUDIO_OUT_Resume:0000000000000000 BSP_AUDIO_OUT_Resume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:500    .text.BSP_AUDIO_OUT_Resume:000000000000001c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:506    .text.BSP_AUDIO_OUT_Stop:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:512    .text.BSP_AUDIO_OUT_Stop:0000000000000000 BSP_AUDIO_OUT_Stop
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:574    .text.BSP_AUDIO_OUT_Stop:0000000000000038 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:581    .text.BSP_AUDIO_OUT_SetVolume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:587    .text.BSP_AUDIO_OUT_SetVolume:0000000000000000 BSP_AUDIO_OUT_SetVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:625    .text.BSP_AUDIO_OUT_SetVolume:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:630    .text.BSP_AUDIO_OUT_SetMute:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:636    .text.BSP_AUDIO_OUT_SetMute:0000000000000000 BSP_AUDIO_OUT_SetMute
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:674    .text.BSP_AUDIO_OUT_SetMute:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:679    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:685    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000000 BSP_AUDIO_OUT_SetOutputMode
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:723    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:728    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:734    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000000 BSP_AUDIO_OUT_ClockConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:845    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000060 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:852    .text.BSP_AUDIO_OUT_SetFrequency:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:858    .text.BSP_AUDIO_OUT_SetFrequency:0000000000000000 BSP_AUDIO_OUT_SetFrequency
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:890    .text.BSP_AUDIO_OUT_SetFrequency:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:895    .text.BSP_AUDIO_OUT_MspInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:901    .text.BSP_AUDIO_OUT_MspInit:0000000000000000 BSP_AUDIO_OUT_MspInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1143   .text.BSP_AUDIO_OUT_MspInit:0000000000000108 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1153   .text.BSP_AUDIO_OUT_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1159   .text.BSP_AUDIO_OUT_Init:0000000000000000 BSP_AUDIO_OUT_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1274   .text.BSP_AUDIO_OUT_Init:0000000000000070 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1282   .text.BSP_AUDIO_OUT_MspDeInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1288   .text.BSP_AUDIO_OUT_MspDeInit:0000000000000000 BSP_AUDIO_OUT_MspDeInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1372   .text.BSP_AUDIO_OUT_MspDeInit:0000000000000058 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1380   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1386   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:0000000000000000 BSP_AUDIO_OUT_TransferComplete_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1399   .text.HAL_I2S_TxCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1405   .text.HAL_I2S_TxCpltCallback:0000000000000000 HAL_I2S_TxCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1438   .text.HAL_I2S_TxCpltCallback:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1443   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1449   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:0000000000000000 BSP_AUDIO_OUT_HalfTransfer_CallBack
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 76


/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1462   .text.HAL_I2S_TxHalfCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1468   .text.HAL_I2S_TxHalfCpltCallback:0000000000000000 HAL_I2S_TxHalfCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1501   .text.HAL_I2S_TxHalfCpltCallback:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1506   .text.BSP_AUDIO_OUT_Error_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1512   .text.BSP_AUDIO_OUT_Error_CallBack:0000000000000000 BSP_AUDIO_OUT_Error_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1525   .text.BSP_AUDIO_IN_Record:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1531   .text.BSP_AUDIO_IN_Record:0000000000000000 BSP_AUDIO_IN_Record
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1563   .text.BSP_AUDIO_IN_Record:0000000000000010 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1568   .text.BSP_AUDIO_IN_Stop:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1574   .text.BSP_AUDIO_IN_Stop:0000000000000000 BSP_AUDIO_IN_Stop
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1598   .text.BSP_AUDIO_IN_Stop:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1603   .text.BSP_AUDIO_IN_Pause:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1609   .text.BSP_AUDIO_IN_Pause:0000000000000000 BSP_AUDIO_IN_Pause
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1630   .text.BSP_AUDIO_IN_Pause:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1635   .text.BSP_AUDIO_IN_Resume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1641   .text.BSP_AUDIO_IN_Resume:0000000000000000 BSP_AUDIO_IN_Resume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1662   .text.BSP_AUDIO_IN_Resume:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1667   .text.BSP_AUDIO_IN_SetVolume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1673   .text.BSP_AUDIO_IN_SetVolume:0000000000000000 BSP_AUDIO_IN_SetVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1694   .text.BSP_AUDIO_IN_SetVolume:0000000000000008 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1699   .text.BSP_AUDIO_IN_PDMToPCM:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1705   .text.BSP_AUDIO_IN_PDMToPCM:0000000000000000 BSP_AUDIO_IN_PDMToPCM
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1800   .text.BSP_AUDIO_IN_PDMToPCM:000000000000005c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1805   .text.BSP_AUDIO_IN_ClockConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1811   .text.BSP_AUDIO_IN_ClockConfig:0000000000000000 BSP_AUDIO_IN_ClockConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1885   .text.BSP_AUDIO_IN_MspInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:1891   .text.BSP_AUDIO_IN_MspInit:0000000000000000 BSP_AUDIO_IN_MspInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2108   .text.BSP_AUDIO_IN_MspInit:00000000000000e4 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2118   .text.BSP_AUDIO_IN_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2124   .text.BSP_AUDIO_IN_Init:0000000000000000 BSP_AUDIO_IN_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2190   .text.BSP_AUDIO_IN_Init:000000000000003c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2196   .text.BSP_AUDIO_IN_MspDeInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2202   .text.BSP_AUDIO_IN_MspDeInit:0000000000000000 BSP_AUDIO_IN_MspDeInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2275   .text.BSP_AUDIO_IN_MspDeInit:000000000000004c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2283   .text.BSP_AUDIO_IN_TransferComplete_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2289   .text.BSP_AUDIO_IN_TransferComplete_CallBack:0000000000000000 BSP_AUDIO_IN_TransferComplete_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2302   .text.HAL_I2S_RxCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2308   .text.HAL_I2S_RxCpltCallback:0000000000000000 HAL_I2S_RxCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2329   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2335   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:0000000000000000 BSP_AUDIO_IN_HalfTransfer_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2348   .text.HAL_I2S_RxHalfCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2354   .text.HAL_I2S_RxHalfCpltCallback:0000000000000000 HAL_I2S_RxHalfCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2375   .text.BSP_AUDIO_IN_Error_Callback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2381   .text.BSP_AUDIO_IN_Error_Callback:0000000000000000 BSP_AUDIO_IN_Error_Callback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2394   .text.HAL_I2S_ErrorCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2400   .text.HAL_I2S_ErrorCallback:0000000000000000 HAL_I2S_ErrorCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2448   .text.HAL_I2S_ErrorCallback:0000000000000024 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2515   .data.AudioInVolume:0000000000000000 AudioInVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2466   .bss.PDM_FilterConfig:0000000000000000 PDM_FilterConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2473   .bss.PDM_FilterHandler:0000000000000000 PDM_FilterHandler
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2480   .bss.hAudioInI2s:0000000000000000 hAudioInI2s
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2487   .bss.hAudioOutI2s:0000000000000000 hAudioOutI2s
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2550   .rodata.I2SPLLR:0000000000000000 I2SPLLR
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2536   .rodata.I2SPLLN:0000000000000000 I2SPLLN
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2522   .rodata.I2SFreq:0000000000000000 I2SFreq
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2462   .bss.PDM_FilterConfig:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2469   .bss.PDM_FilterHandler:0000000000000000 $d
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s 			page 77


/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2476   .bss.hAudioInI2s:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2483   .bss.hAudioOutI2s:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2490   .bss.hdma_i2sRx.0:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2494   .bss.hdma_i2sRx.0:0000000000000000 hdma_i2sRx.0
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2497   .bss.hdma_i2sTx.1:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2501   .bss.hdma_i2sTx.1:0000000000000000 hdma_i2sTx.1
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2504   .bss.pAudioDrv:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2508   .bss.pAudioDrv:0000000000000000 pAudioDrv
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2511   .data.AudioInVolume:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2518   .rodata.I2SFreq:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2532   .rodata.I2SPLLN:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//cc4du1c3.s:2546   .rodata.I2SPLLR:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2S_Init
PDM_Filter_Init
PDM_Filter_setConfig
HAL_I2S_Transmit_DMA
HAL_I2S_DMAPause
HAL_I2S_DMAResume
HAL_I2S_DMAStop
HAL_Delay
HAL_GPIO_WritePin
HAL_RCCEx_GetPeriphCLKConfig
HAL_RCCEx_PeriphCLKConfig
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_DMA_DeInit
HAL_DMA_Init
HAL_I2S_GetState
cs43l22_drv
HAL_NVIC_DisableIRQ
HAL_GPIO_DeInit
HAL_I2S_Receive_DMA
PDM_Filter
