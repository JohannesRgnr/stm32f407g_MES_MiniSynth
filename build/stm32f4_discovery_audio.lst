ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4_discovery_audio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c"
  20              		.section	.text.BSP_AUDIO_OUT_Play,"ax",%progbits
  21              		.align	1
  22              		.p2align 2,,3
  23              		.global	BSP_AUDIO_OUT_Play
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	BSP_AUDIO_OUT_Play:
  29              	.LVL0:
  30              	.LFB236:
   1:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
   2:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   3:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @file    stm32f4_discovery_audio.c
   4:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @author  MCD Application Team
   5:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   This file provides the Audio driver for the STM32F4-Discovery 
   6:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          board.  
   7:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   8:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @attention
   9:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  10:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * Copyright (c) 2017 STMicroelectronics.
  11:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * All rights reserved.
  12:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  13:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * in the root directory of this software component.
  15:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  17:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
  18:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
  19:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  20:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*==============================================================================
  21:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                              User NOTES
  22:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 1. How To use this driver:
  23:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------------
  24:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    - This driver supports STM32F4xx devices on STM32F4-Discovery Kit:
  25:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         a) to play an audio file (all functions names start by BSP_AUDIO_OUT_xxx)
  26:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         b) to record an audio file through MP45DT02, ST MEMS (all functions names start by AUDIO_IN
  27:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  28:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** a) PLAY A FILE:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 2


  29:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============
  30:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Init(
  31:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     OutputDevice: physical output mode (OUTPUT_DEVICE_SPEAKER, 
  32:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_AUTO or 
  33:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_BOTH)
  34:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     Volume: initial volume to be set (0 is min (mute), 100 is max (
  35:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  36:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     this parameter is relative to the audio file/stream type.
  37:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                    )
  38:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (codec, I2C, I2S
  39:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
  40:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       If the returned value is different from 0 or the function is stuck then the communication wit
  41:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the codec (try to un-plug the power or reset device in this case).
  42:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_SPEAKER: only speaker will be set as output for the audio stream.
  43:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_HEADPHONE: only headphones will be set as output for the audio stream.
  44:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_AUTO: Selection of output device is made through external switch (implemented
  45:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          into the audio jack on the discovery board). When the Headphone is connected it is used
  46:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          as output. When the headphone is disconnected from the audio jack, the output is
  47:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          automatically switched to Speaker.
  48:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_BOTH: both Speaker and Headphone are used as outputs for the audio stream
  49:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          at the same time.
  50:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Play(
  51:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   pBuffer: pointer to the audio data file address
  52:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   Size: size of the buffer to be sent in Bytes
  53:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                  )
  54:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start playing (for the first time) from the audio file/stream.
  55:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Pause() to pause playing 
  56:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Resume() to resume playing.
  57:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. After calling BSP_AUDIO_OUT_Pause() function for pause, only BSP_AUDIO_OUT_Resume() sh
  58:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****           for resume (it is not allowed to call BSP_AUDIO_OUT_Play() in this case).
  59:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. This function should be called only when the audio file is played or paused (not stopp
  60:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + For each mode, you may need to implement the relative callback functions into your code.
  61:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       The Callback functions are named BSP_AUDIO_OUT_XXXCallBack() and only their prototypes are de
  62:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the stm32f4_discovery_audio.h file. (refer to the example for more details on the callbacks i
  63:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + To Stop playing, to modify the volume level, the frequency or to mute, use the functions
  64:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        BSP_AUDIO_OUT_Stop(), BSP_AUDIO_OUT_SetVolume(), AUDIO_OUT_SetFrequency() BSP_AUDIO_OUT_SetO
  65:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + The driver API and the callback functions are at the end of the stm32f4_discovery_audio.h file
  66:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    
  67:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Driver architecture:
  68:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------
  69:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide the High Audio Layer: consists of the function API exported in the stm32f4
  70:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        (BSP_AUDIO_OUT_Init(), BSP_AUDIO_OUT_Play() ...)
  71:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide also the Media Access Layer (MAL): which consists of functions allowing to
  72:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        providing the audio file/stream. These functions are also included as local functions into
  73:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        the stm32f4_discovery_audio.c file (I2S3_Init()...)
  74:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  75:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Known Limitations:
  76:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** -------------------
  77:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    1- When using the Speaker, if the audio file quality is not high enough, the speaker output
  78:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       may produce high and uncomfortable noise level. To avoid this issue, to use speaker
  79:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       output properly, try to increase audio file sampling rate (typically higher than 48KHz).
  80:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This operation will lead to larger file size.
  81:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    2- Communication with the audio codec (through I2C) may be corrupted if it is interrupted by som
  82:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       user interrupt routines (in this case, interrupts could be disabled just before the start of 
  83:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       communication then re-enabled when it is over). Note that this communication is only done at
  84:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the configuration phase (BSP_AUDIO_OUT_Init() or BSP_AUDIO_OUT_Stop()) and when Volume contro
  85:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       performed (BSP_AUDIO_OUT_SetVolume() or BSP_AUDIO_OUT_SetMute()or BSP_AUDIO_OUT_SetOutputMode
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 3


  86:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       When the audio data is played, no communication is required with the audio codec.
  87:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    3- Parsing of audio file is not implemented (in order to determine audio file properties: Mono/S
  88:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       File size, Audio Frequency, Audio Data header size ...). The configuration is fixed for the g
  89:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    4- Supports only Stereo audio streaming. To play mono audio streams, each data should be sent tw
  90:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       on the I2S or should be duplicated on the source buffer. Or convert the stream in stereo befo
  91:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    5- Supports only 16-bits audio data size.
  92:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  93:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** b) RECORD A FILE:
  94:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ================
  95:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Init(
  96:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  97:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     )
  98:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (I2S, 
  99:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
 100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Record(
 102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             pbuf Main buffer pointer for the recorded data storing  
 103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             size Current size of the recorded buffer
 104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             )
 105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start recording from the microphone.
 106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + User needs to implement user callbacks to retrieve data saved in the record buffer
 108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       (AUDIO_IN_RxHalfCpltCallback/BSP_AUDIO_IN_ReceiveComplete_CallBack)
 109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function AUDIO_IN_STOP() to stop recording 
 111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 112:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============================================================================*/
 113:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 114:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* Includes ------------------------------------------------------------------*/
 115:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** #include "stm32f4_discovery_audio.h"
 116:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 117:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup BSP
 118:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 119:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 120:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 121:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup STM32F4_DISCOVERY
 122:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 123:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 124:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 125:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO STM32F4 DISCOVERY AUDIO
 126:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief This file includes the low layer audio driver available on STM32F4-Discovery
 127:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *        discovery board.
 128:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 129:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 130:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 131:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Types STM32F4 DISCOVERY AUDIO Private Types
 132:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 133:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 134:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 135:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 136:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 137:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 138:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Defines STM32F4 DISCOVERY AUDIO Private Defines
 139:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 140:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 141:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* These PLL parameters are valid when the f(VCO clock) = 1Mhz */
 142:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SFreq[8] = {8000, 11025, 16000, 22050, 32000, 44100, 48000, 96000};
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 4


 143:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLN[8] = {256, 429, 213, 429, 426, 271, 258, 344};
 144:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLR[8] = {5, 4, 4, 4, 4, 6, 3, 1};
 145:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 146:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 147:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 148:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 149:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Macros STM32F4 DISCOVERY AUDIO Private Macros
 150:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 151:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 152:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 153:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 154:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 155:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 156:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Variables STM32F4 DISCOVERY AUDIO Private Variables
 157:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 158:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 159:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*##### PLAY #####*/
 160:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static AUDIO_DrvTypeDef           *pAudioDrv;
 161:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioOutI2s;
 162:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 163:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*### RECORDER ###*/
 164:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioInI2s;
 165:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 166:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* PDM filters params */
 167:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Handler_t  PDM_FilterHandler[2];
 168:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Config_t   PDM_FilterConfig[2];
 169:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 170:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __IO uint16_t AudioInVolume = DEFAULT_AUDIO_IN_VOLUME;
 171:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 172:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 173:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 174:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 175:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Function_Prototypes STM32F4 DISCOVERY AUDIO Private F
 176:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 177:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 178:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq);
 179:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq);
 180:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut);
 181:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 182:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 183:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 184:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 185:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_OUT_Private_Functions STM32F4 DISCOVERY AUDIO OUT Private Fun
 186:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 187:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 188:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 189:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 190:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Configures the audio peripherals.
 191:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  OutputDevice: OUTPUT_DEVICE_SPEAKER, OUTPUT_DEVICE_HEADPHONE,
 192:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                       OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO .
 193:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Initial volume level (from 0 (Mute) to 100 (Max))
 194:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 195:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 196:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 197:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Init(uint16_t OutputDevice, uint8_t Volume, uint32_t AudioFreq)
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 5


 200:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 201:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
 203:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 204:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 205:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance = I2S3;
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 208:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 209:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init the I2S MSP: this __weak function can be redefined by the application*/
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_MspInit(&hAudioOutI2s, NULL);
 211:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 212:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 213:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 214:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 215:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(I2S3_Init(AudioFreq) != AUDIO_OK)
 217:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 218:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     ret = AUDIO_ERROR;
 219:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 220:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 222:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 223:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Retieve audio codec identifier */
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(((cs43l22_drv.ReadID(AUDIO_I2C_ADDRESS)) & CS43L22_ID_MASK) == CS43L22_ID)
 225:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 226:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Initialize the audio driver structure */
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       pAudioDrv = &cs43l22_drv; 
 228:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 229:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     else
 230:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 231:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       ret = AUDIO_ERROR;
 232:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 233:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 234:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 236:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     pAudioDrv->Init(AUDIO_I2C_ADDRESS, OutputDevice, Volume, AudioFreq);
 238:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 239:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 242:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 243:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 244:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts playing audio stream from a data buffer for a determined size. 
 245:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pBuffer: Pointer to the buffer 
 246:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of audio data BYTES.
 247:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 248:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 249:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Play(uint16_t* pBuffer, uint32_t Size)
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
  31              		.loc 1 250 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
 251:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Play(AUDIO_I2C_ADDRESS, pBuffer, Size) != 0)
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 6


  35              		.loc 1 252 3 view .LVU1
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  36              		.loc 1 250 1 is_stmt 0 view .LVU2
  37 0000 38B5     		push	{r3, r4, r5, lr}
  38              		.cfi_def_cfa_offset 16
  39              		.cfi_offset 3, -16
  40              		.cfi_offset 4, -12
  41              		.cfi_offset 5, -8
  42              		.cfi_offset 14, -4
  43              		.loc 1 252 15 view .LVU3
  44 0002 0C4B     		ldr	r3, .L8
  45 0004 1B68     		ldr	r3, [r3]
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  46              		.loc 1 250 1 view .LVU4
  47 0006 0546     		mov	r5, r0
  48 0008 0C46     		mov	r4, r1
  49              		.loc 1 252 6 view .LVU5
  50 000a 8AB2     		uxth	r2, r1
  51 000c DB68     		ldr	r3, [r3, #12]
  52 000e 0146     		mov	r1, r0
  53              	.LVL1:
  54              		.loc 1 252 6 view .LVU6
  55 0010 9420     		movs	r0, #148
  56              	.LVL2:
  57              		.loc 1 252 6 view .LVU7
  58 0012 9847     		blx	r3
  59              	.LVL3:
  60              		.loc 1 252 5 discriminator 1 view .LVU8
  61 0014 60B9     		cbnz	r0, .L4
 253:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 255:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 256:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 257:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 258:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Update the Media layer and enable it for play */  
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_Transmit_DMA(&hAudioOutI2s, pBuffer, DMA_MAX(Size/AUDIODATA_SIZE)); 
  62              		.loc 1 259 5 is_stmt 1 view .LVU9
  63 0016 B4F5003F 		cmp	r4, #131072
  64              		.loc 1 259 5 is_stmt 0 discriminator 1 view .LVU10
  65 001a 34BF     		ite	cc
  66 001c C4F34F02 		ubfxcc	r2, r4, #1, #16
  67              		.loc 1 259 5 discriminator 2 view .LVU11
  68 0020 4FF6FF72 		movwcs	r2, #65535
  69              		.loc 1 259 5 discriminator 4 view .LVU12
  70 0024 2946     		mov	r1, r5
  71 0026 0448     		ldr	r0, .L8+4
  72 0028 FFF7FEFF 		bl	HAL_I2S_Transmit_DMA
  73              	.LVL4:
 260:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 261:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 262:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
  74              		.loc 1 262 5 is_stmt 1 view .LVU13
  75              		.loc 1 262 12 is_stmt 0 view .LVU14
  76 002c 0020     		movs	r0, #0
 263:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 264:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
  77              		.loc 1 264 1 view .LVU15
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 7


  78 002e 38BD     		pop	{r3, r4, r5, pc}
  79              	.LVL5:
  80              	.L4:
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
  81              		.loc 1 254 12 view .LVU16
  82 0030 0120     		movs	r0, #1
  83              		.loc 1 264 1 view .LVU17
  84 0032 38BD     		pop	{r3, r4, r5, pc}
  85              	.LVL6:
  86              	.L9:
  87              		.loc 1 264 1 view .LVU18
  88              		.align	2
  89              	.L8:
  90 0034 00000000 		.word	pAudioDrv
  91 0038 00000000 		.word	hAudioOutI2s
  92              		.cfi_endproc
  93              	.LFE236:
  95              		.section	.text.BSP_AUDIO_OUT_ChangeBuffer,"ax",%progbits
  96              		.align	1
  97              		.p2align 2,,3
  98              		.global	BSP_AUDIO_OUT_ChangeBuffer
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	BSP_AUDIO_OUT_ChangeBuffer:
 104              	.LVL7:
 105              	.LFB237:
 265:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 266:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 267:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Sends n-Bytes on the I2S interface.
 268:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pData: Pointer to data address 
 269:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of data to be written
 270:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 271:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_ChangeBuffer(uint16_t *pData, uint16_t Size)
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 106              		.loc 1 272 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 111              		.loc 1 273 3 view .LVU20
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 112              		.loc 1 272 1 is_stmt 0 view .LVU21
 113 0000 0346     		mov	r3, r0
 114 0002 0A46     		mov	r2, r1
 115              		.loc 1 273 3 view .LVU22
 116 0004 0148     		ldr	r0, .L11
 117              	.LVL8:
 118              		.loc 1 273 3 view .LVU23
 119 0006 1946     		mov	r1, r3
 120              	.LVL9:
 121              		.loc 1 273 3 view .LVU24
 122 0008 FFF7FEBF 		b	HAL_I2S_Transmit_DMA
 123              	.LVL10:
 124              	.L12:
 125              		.loc 1 273 3 view .LVU25
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 8


 126              		.align	2
 127              	.L11:
 128 000c 00000000 		.word	hAudioOutI2s
 129              		.cfi_endproc
 130              	.LFE237:
 132              		.section	.text.BSP_AUDIO_OUT_Pause,"ax",%progbits
 133              		.align	1
 134              		.p2align 2,,3
 135              		.global	BSP_AUDIO_OUT_Pause
 136              		.syntax unified
 137              		.thumb
 138              		.thumb_func
 140              	BSP_AUDIO_OUT_Pause:
 141              	.LFB238:
 274:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 275:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 276:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 277:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Pauses the audio file stream. In case of using DMA, the DMA Pause
 278:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          feature is used.
 279:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only the
 280:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 281:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 282:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 283:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 284:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Pause(void)
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 142              		.loc 1 285 1 is_stmt 1 view -0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 0, uses_anonymous_args = 0
 286:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Pause(AUDIO_I2C_ADDRESS) != 0)
 146              		.loc 1 287 3 view .LVU27
 147              		.loc 1 287 15 is_stmt 0 view .LVU28
 148 0000 074B     		ldr	r3, .L18
 149 0002 1B68     		ldr	r3, [r3]
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 150              		.loc 1 285 1 view .LVU29
 151 0004 10B5     		push	{r4, lr}
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 4, -8
 154              		.cfi_offset 14, -4
 155              		.loc 1 287 6 view .LVU30
 156 0006 1B69     		ldr	r3, [r3, #16]
 157 0008 9420     		movs	r0, #148
 158 000a 9847     		blx	r3
 159              	.LVL11:
 160              		.loc 1 287 5 discriminator 1 view .LVU31
 161 000c 08B1     		cbz	r0, .L17
 288:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 289:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 162              		.loc 1 289 12 view .LVU32
 163 000e 0120     		movs	r0, #1
 290:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 291:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 292:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 293:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer pause function */
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 9


 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAPause(&hAudioOutI2s);
 295:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 296:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 298:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 299:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 164              		.loc 1 299 1 view .LVU33
 165 0010 10BD     		pop	{r4, pc}
 166              	.L17:
 167 0012 0446     		mov	r4, r0
 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 168              		.loc 1 294 5 is_stmt 1 view .LVU34
 169 0014 0348     		ldr	r0, .L18+4
 170 0016 FFF7FEFF 		bl	HAL_I2S_DMAPause
 171              	.LVL12:
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 172              		.loc 1 297 5 view .LVU35
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 173              		.loc 1 297 12 is_stmt 0 view .LVU36
 174 001a 2046     		mov	r0, r4
 175              		.loc 1 299 1 view .LVU37
 176 001c 10BD     		pop	{r4, pc}
 177              	.L19:
 178 001e 00BF     		.align	2
 179              	.L18:
 180 0020 00000000 		.word	pAudioDrv
 181 0024 00000000 		.word	hAudioOutI2s
 182              		.cfi_endproc
 183              	.LFE238:
 185              		.section	.text.BSP_AUDIO_OUT_Resume,"ax",%progbits
 186              		.align	1
 187              		.p2align 2,,3
 188              		.global	BSP_AUDIO_OUT_Resume
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
 193              	BSP_AUDIO_OUT_Resume:
 194              	.LFB239:
 300:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 301:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 302:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Resumes the audio file streaming.  
 303:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only
 304:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 305:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 306:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 307:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 308:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Resume(void)
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 195              		.loc 1 309 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 310:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Resume(AUDIO_I2C_ADDRESS) != 0)
 199              		.loc 1 311 3 view .LVU39
 200              		.loc 1 311 15 is_stmt 0 view .LVU40
 201 0000 074B     		ldr	r3, .L25
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 10


 202 0002 1B68     		ldr	r3, [r3]
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 203              		.loc 1 309 1 view .LVU41
 204 0004 10B5     		push	{r4, lr}
 205              		.cfi_def_cfa_offset 8
 206              		.cfi_offset 4, -8
 207              		.cfi_offset 14, -4
 208              		.loc 1 311 6 view .LVU42
 209 0006 5B69     		ldr	r3, [r3, #20]
 210 0008 9420     		movs	r0, #148
 211 000a 9847     		blx	r3
 212              	.LVL13:
 213              		.loc 1 311 5 discriminator 1 view .LVU43
 214 000c 08B1     		cbz	r0, .L24
 312:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 313:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 215              		.loc 1 313 12 view .LVU44
 216 000e 0120     		movs	r0, #1
 314:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 315:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 316:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 317:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer resume function */
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAResume(&hAudioOutI2s);
 319:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 320:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 322:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 323:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 217              		.loc 1 323 1 view .LVU45
 218 0010 10BD     		pop	{r4, pc}
 219              	.L24:
 220 0012 0446     		mov	r4, r0
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 221              		.loc 1 318 5 is_stmt 1 view .LVU46
 222 0014 0348     		ldr	r0, .L25+4
 223 0016 FFF7FEFF 		bl	HAL_I2S_DMAResume
 224              	.LVL14:
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 225              		.loc 1 321 5 view .LVU47
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 226              		.loc 1 321 12 is_stmt 0 view .LVU48
 227 001a 2046     		mov	r0, r4
 228              		.loc 1 323 1 view .LVU49
 229 001c 10BD     		pop	{r4, pc}
 230              	.L26:
 231 001e 00BF     		.align	2
 232              	.L25:
 233 0020 00000000 		.word	pAudioDrv
 234 0024 00000000 		.word	hAudioOutI2s
 235              		.cfi_endproc
 236              	.LFE239:
 238              		.section	.text.BSP_AUDIO_OUT_Stop,"ax",%progbits
 239              		.align	1
 240              		.p2align 2,,3
 241              		.global	BSP_AUDIO_OUT_Stop
 242              		.syntax unified
 243              		.thumb
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 11


 244              		.thumb_func
 246              	BSP_AUDIO_OUT_Stop:
 247              	.LVL15:
 248              	.LFB240:
 324:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 325:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 326:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio playing and Power down the Audio Codec. 
 327:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Option: could be one of the following parameters 
 328:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *           - CODEC_PDWN_HW: completely shut down the codec (physically). 
 329:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                            Then need to reconfigure the Codec after power on.  
 330:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 331:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 332:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Stop(uint32_t Option)
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 249              		.loc 1 333 1 is_stmt 1 view -0
 250              		.cfi_startproc
 251              		@ args = 0, pretend = 0, frame = 0
 252              		@ frame_needed = 0, uses_anonymous_args = 0
 334:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 335:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioOutI2s);
 253              		.loc 1 335 3 view .LVU51
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 254              		.loc 1 333 1 is_stmt 0 view .LVU52
 255 0000 38B5     		push	{r3, r4, r5, lr}
 256              		.cfi_def_cfa_offset 16
 257              		.cfi_offset 3, -16
 258              		.cfi_offset 4, -12
 259              		.cfi_offset 5, -8
 260              		.cfi_offset 14, -4
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 261              		.loc 1 333 1 view .LVU53
 262 0002 0446     		mov	r4, r0
 263              		.loc 1 335 3 view .LVU54
 264 0004 0D48     		ldr	r0, .L33
 265              	.LVL16:
 266              		.loc 1 335 3 view .LVU55
 267 0006 FFF7FEFF 		bl	HAL_I2S_DMAStop
 268              	.LVL17:
 336:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 337:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call Audio Codec Stop function */
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Stop(AUDIO_I2C_ADDRESS, Option) != 0)
 269              		.loc 1 338 3 is_stmt 1 view .LVU56
 270              		.loc 1 338 15 is_stmt 0 view .LVU57
 271 000a 0D4B     		ldr	r3, .L33+4
 272 000c 1B68     		ldr	r3, [r3]
 273              		.loc 1 338 6 view .LVU58
 274 000e 9420     		movs	r0, #148
 275 0010 9B69     		ldr	r3, [r3, #24]
 276 0012 2146     		mov	r1, r4
 277 0014 9847     		blx	r3
 278              	.LVL18:
 279              		.loc 1 338 5 discriminator 1 view .LVU59
 280 0016 18B9     		cbnz	r0, .L30
 339:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 341:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 342:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 12


 343:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 344:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(Option == CODEC_PDWN_HW)
 281              		.loc 1 344 5 is_stmt 1 view .LVU60
 282              		.loc 1 344 7 is_stmt 0 view .LVU61
 283 0018 012C     		cmp	r4, #1
 284 001a 03D0     		beq	.L32
 345:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     { 
 346:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Wait at least 1ms */
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_Delay(1);
 348:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 349:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Reset the pin */
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_GPIO_WritePin(AUDIO_RESET_GPIO, AUDIO_RESET_PIN, GPIO_PIN_RESET);
 351:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 352:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 353:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 285              		.loc 1 354 12 view .LVU62
 286 001c 0020     		movs	r0, #0
 287              	.L28:
 355:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 356:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 288              		.loc 1 356 1 view .LVU63
 289 001e 38BD     		pop	{r3, r4, r5, pc}
 290              	.LVL19:
 291              	.L30:
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 292              		.loc 1 340 12 view .LVU64
 293 0020 0120     		movs	r0, #1
 294              		.loc 1 356 1 view .LVU65
 295 0022 38BD     		pop	{r3, r4, r5, pc}
 296              	.LVL20:
 297              	.L32:
 298              		.loc 1 356 1 view .LVU66
 299 0024 0546     		mov	r5, r0
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 300              		.loc 1 347 7 is_stmt 1 view .LVU67
 301 0026 2046     		mov	r0, r4
 302 0028 FFF7FEFF 		bl	HAL_Delay
 303              	.LVL21:
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 304              		.loc 1 350 7 view .LVU68
 305 002c 0548     		ldr	r0, .L33+8
 306 002e 2A46     		mov	r2, r5
 307 0030 1021     		movs	r1, #16
 308 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 309              	.LVL22:
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 310              		.loc 1 354 12 is_stmt 0 view .LVU69
 311 0036 0020     		movs	r0, #0
 312 0038 F1E7     		b	.L28
 313              	.L34:
 314 003a 00BF     		.align	2
 315              	.L33:
 316 003c 00000000 		.word	hAudioOutI2s
 317 0040 00000000 		.word	pAudioDrv
 318 0044 000C0240 		.word	1073875968
 319              		.cfi_endproc
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 13


 320              	.LFE240:
 322              		.section	.text.BSP_AUDIO_OUT_SetVolume,"ax",%progbits
 323              		.align	1
 324              		.p2align 2,,3
 325              		.global	BSP_AUDIO_OUT_SetVolume
 326              		.syntax unified
 327              		.thumb
 328              		.thumb_func
 330              	BSP_AUDIO_OUT_SetVolume:
 331              	.LVL23:
 332              	.LFB241:
 357:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 358:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 359:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the current audio volume level. 
 360:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 361:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 362:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 363:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 364:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetVolume(uint8_t Volume)
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 333              		.loc 1 365 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 0
 336              		@ frame_needed = 0, uses_anonymous_args = 0
 366:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetVolume(AUDIO_I2C_ADDRESS, Volume) != 0)
 337              		.loc 1 367 3 view .LVU71
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 338              		.loc 1 365 1 is_stmt 0 view .LVU72
 339 0000 08B5     		push	{r3, lr}
 340              		.cfi_def_cfa_offset 8
 341              		.cfi_offset 3, -8
 342              		.cfi_offset 14, -4
 343              		.loc 1 367 15 view .LVU73
 344 0002 054B     		ldr	r3, .L37
 345 0004 1B68     		ldr	r3, [r3]
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 346              		.loc 1 365 1 view .LVU74
 347 0006 0146     		mov	r1, r0
 348              		.loc 1 367 6 view .LVU75
 349 0008 1B6A     		ldr	r3, [r3, #32]
 350 000a 9420     		movs	r0, #148
 351              	.LVL24:
 352              		.loc 1 367 6 view .LVU76
 353 000c 9847     		blx	r3
 354              	.LVL25:
 368:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 369:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 370:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 371:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 372:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 373:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 374:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 375:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 376:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 355              		.loc 1 376 1 view .LVU77
 356 000e 0038     		subs	r0, r0, #0
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 14


 357 0010 18BF     		it	ne
 358 0012 0120     		movne	r0, #1
 359 0014 08BD     		pop	{r3, pc}
 360              	.L38:
 361 0016 00BF     		.align	2
 362              	.L37:
 363 0018 00000000 		.word	pAudioDrv
 364              		.cfi_endproc
 365              	.LFE241:
 367              		.section	.text.BSP_AUDIO_OUT_SetMute,"ax",%progbits
 368              		.align	1
 369              		.p2align 2,,3
 370              		.global	BSP_AUDIO_OUT_SetMute
 371              		.syntax unified
 372              		.thumb
 373              		.thumb_func
 375              	BSP_AUDIO_OUT_SetMute:
 376              	.LVL26:
 377              	.LFB242:
 377:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 378:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 379:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Enables or disables the MUTE mode by software 
 380:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Cmd: could be AUDIO_MUTE_ON to mute sound or AUDIO_MUTE_OFF to 
 381:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         unmute the codec and restore previous volume level.
 382:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 383:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 384:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetMute(uint32_t Cmd)
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 378              		.loc 1 385 1 is_stmt 1 view -0
 379              		.cfi_startproc
 380              		@ args = 0, pretend = 0, frame = 0
 381              		@ frame_needed = 0, uses_anonymous_args = 0
 386:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetMute(AUDIO_I2C_ADDRESS, Cmd) != 0)
 382              		.loc 1 387 3 view .LVU79
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 383              		.loc 1 385 1 is_stmt 0 view .LVU80
 384 0000 08B5     		push	{r3, lr}
 385              		.cfi_def_cfa_offset 8
 386              		.cfi_offset 3, -8
 387              		.cfi_offset 14, -4
 388              		.loc 1 387 15 view .LVU81
 389 0002 054B     		ldr	r3, .L41
 390 0004 1B68     		ldr	r3, [r3]
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 391              		.loc 1 385 1 view .LVU82
 392 0006 0146     		mov	r1, r0
 393              		.loc 1 387 6 view .LVU83
 394 0008 5B6A     		ldr	r3, [r3, #36]
 395 000a 9420     		movs	r0, #148
 396              	.LVL27:
 397              		.loc 1 387 6 view .LVU84
 398 000c 9847     		blx	r3
 399              	.LVL28:
 388:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 389:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 390:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 15


 391:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 392:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 393:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 394:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 395:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 396:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 400              		.loc 1 396 1 view .LVU85
 401 000e 0038     		subs	r0, r0, #0
 402 0010 18BF     		it	ne
 403 0012 0120     		movne	r0, #1
 404 0014 08BD     		pop	{r3, pc}
 405              	.L42:
 406 0016 00BF     		.align	2
 407              	.L41:
 408 0018 00000000 		.word	pAudioDrv
 409              		.cfi_endproc
 410              	.LFE242:
 412              		.section	.text.BSP_AUDIO_OUT_SetOutputMode,"ax",%progbits
 413              		.align	1
 414              		.p2align 2,,3
 415              		.global	BSP_AUDIO_OUT_SetOutputMode
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 420              	BSP_AUDIO_OUT_SetOutputMode:
 421              	.LVL29:
 422              	.LFB243:
 397:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 398:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 399:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Switch dynamically (while audio file is played) the output target 
 400:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         (speaker or headphone).
 401:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function modifies a global variable of the audio codec driver: OutputDev.
 402:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Output: specifies the audio output target: OUTPUT_DEVICE_SPEAKER,
 403:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO 
 404:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 405:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 406:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetOutputMode(uint8_t Output)
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 423              		.loc 1 407 1 is_stmt 1 view -0
 424              		.cfi_startproc
 425              		@ args = 0, pretend = 0, frame = 0
 426              		@ frame_needed = 0, uses_anonymous_args = 0
 408:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetOutputMode(AUDIO_I2C_ADDRESS, Output) != 0)
 427              		.loc 1 409 3 view .LVU87
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 428              		.loc 1 407 1 is_stmt 0 view .LVU88
 429 0000 08B5     		push	{r3, lr}
 430              		.cfi_def_cfa_offset 8
 431              		.cfi_offset 3, -8
 432              		.cfi_offset 14, -4
 433              		.loc 1 409 15 view .LVU89
 434 0002 054B     		ldr	r3, .L45
 435 0004 1B68     		ldr	r3, [r3]
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 436              		.loc 1 407 1 view .LVU90
 437 0006 0146     		mov	r1, r0
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 16


 438              		.loc 1 409 6 view .LVU91
 439 0008 9B6A     		ldr	r3, [r3, #40]
 440 000a 9420     		movs	r0, #148
 441              	.LVL30:
 442              		.loc 1 409 6 view .LVU92
 443 000c 9847     		blx	r3
 444              	.LVL31:
 410:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 411:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 412:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 413:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 414:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 415:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 416:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 417:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 418:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 445              		.loc 1 418 1 view .LVU93
 446 000e 0038     		subs	r0, r0, #0
 447 0010 18BF     		it	ne
 448 0012 0120     		movne	r0, #1
 449 0014 08BD     		pop	{r3, pc}
 450              	.L46:
 451 0016 00BF     		.align	2
 452              	.L45:
 453 0018 00000000 		.word	pAudioDrv
 454              		.cfi_endproc
 455              	.LFE243:
 457              		.section	.text.BSP_AUDIO_OUT_ClockConfig,"ax",%progbits
 458              		.align	1
 459              		.p2align 2,,3
 460              		.weak	BSP_AUDIO_OUT_ClockConfig
 461              		.syntax unified
 462              		.thumb
 463              		.thumb_func
 465              	BSP_AUDIO_OUT_ClockConfig:
 466              	.LVL32:
 467              	.LFB247:
 419:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 420:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 421:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Update the audio frequency.
 422:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 423:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API should be called after the BSP_AUDIO_OUT_Init() to adjust the
 424:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         audio frequency. 
 425:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 426:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_SetFrequency(uint32_t AudioFreq)
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 428:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
 430:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 431:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Update the I2S audio frequency configuration */
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_Init(AudioFreq);
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 434:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 435:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 436:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Transfer completed callbacks.
 437:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 438:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 17


 439:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxCpltCallback(I2S_HandleTypeDef *hi2s)
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 442:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 443:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the user function which will manage directly transfer complete */  
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_TransferComplete_CallBack();       
 445:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 447:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 448:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 449:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Half Transfer completed callbacks.
 450:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 451:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 452:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 455:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 456:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Manage the remaining file size and new address offset: This function should
 457:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_HalfTransfer_CallBack();
 459:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 461:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 462:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 463:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Clock Config.
 464:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 465:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 466:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_OUT_Init() and BSP_AUDIO_OUT_SetFrequency()
 467:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application     
 468:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 469:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 470:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 468              		.loc 1 471 1 is_stmt 1 view -0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 16
 471              		@ frame_needed = 0, uses_anonymous_args = 0
 472:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 472              		.loc 1 472 3 view .LVU95
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 473              		.loc 1 473 3 view .LVU96
 474:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < 8; index++)
 474              		.loc 1 475 3 view .LVU97
 475              		.loc 1 475 24 discriminator 1 view .LVU98
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 476              		.loc 1 471 1 is_stmt 0 view .LVU99
 477 0000 10B5     		push	{r4, lr}
 478              		.cfi_def_cfa_offset 8
 479              		.cfi_offset 4, -8
 480              		.cfi_offset 14, -4
 481 0002 174A     		ldr	r2, .L54+8
 482              	.LVL33:
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 483              		.loc 1 471 1 view .LVU100
 484 0004 84B0     		sub	sp, sp, #16
 485              		.cfi_def_cfa_offset 24
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 18


 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 486              		.loc 1 471 1 view .LVU101
 487 0006 0023     		movs	r3, #0
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 488              		.loc 1 473 22 view .LVU102
 489 0008 FF24     		movs	r4, #255
 490              	.LVL34:
 491              	.L49:
 476:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(I2SFreq[index] == AudioFreq)
 492              		.loc 1 477 5 is_stmt 1 view .LVU103
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 493              		.loc 1 475 34 discriminator 2 view .LVU104
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 494              		.loc 1 475 24 discriminator 1 view .LVU105
 495              		.loc 1 477 7 is_stmt 0 view .LVU106
 496 000a 52F8040F 		ldr	r0, [r2, #4]!
 497 000e 8142     		cmp	r1, r0
 498 0010 08BF     		it	eq
 499 0012 DCB2     		uxtbeq	r4, r3
 478:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 479:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       freqindex = index;
 500              		.loc 1 479 7 is_stmt 1 view .LVU107
 501              	.LVL35:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 502              		.loc 1 475 24 is_stmt 0 discriminator 1 view .LVU108
 503 0014 0133     		adds	r3, r3, #1
 504              	.LVL36:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 505              		.loc 1 475 24 discriminator 1 view .LVU109
 506 0016 082B     		cmp	r3, #8
 507 0018 F7D1     		bne	.L49
 480:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 481:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 482:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable PLLI2S clock */
 483:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 508              		.loc 1 483 3 is_stmt 1 view .LVU110
 509 001a 6846     		mov	r0, sp
 510 001c FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 511              	.LVL37:
 484:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 485:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((freqindex & 0x7) == 0)
 512              		.loc 1 485 3 view .LVU111
 513              		.loc 1 485 6 is_stmt 0 view .LVU112
 514 0020 6307     		lsls	r3, r4, #29
 515 0022 0ED1     		bne	.L50
 486:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 487:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 488:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input)  (PLLI2SN/PLLM)
 489:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 516              		.loc 1 490 5 is_stmt 1 view .LVU113
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 517              		.loc 1 491 40 is_stmt 0 view .LVU114
 518 0024 0F4A     		ldr	r2, .L54+12
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 519              		.loc 1 492 40 view .LVU115
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 19


 520 0026 104B     		ldr	r3, .L54+16
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 521              		.loc 1 491 31 view .LVU116
 522 0028 52F82420 		ldr	r2, [r2, r4, lsl #2]
 523              		.loc 1 492 31 view .LVU117
 524 002c 53F82430 		ldr	r3, [r3, r4, lsl #2]
 525 0030 0293     		str	r3, [sp, #8]
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 526              		.loc 1 490 37 view .LVU118
 527 0032 0121     		movs	r1, #1
 493:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 528              		.loc 1 493 5 view .LVU119
 529 0034 6846     		mov	r0, sp
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 530              		.loc 1 491 31 view .LVU120
 531 0036 CDE90012 		strd	r1, r2, [sp]
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 532              		.loc 1 492 5 is_stmt 1 view .LVU121
 533              		.loc 1 493 5 view .LVU122
 534 003a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 535              	.LVL38:
 494:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 495:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 496:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 497:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 498:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input)  (PLLI2SN/PLLM)
 499:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 293;
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 504:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 505:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 536              		.loc 1 505 1 is_stmt 0 view .LVU123
 537 003e 04B0     		add	sp, sp, #16
 538              		.cfi_remember_state
 539              		.cfi_def_cfa_offset 8
 540              		@ sp needed
 541 0040 10BD     		pop	{r4, pc}
 542              	.L50:
 543              		.cfi_restore_state
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 293;
 544              		.loc 1 500 5 is_stmt 1 view .LVU124
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 545              		.loc 1 501 5 view .LVU125
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 293;
 546              		.loc 1 500 37 is_stmt 0 view .LVU126
 547 0042 9FED057B 		vldr.64	d7, .L54	@ int
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 548              		.loc 1 502 31 view .LVU127
 549 0046 0223     		movs	r3, #2
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 550              		.loc 1 503 5 view .LVU128
 551 0048 6846     		mov	r0, sp
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 293;
 552              		.loc 1 500 37 view .LVU129
 553 004a 8DED007B 		vstr.64	d7, [sp]	@ int
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 20


 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 554              		.loc 1 502 5 is_stmt 1 view .LVU130
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 555              		.loc 1 502 31 is_stmt 0 view .LVU131
 556 004e 0293     		str	r3, [sp, #8]
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 557              		.loc 1 503 5 is_stmt 1 view .LVU132
 558 0050 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 559              	.LVL39:
 560              		.loc 1 505 1 is_stmt 0 view .LVU133
 561 0054 04B0     		add	sp, sp, #16
 562              		.cfi_def_cfa_offset 8
 563              		@ sp needed
 564 0056 10BD     		pop	{r4, pc}
 565              	.L55:
 566              		.align	3
 567              	.L54:
 568 0058 01000000 		.word	1
 569 005c 25010000 		.word	293
 570 0060 FCFFFFFF 		.word	I2SFreq-4
 571 0064 00000000 		.word	I2SPLLN
 572 0068 00000000 		.word	I2SPLLR
 573              		.cfi_endproc
 574              	.LFE247:
 576              		.section	.text.BSP_AUDIO_OUT_SetFrequency,"ax",%progbits
 577              		.align	1
 578              		.p2align 2,,3
 579              		.global	BSP_AUDIO_OUT_SetFrequency
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 584              	BSP_AUDIO_OUT_SetFrequency:
 585              	.LVL40:
 586              	.LFB244:
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 587              		.loc 1 427 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 591              		.loc 1 429 3 view .LVU135
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 592              		.loc 1 427 1 is_stmt 0 view .LVU136
 593 0000 38B5     		push	{r3, r4, r5, lr}
 594              		.cfi_def_cfa_offset 16
 595              		.cfi_offset 3, -16
 596              		.cfi_offset 4, -12
 597              		.cfi_offset 5, -8
 598              		.cfi_offset 14, -4
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 599              		.loc 1 429 3 view .LVU137
 600 0002 0E4C     		ldr	r4, .L58
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 601              		.loc 1 427 1 view .LVU138
 602 0004 0546     		mov	r5, r0
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 603              		.loc 1 429 3 view .LVU139
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 21


 604 0006 0146     		mov	r1, r0
 605 0008 0022     		movs	r2, #0
 606 000a 2046     		mov	r0, r4
 607              	.LVL41:
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 608              		.loc 1 429 3 view .LVU140
 609 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 610              	.LVL42:
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 611              		.loc 1 432 3 is_stmt 1 view .LVU141
 612              	.LBB4:
 613              	.LBI4:
 506:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 507:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 508:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  AUDIO OUT I2S MSP Init.
 509:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 510:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 511:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 512:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 516:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 517:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S3 clock */
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_ENABLE();
 519:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 520:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*** Configure the GPIOs ***/  
 521:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_SCK_SD_CLK_ENABLE();
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 524:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 525:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: WS, SCK and SD pins ----------------------------*/
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_SCK_PIN | I2S3_SD_PIN; 
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 532:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_WS_PIN ;
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 535:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 536:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: MCK pin */
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_MCK_CLK_ENABLE();
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 540:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 541:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S DMA clock */
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_DMAx_CLK_ENABLE(); 
 543:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 545:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 546:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sTx handle parameters */   
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Channel             = I2S3_DMAx_CHANNEL;  
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 22


 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 553:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 554:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 555:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     // hdma_i2sTx.Init.Mode                = DMA_NORMAL;
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Mode                = DMA_CIRCULAR;
 557:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 558:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 559:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Priority            = DMA_PRIORITY_HIGH;
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 565:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Instance                 = I2S3_DMAx_STREAM;
 567:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 568:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmatx, hdma_i2sTx);
 570:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 571:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sTx);
 573:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 574:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sTx);
 576:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 577:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 578:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S3_DMAx_IRQ, AUDIO_OUT_IRQ_PREPRIO, 0);
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 582:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 583:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 584:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  De-Initializes BSP_AUDIO_OUT MSP.
 585:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 586:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 587:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 588:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {  
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 591:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 592:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S3_DMAx_IRQ); 
 594:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 596:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 597:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmatx);
 599:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 600:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 601:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 603:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 604:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: SCK and SD pins */
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_SCK_PIN | I2S3_SD_PIN;
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 607:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 23


 608:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: WS pin */
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_WS_PIN;
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 611:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 612:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: MCK pin */
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_MCK_PIN;
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 615:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 616:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_DISABLE();
 618:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 619:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 620:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */   
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 622:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 623:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 624:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA full Transfer complete event.
 625:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 626:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_TransferComplete_CallBack(void)
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 629:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 630:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 631:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 632:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 633:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_HalfTransfer_CallBack(void)
 634:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 635:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 636:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 637:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 638:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA FIFO error event.
 639:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 640:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_Error_CallBack(void)
 641:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 642:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 643:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 644:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
 645:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
 646:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
 647:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 648:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 649:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S).
 650:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 651:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 652:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq)
 614              		.loc 1 652 16 view .LVU142
 615              	.LBB5:
 653:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 654:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioOutI2s Instance parameter */
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance         = I2S3;
 616              		.loc 1 655 3 view .LVU143
 617              		.loc 1 655 33 is_stmt 0 view .LVU144
 618 0010 0B4A     		ldr	r2, .L58+4
 619 0012 2260     		str	r2, [r4]
 656:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 657:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioOutI2s);
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 24


 620              		.loc 1 658 3 is_stmt 1 view .LVU145
 621 0014 D169     		ldr	r1, [r2, #28]
 659:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 660:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 peripheral configuration */
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.AudioFreq   = AudioFreq;
 622              		.loc 1 661 33 is_stmt 0 view .LVU146
 623 0016 6561     		str	r5, [r4, #20]
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 624              		.loc 1 662 33 view .LVU147
 625 0018 0023     		movs	r3, #0
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
 626              		.loc 1 666 33 view .LVU148
 627 001a 4FF40075 		mov	r5, #512
 628              	.LVL43:
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 629              		.loc 1 658 3 view .LVU149
 630 001e 21F48061 		bic	r1, r1, #1024
 631 0022 D161     		str	r1, [r2, #28]
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 632              		.loc 1 661 3 is_stmt 1 view .LVU150
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 633              		.loc 1 662 3 view .LVU151
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 668:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 669:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioOutI2s) != HAL_OK)
 634              		.loc 1 669 6 is_stmt 0 view .LVU152
 635 0024 2046     		mov	r0, r4
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
 636              		.loc 1 663 33 view .LVU153
 637 0026 C4E90633 		strd	r3, r3, [r4, #24]
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 638              		.loc 1 664 3 is_stmt 1 view .LVU154
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
 639              		.loc 1 665 3 view .LVU155
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 640              		.loc 1 666 3 view .LVU156
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 641              		.loc 1 667 3 view .LVU157
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 642              		.loc 1 666 33 is_stmt 0 view .LVU158
 643 002a C4E90153 		strd	r5, r3, [r4, #4]
 644 002e C4E90335 		strd	r3, r5, [r4, #12]
 645              		.loc 1 669 3 is_stmt 1 view .LVU159
 646              	.LBE5:
 647              	.LBE4:
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 648              		.loc 1 433 1 is_stmt 0 view .LVU160
 649 0032 BDE83840 		pop	{r3, r4, r5, lr}
 650              		.cfi_restore 14
 651              		.cfi_restore 5
 652              		.cfi_restore 4
 653              		.cfi_restore 3
 654              		.cfi_def_cfa_offset 0
 655              	.LBB7:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 25


 656              	.LBB6:
 657              		.loc 1 669 6 view .LVU161
 658 0036 FFF7FEBF 		b	HAL_I2S_Init
 659              	.LVL44:
 660              	.L59:
 661              		.loc 1 669 6 view .LVU162
 662 003a 00BF     		.align	2
 663              	.L58:
 664 003c 00000000 		.word	hAudioOutI2s
 665 0040 003C0040 		.word	1073757184
 666              	.LBE6:
 667              	.LBE7:
 668              		.cfi_endproc
 669              	.LFE244:
 671              		.section	.text.BSP_AUDIO_OUT_MspInit,"ax",%progbits
 672              		.align	1
 673              		.p2align 2,,3
 674              		.weak	BSP_AUDIO_OUT_MspInit
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 679              	BSP_AUDIO_OUT_MspInit:
 680              	.LVL45:
 681              	.LFB248:
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 682              		.loc 1 513 1 is_stmt 1 view -0
 683              		.cfi_startproc
 684              		@ args = 0, pretend = 0, frame = 48
 685              		@ frame_needed = 0, uses_anonymous_args = 0
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 686              		.loc 1 514 3 view .LVU164
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 687              		.loc 1 515 3 view .LVU165
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 688              		.loc 1 518 3 view .LVU166
 689              	.LBB8:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 690              		.loc 1 518 3 view .LVU167
 691              	.LBE8:
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 692              		.loc 1 513 1 is_stmt 0 view .LVU168
 693 0000 70B5     		push	{r4, r5, r6, lr}
 694              		.cfi_def_cfa_offset 16
 695              		.cfi_offset 4, -16
 696              		.cfi_offset 5, -12
 697              		.cfi_offset 6, -8
 698              		.cfi_offset 14, -4
 699 0002 8CB0     		sub	sp, sp, #48
 700              		.cfi_def_cfa_offset 64
 701              	.LBB9:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 702              		.loc 1 518 3 view .LVU169
 703 0004 414C     		ldr	r4, .L64
 704 0006 0025     		movs	r5, #0
 705 0008 0195     		str	r5, [sp, #4]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 706              		.loc 1 518 3 is_stmt 1 view .LVU170
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 26


 707 000a 236C     		ldr	r3, [r4, #64]
 708 000c 43F40043 		orr	r3, r3, #32768
 709 0010 2364     		str	r3, [r4, #64]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 710              		.loc 1 518 3 view .LVU171
 711 0012 236C     		ldr	r3, [r4, #64]
 712 0014 03F40043 		and	r3, r3, #32768
 713 0018 0193     		str	r3, [sp, #4]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 714              		.loc 1 518 3 view .LVU172
 715 001a 019B     		ldr	r3, [sp, #4]
 716              	.LBE9:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 717              		.loc 1 518 3 view .LVU173
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 718              		.loc 1 522 3 view .LVU174
 719              	.LBB10:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 720              		.loc 1 522 3 view .LVU175
 721 001c 0295     		str	r5, [sp, #8]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 722              		.loc 1 522 3 view .LVU176
 723 001e 236B     		ldr	r3, [r4, #48]
 724 0020 43F00403 		orr	r3, r3, #4
 725 0024 2363     		str	r3, [r4, #48]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 726              		.loc 1 522 3 view .LVU177
 727 0026 236B     		ldr	r3, [r4, #48]
 728 0028 03F00403 		and	r3, r3, #4
 729 002c 0293     		str	r3, [sp, #8]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 730              		.loc 1 522 3 view .LVU178
 731 002e 029B     		ldr	r3, [sp, #8]
 732              	.LBE10:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 733              		.loc 1 522 3 view .LVU179
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 734              		.loc 1 523 3 view .LVU180
 735              	.LBB11:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 736              		.loc 1 523 3 view .LVU181
 737 0030 0395     		str	r5, [sp, #12]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 738              		.loc 1 523 3 view .LVU182
 739 0032 236B     		ldr	r3, [r4, #48]
 740 0034 43F00103 		orr	r3, r3, #1
 741 0038 2363     		str	r3, [r4, #48]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 742              		.loc 1 523 3 view .LVU183
 743 003a 236B     		ldr	r3, [r4, #48]
 744 003c 03F00103 		and	r3, r3, #1
 745 0040 0393     		str	r3, [sp, #12]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 746              		.loc 1 523 3 view .LVU184
 747              	.LBE11:
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 748              		.loc 1 526 31 is_stmt 0 view .LVU185
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 27


 749 0042 4FF4A052 		mov	r2, #5120
 750 0046 0223     		movs	r3, #2
 751 0048 CDE90623 		strd	r2, [sp, #24]
 752 004c 0022     		movs	r2, #0
 753 004e 0223     		movs	r3, #2
 754 0050 CDE90823 		strd	r2, [sp, #32]
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 755              		.loc 1 513 1 view .LVU186
 756 0054 0646     		mov	r6, r0
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 757              		.loc 1 530 31 view .LVU187
 758 0056 0623     		movs	r3, #6
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 759              		.loc 1 531 3 view .LVU188
 760 0058 2D48     		ldr	r0, .L64+4
 761              	.LVL46:
 762              	.LBB12:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 763              		.loc 1 523 3 view .LVU189
 764 005a 039A     		ldr	r2, [sp, #12]
 765              	.LBE12:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 766              		.loc 1 523 3 is_stmt 1 view .LVU190
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 767              		.loc 1 526 3 view .LVU191
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 768              		.loc 1 527 3 view .LVU192
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 769              		.loc 1 528 3 view .LVU193
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 770              		.loc 1 529 3 view .LVU194
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 771              		.loc 1 530 3 view .LVU195
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 772              		.loc 1 530 31 is_stmt 0 view .LVU196
 773 005c 0A93     		str	r3, [sp, #40]
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 774              		.loc 1 531 3 is_stmt 1 view .LVU197
 775 005e 06A9     		add	r1, sp, #24
 776              	.LVL47:
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 777              		.loc 1 531 3 is_stmt 0 view .LVU198
 778 0060 FFF7FEFF 		bl	HAL_GPIO_Init
 779              	.LVL48:
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 780              		.loc 1 533 3 is_stmt 1 view .LVU199
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 781              		.loc 1 533 31 is_stmt 0 view .LVU200
 782 0064 1023     		movs	r3, #16
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 783              		.loc 1 534 3 view .LVU201
 784 0066 2B48     		ldr	r0, .L64+8
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 785              		.loc 1 533 31 view .LVU202
 786 0068 0693     		str	r3, [sp, #24]
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 787              		.loc 1 534 3 is_stmt 1 view .LVU203
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 28


 788 006a 06A9     		add	r1, sp, #24
 789 006c FFF7FEFF 		bl	HAL_GPIO_Init
 790              	.LVL49:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 791              		.loc 1 537 3 view .LVU204
 792              	.LBB13:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 793              		.loc 1 537 3 view .LVU205
 794 0070 0495     		str	r5, [sp, #16]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 795              		.loc 1 537 3 view .LVU206
 796 0072 236B     		ldr	r3, [r4, #48]
 797              	.LBE13:
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 798              		.loc 1 539 3 is_stmt 0 view .LVU207
 799 0074 2648     		ldr	r0, .L64+4
 800              	.LBB14:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 801              		.loc 1 537 3 view .LVU208
 802 0076 43F00403 		orr	r3, r3, #4
 803 007a 2363     		str	r3, [r4, #48]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 804              		.loc 1 537 3 is_stmt 1 view .LVU209
 805 007c 236B     		ldr	r3, [r4, #48]
 806 007e 03F00403 		and	r3, r3, #4
 807 0082 0493     		str	r3, [sp, #16]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 808              		.loc 1 537 3 view .LVU210
 809              	.LBE14:
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 810              		.loc 1 539 3 is_stmt 0 view .LVU211
 811 0084 06A9     		add	r1, sp, #24
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 812              		.loc 1 538 31 view .LVU212
 813 0086 8023     		movs	r3, #128
 814              	.LBB15:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 815              		.loc 1 537 3 view .LVU213
 816 0088 049A     		ldr	r2, [sp, #16]
 817              	.LBE15:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 818              		.loc 1 537 3 is_stmt 1 view .LVU214
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 819              		.loc 1 538 3 view .LVU215
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 820              		.loc 1 538 31 is_stmt 0 view .LVU216
 821 008a 0693     		str	r3, [sp, #24]
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 822              		.loc 1 539 3 is_stmt 1 view .LVU217
 823 008c FFF7FEFF 		bl	HAL_GPIO_Init
 824              	.LVL50:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 825              		.loc 1 542 3 view .LVU218
 826              	.LBB16:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 827              		.loc 1 542 3 view .LVU219
 828 0090 0595     		str	r5, [sp, #20]
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 29


 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 829              		.loc 1 542 3 view .LVU220
 830 0092 236B     		ldr	r3, [r4, #48]
 831              	.LBE16:
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 832              		.loc 1 544 5 is_stmt 0 view .LVU221
 833 0094 204A     		ldr	r2, .L64+12
 834              	.LBB17:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 835              		.loc 1 542 3 view .LVU222
 836 0096 43F40013 		orr	r3, r3, #2097152
 837 009a 2363     		str	r3, [r4, #48]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 838              		.loc 1 542 3 is_stmt 1 view .LVU223
 839 009c 236B     		ldr	r3, [r4, #48]
 840 009e 03F40013 		and	r3, r3, #2097152
 841 00a2 0593     		str	r3, [sp, #20]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 842              		.loc 1 542 3 view .LVU224
 843              	.LBE17:
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 844              		.loc 1 544 5 is_stmt 0 view .LVU225
 845 00a4 3368     		ldr	r3, [r6]
 846              	.LBB18:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 847              		.loc 1 542 3 view .LVU226
 848 00a6 0599     		ldr	r1, [sp, #20]
 849              	.LBE18:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 850              		.loc 1 542 3 is_stmt 1 view .LVU227
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 851              		.loc 1 544 3 view .LVU228
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 852              		.loc 1 544 5 is_stmt 0 view .LVU229
 853 00a8 9342     		cmp	r3, r2
 854 00aa 09D0     		beq	.L63
 855              	.L61:
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 856              		.loc 1 579 3 is_stmt 1 view .LVU230
 857 00ac 0022     		movs	r2, #0
 858 00ae 0E21     		movs	r1, #14
 859 00b0 2F20     		movs	r0, #47
 860 00b2 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 861              	.LVL51:
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 862              		.loc 1 580 3 view .LVU231
 863 00b6 2F20     		movs	r0, #47
 864 00b8 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 865              	.LVL52:
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 866              		.loc 1 581 1 is_stmt 0 view .LVU232
 867 00bc 0CB0     		add	sp, sp, #48
 868              		.cfi_remember_state
 869              		.cfi_def_cfa_offset 16
 870              		@ sp needed
 871 00be 70BD     		pop	{r4, r5, r6, pc}
 872              	.LVL53:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 30


 873              	.L63:
 874              		.cfi_restore_state
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 875              		.loc 1 547 5 is_stmt 1 view .LVU233
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 876              		.loc 1 548 5 view .LVU234
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
 877              		.loc 1 549 5 view .LVU235
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 878              		.loc 1 550 5 view .LVU236
 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 879              		.loc 1 551 5 view .LVU237
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 880              		.loc 1 552 5 view .LVU238
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 881              		.loc 1 556 5 view .LVU239
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 882              		.loc 1 560 5 view .LVU240
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 883              		.loc 1 561 5 view .LVU241
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 884              		.loc 1 562 5 view .LVU242
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 885              		.loc 1 563 5 view .LVU243
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 886              		.loc 1 564 5 view .LVU244
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 887              		.loc 1 547 41 is_stmt 0 view .LVU245
 888 00c0 164C     		ldr	r4, .L64+16
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 889              		.loc 1 566 41 view .LVU246
 890 00c2 174B     		ldr	r3, .L64+20
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 891              		.loc 1 569 5 view .LVU247
 892 00c4 B463     		str	r4, [r6, #56]
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 893              		.loc 1 547 41 view .LVU248
 894 00c6 4022     		movs	r2, #64
 895 00c8 C4E90152 		strd	r5, r2, [r4, #4]
 896 00cc 4FF48062 		mov	r2, #1024
 897 00d0 C4E90352 		strd	r5, r2, [r4, #12]
 898 00d4 4FF40061 		mov	r1, #2048
 899 00d8 4FF40052 		mov	r2, #8192
 900 00dc C4E90512 		strd	r1, r2, [r4, #20]
 901 00e0 4FF48070 		mov	r0, #256
 902 00e4 4FF40032 		mov	r2, #131072
 903 00e8 C4E90702 		strd	r0, r2, [r4, #28]
 904 00ec 4FF0040C 		mov	ip, #4
 905 00f0 0322     		movs	r2, #3
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 906              		.loc 1 572 5 view .LVU249
 907 00f2 2046     		mov	r0, r4
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 908              		.loc 1 547 41 view .LVU250
 909 00f4 C4E909C2 		strd	ip, r2, [r4, #36]
 910 00f8 C4E90B55 		strd	r5, r5, [r4, #44]
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 31


 911              		.loc 1 566 5 is_stmt 1 view .LVU251
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 912              		.loc 1 566 41 is_stmt 0 view .LVU252
 913 00fc 2360     		str	r3, [r4]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 914              		.loc 1 569 5 is_stmt 1 view .LVU253
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 915              		.loc 1 569 5 view .LVU254
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 916              		.loc 1 569 5 view .LVU255
 917 00fe A663     		str	r6, [r4, #56]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 918              		.loc 1 569 5 view .LVU256
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 919              		.loc 1 572 5 view .LVU257
 920 0100 FFF7FEFF 		bl	HAL_DMA_DeInit
 921              	.LVL54:
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 922              		.loc 1 575 5 view .LVU258
 923 0104 2046     		mov	r0, r4
 924 0106 FFF7FEFF 		bl	HAL_DMA_Init
 925              	.LVL55:
 926 010a CFE7     		b	.L61
 927              	.L65:
 928              		.align	2
 929              	.L64:
 930 010c 00380240 		.word	1073887232
 931 0110 00080240 		.word	1073874944
 932 0114 00000240 		.word	1073872896
 933 0118 003C0040 		.word	1073757184
 934 011c 00000000 		.word	hdma_i2sTx.1
 935 0120 B8600240 		.word	1073897656
 936              		.cfi_endproc
 937              	.LFE248:
 939              		.section	.text.BSP_AUDIO_OUT_Init,"ax",%progbits
 940              		.align	1
 941              		.p2align 2,,3
 942              		.global	BSP_AUDIO_OUT_Init
 943              		.syntax unified
 944              		.thumb
 945              		.thumb_func
 947              	BSP_AUDIO_OUT_Init:
 948              	.LVL56:
 949              	.LFB235:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 950              		.loc 1 198 1 view -0
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 0
 953              		@ frame_needed = 0, uses_anonymous_args = 0
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 954              		.loc 1 199 3 view .LVU260
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 955              		.loc 1 202 3 view .LVU261
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 956              		.loc 1 198 1 is_stmt 0 view .LVU262
 957 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 958              		.cfi_def_cfa_offset 24
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 32


 959              		.cfi_offset 4, -24
 960              		.cfi_offset 5, -20
 961              		.cfi_offset 6, -16
 962              		.cfi_offset 7, -12
 963              		.cfi_offset 8, -8
 964              		.cfi_offset 14, -4
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 965              		.loc 1 202 3 view .LVU263
 966 0004 214C     		ldr	r4, .L74
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 967              		.loc 1 198 1 view .LVU264
 968 0006 1546     		mov	r5, r2
 969 0008 0646     		mov	r6, r0
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 970              		.loc 1 202 3 view .LVU265
 971 000a 0022     		movs	r2, #0
 972              	.LVL57:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 973              		.loc 1 202 3 view .LVU266
 974 000c 2046     		mov	r0, r4
 975              	.LVL58:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 976              		.loc 1 198 1 view .LVU267
 977 000e 0F46     		mov	r7, r1
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 978              		.loc 1 202 3 view .LVU268
 979 0010 2946     		mov	r1, r5
 980              	.LVL59:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 981              		.loc 1 202 3 view .LVU269
 982 0012 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 983              	.LVL60:
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 984              		.loc 1 206 3 is_stmt 1 view .LVU270
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 985              		.loc 1 206 25 is_stmt 0 view .LVU271
 986 0016 1E4B     		ldr	r3, .L74+4
 987 0018 2360     		str	r3, [r4]
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 988              		.loc 1 207 3 is_stmt 1 view .LVU272
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 989              		.loc 1 207 6 is_stmt 0 view .LVU273
 990 001a 2046     		mov	r0, r4
 991 001c FFF7FEFF 		bl	HAL_I2S_GetState
 992              	.LVL61:
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 993              		.loc 1 207 5 discriminator 1 view .LVU274
 994 0020 10B3     		cbz	r0, .L72
 995              	.L67:
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 996              		.loc 1 216 3 is_stmt 1 view .LVU275
 997              	.LVL62:
 998              	.LBB21:
 999              	.LBI21:
 652:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1000              		.loc 1 652 16 view .LVU276
 1001              	.LBB22:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 33


 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1002              		.loc 1 655 3 view .LVU277
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1003              		.loc 1 655 33 is_stmt 0 view .LVU278
 1004 0022 1B4B     		ldr	r3, .L74+4
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 1005              		.loc 1 661 33 view .LVU279
 1006 0024 6561     		str	r5, [r4, #20]
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1007              		.loc 1 658 3 view .LVU280
 1008 0026 DA69     		ldr	r2, [r3, #28]
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1009              		.loc 1 655 33 view .LVU281
 1010 0028 2360     		str	r3, [r4]
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1011              		.loc 1 658 3 is_stmt 1 view .LVU282
 1012 002a 22F48062 		bic	r2, r2, #1024
 1013 002e DA61     		str	r2, [r3, #28]
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 1014              		.loc 1 661 3 view .LVU283
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 1015              		.loc 1 662 3 view .LVU284
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 1016              		.loc 1 662 33 is_stmt 0 view .LVU285
 1017 0030 0023     		movs	r3, #0
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
 1018              		.loc 1 663 33 view .LVU286
 1019 0032 C4E90633 		strd	r3, r3, [r4, #24]
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 1020              		.loc 1 664 3 is_stmt 1 view .LVU287
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
 1021              		.loc 1 665 3 view .LVU288
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 1022              		.loc 1 666 3 view .LVU289
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 1023              		.loc 1 667 3 view .LVU290
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 1024              		.loc 1 666 33 is_stmt 0 view .LVU291
 1025 0036 C4E90233 		strd	r3, r3, [r4, #8]
 1026              		.loc 1 669 6 view .LVU292
 1027 003a 1448     		ldr	r0, .L74
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 1028              		.loc 1 666 33 view .LVU293
 1029 003c 4FF40073 		mov	r3, #512
 1030 0040 6360     		str	r3, [r4, #4]
 1031 0042 2361     		str	r3, [r4, #16]
 1032              		.loc 1 669 3 is_stmt 1 view .LVU294
 1033              		.loc 1 669 6 is_stmt 0 view .LVU295
 1034 0044 FFF7FEFF 		bl	HAL_I2S_Init
 1035              	.LVL63:
 1036              		.loc 1 669 5 discriminator 1 view .LVU296
 1037 0048 0446     		mov	r4, r0
 1038 004a 48B9     		cbnz	r0, .L70
 670:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 671:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 672:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 673:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 34


 674:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 675:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 1039              		.loc 1 675 5 is_stmt 1 view .LVU297
 1040              	.LVL64:
 1041              		.loc 1 675 5 is_stmt 0 view .LVU298
 1042              	.LBE22:
 1043              	.LBE21:
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1044              		.loc 1 221 3 is_stmt 1 view .LVU299
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1045              		.loc 1 224 5 view .LVU300
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1046              		.loc 1 224 21 is_stmt 0 view .LVU301
 1047 004c DFF84880 		ldr	r8, .L74+12
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1048              		.loc 1 224 10 view .LVU302
 1049 0050 9420     		movs	r0, #148
 1050 0052 D8F80830 		ldr	r3, [r8, #8]
 1051 0056 9847     		blx	r3
 1052              	.LVL65:
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1053              		.loc 1 224 49 discriminator 1 view .LVU303
 1054 0058 00F0F800 		and	r0, r0, #248
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1055              		.loc 1 224 7 discriminator 1 view .LVU304
 1056 005c E028     		cmp	r0, #224
 1057 005e 08D0     		beq	.L73
 1058              	.L70:
 218:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1059              		.loc 1 218 9 view .LVU305
 1060 0060 0124     		movs	r4, #1
 1061              	.LVL66:
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1062              		.loc 1 240 3 is_stmt 1 view .LVU306
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1063              		.loc 1 241 1 is_stmt 0 view .LVU307
 1064 0062 2046     		mov	r0, r4
 1065 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1066              	.LVL67:
 1067              	.L72:
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1068              		.loc 1 210 5 is_stmt 1 view .LVU308
 1069 0068 0146     		mov	r1, r0
 1070 006a 2046     		mov	r0, r4
 1071 006c FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 1072              	.LVL68:
 1073 0070 D7E7     		b	.L67
 1074              	.L73:
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1075              		.loc 1 227 7 view .LVU309
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1076              		.loc 1 227 17 is_stmt 0 view .LVU310
 1077 0072 0848     		ldr	r0, .L74+8
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1078              		.loc 1 237 5 view .LVU311
 1079 0074 2B46     		mov	r3, r5
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 35


 1080              		.loc 1 227 17 view .LVU312
 1081 0076 C0F80080 		str	r8, [r0]
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1082              		.loc 1 235 3 is_stmt 1 view .LVU313
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1083              		.loc 1 237 5 view .LVU314
 1084 007a D8F80050 		ldr	r5, [r8]
 1085              	.LVL69:
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1086              		.loc 1 237 5 is_stmt 0 view .LVU315
 1087 007e 3A46     		mov	r2, r7
 1088 0080 3146     		mov	r1, r6
 1089 0082 9420     		movs	r0, #148
 1090 0084 A847     		blx	r5
 1091              	.LVL70:
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1092              		.loc 1 240 3 is_stmt 1 view .LVU316
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1093              		.loc 1 241 1 is_stmt 0 view .LVU317
 1094 0086 2046     		mov	r0, r4
 1095 0088 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1096              	.L75:
 1097              		.align	2
 1098              	.L74:
 1099 008c 00000000 		.word	hAudioOutI2s
 1100 0090 003C0040 		.word	1073757184
 1101 0094 00000000 		.word	pAudioDrv
 1102 0098 00000000 		.word	cs43l22_drv
 1103              		.cfi_endproc
 1104              	.LFE235:
 1106              		.section	.text.BSP_AUDIO_OUT_MspDeInit,"ax",%progbits
 1107              		.align	1
 1108              		.p2align 2,,3
 1109              		.weak	BSP_AUDIO_OUT_MspDeInit
 1110              		.syntax unified
 1111              		.thumb
 1112              		.thumb_func
 1114              	BSP_AUDIO_OUT_MspDeInit:
 1115              	.LVL71:
 1116              	.LFB249:
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1117              		.loc 1 589 1 is_stmt 1 view -0
 1118              		.cfi_startproc
 1119              		@ args = 0, pretend = 0, frame = 0
 1120              		@ frame_needed = 0, uses_anonymous_args = 0
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1121              		.loc 1 590 3 view .LVU319
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1122              		.loc 1 593 3 view .LVU320
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1123              		.loc 1 589 1 is_stmt 0 view .LVU321
 1124 0000 10B5     		push	{r4, lr}
 1125              		.cfi_def_cfa_offset 8
 1126              		.cfi_offset 4, -8
 1127              		.cfi_offset 14, -4
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1128              		.loc 1 589 1 view .LVU322
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 36


 1129 0002 0446     		mov	r4, r0
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1130              		.loc 1 593 3 view .LVU323
 1131 0004 2F20     		movs	r0, #47
 1132              	.LVL72:
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1133              		.loc 1 593 3 view .LVU324
 1134 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1135              	.LVL73:
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1136              		.loc 1 595 3 is_stmt 1 view .LVU325
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1137              		.loc 1 595 5 is_stmt 0 view .LVU326
 1138 000a 104A     		ldr	r2, .L80
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1139              		.loc 1 595 10 view .LVU327
 1140 000c 2368     		ldr	r3, [r4]
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1141              		.loc 1 595 5 view .LVU328
 1142 000e 9342     		cmp	r3, r2
 1143 0010 16D0     		beq	.L79
 1144              	.L77:
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1145              		.loc 1 602 3 is_stmt 1 view .LVU329
 1146 0012 DA69     		ldr	r2, [r3, #28]
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1147              		.loc 1 606 3 is_stmt 0 view .LVU330
 1148 0014 0E48     		ldr	r0, .L80+4
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1149              		.loc 1 602 3 view .LVU331
 1150 0016 22F48062 		bic	r2, r2, #1024
 1151 001a DA61     		str	r2, [r3, #28]
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 1152              		.loc 1 605 3 is_stmt 1 view .LVU332
 1153              	.LVL74:
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1154              		.loc 1 606 3 view .LVU333
 1155 001c 4FF4A051 		mov	r1, #5120
 1156 0020 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1157              	.LVL75:
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 1158              		.loc 1 609 3 view .LVU334
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1159              		.loc 1 610 3 view .LVU335
 1160 0024 0B48     		ldr	r0, .L80+8
 1161 0026 1021     		movs	r1, #16
 1162 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1163              	.LVL76:
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 1164              		.loc 1 613 3 view .LVU336
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1165              		.loc 1 614 3 view .LVU337
 1166 002c 0848     		ldr	r0, .L80+4
 1167 002e 8021     		movs	r1, #128
 1168 0030 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1169              	.LVL77:
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 37


 1170              		.loc 1 617 3 view .LVU338
 1171 0034 084A     		ldr	r2, .L80+12
 1172 0036 136C     		ldr	r3, [r2, #64]
 1173 0038 23F40043 		bic	r3, r3, #32768
 1174 003c 1364     		str	r3, [r2, #64]
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1175              		.loc 1 621 1 is_stmt 0 view .LVU339
 1176 003e 10BD     		pop	{r4, pc}
 1177              	.LVL78:
 1178              	.L79:
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1179              		.loc 1 598 5 is_stmt 1 view .LVU340
 1180 0040 A06B     		ldr	r0, [r4, #56]
 1181 0042 FFF7FEFF 		bl	HAL_DMA_DeInit
 1182              	.LVL79:
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1183              		.loc 1 602 3 is_stmt 0 view .LVU341
 1184 0046 2368     		ldr	r3, [r4]
 1185 0048 E3E7     		b	.L77
 1186              	.L81:
 1187 004a 00BF     		.align	2
 1188              	.L80:
 1189 004c 003C0040 		.word	1073757184
 1190 0050 00080240 		.word	1073874944
 1191 0054 00000240 		.word	1073872896
 1192 0058 00380240 		.word	1073887232
 1193              		.cfi_endproc
 1194              	.LFE249:
 1196              		.section	.text.BSP_AUDIO_OUT_TransferComplete_CallBack,"ax",%progbits
 1197              		.align	1
 1198              		.p2align 2,,3
 1199              		.weak	BSP_AUDIO_OUT_TransferComplete_CallBack
 1200              		.syntax unified
 1201              		.thumb
 1202              		.thumb_func
 1204              	BSP_AUDIO_OUT_TransferComplete_CallBack:
 1205              	.LFB250:
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1206              		.loc 1 627 1 is_stmt 1 view -0
 1207              		.cfi_startproc
 1208              		@ args = 0, pretend = 0, frame = 0
 1209              		@ frame_needed = 0, uses_anonymous_args = 0
 1210              		@ link register save eliminated.
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1211              		.loc 1 628 1 view .LVU343
 1212 0000 7047     		bx	lr
 1213              		.cfi_endproc
 1214              	.LFE250:
 1216 0002 00BF     		.section	.text.HAL_I2S_TxCpltCallback,"ax",%progbits
 1217              		.align	1
 1218              		.p2align 2,,3
 1219              		.global	HAL_I2S_TxCpltCallback
 1220              		.syntax unified
 1221              		.thumb
 1222              		.thumb_func
 1224              	HAL_I2S_TxCpltCallback:
 1225              	.LVL80:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 38


 1226              	.LFB245:
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1227              		.loc 1 440 1 view -0
 1228              		.cfi_startproc
 1229              		@ args = 0, pretend = 0, frame = 0
 1230              		@ frame_needed = 0, uses_anonymous_args = 0
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1231              		.loc 1 441 3 view .LVU345
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1232              		.loc 1 440 1 is_stmt 0 view .LVU346
 1233 0000 08B5     		push	{r3, lr}
 1234              		.cfi_def_cfa_offset 8
 1235              		.cfi_offset 3, -8
 1236              		.cfi_offset 14, -4
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1237              		.loc 1 441 5 view .LVU347
 1238 0002 0268     		ldr	r2, [r0]
 1239 0004 034B     		ldr	r3, .L87
 1240 0006 9A42     		cmp	r2, r3
 1241 0008 00D0     		beq	.L86
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1242              		.loc 1 446 1 view .LVU348
 1243 000a 08BD     		pop	{r3, pc}
 1244              	.L86:
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1245              		.loc 1 444 5 is_stmt 1 view .LVU349
 1246 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_TransferComplete_CallBack
 1247              	.LVL81:
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1248              		.loc 1 446 1 is_stmt 0 view .LVU350
 1249 0010 08BD     		pop	{r3, pc}
 1250              	.L88:
 1251 0012 00BF     		.align	2
 1252              	.L87:
 1253 0014 003C0040 		.word	1073757184
 1254              		.cfi_endproc
 1255              	.LFE245:
 1257              		.section	.text.BSP_AUDIO_OUT_HalfTransfer_CallBack,"ax",%progbits
 1258              		.align	1
 1259              		.p2align 2,,3
 1260              		.weak	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1261              		.syntax unified
 1262              		.thumb
 1263              		.thumb_func
 1265              	BSP_AUDIO_OUT_HalfTransfer_CallBack:
 1266              	.LFB273:
 1267              		.cfi_startproc
 633:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1268              		.loc 1 633 13 is_stmt 1 view -0
 1269              		@ args = 0, pretend = 0, frame = 0
 1270              		@ frame_needed = 0, uses_anonymous_args = 0
 1271              		@ link register save eliminated.
 1272 0000 7047     		bx	lr
 1273              		.cfi_endproc
 1274              	.LFE273:
 1276 0002 00BF     		.section	.text.HAL_I2S_TxHalfCpltCallback,"ax",%progbits
 1277              		.align	1
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 39


 1278              		.p2align 2,,3
 1279              		.global	HAL_I2S_TxHalfCpltCallback
 1280              		.syntax unified
 1281              		.thumb
 1282              		.thumb_func
 1284              	HAL_I2S_TxHalfCpltCallback:
 1285              	.LVL82:
 1286              	.LFB246:
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1287              		.loc 1 453 1 view -0
 1288              		.cfi_startproc
 1289              		@ args = 0, pretend = 0, frame = 0
 1290              		@ frame_needed = 0, uses_anonymous_args = 0
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1291              		.loc 1 454 3 view .LVU353
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1292              		.loc 1 453 1 is_stmt 0 view .LVU354
 1293 0000 08B5     		push	{r3, lr}
 1294              		.cfi_def_cfa_offset 8
 1295              		.cfi_offset 3, -8
 1296              		.cfi_offset 14, -4
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1297              		.loc 1 454 5 view .LVU355
 1298 0002 0268     		ldr	r2, [r0]
 1299 0004 034B     		ldr	r3, .L94
 1300 0006 9A42     		cmp	r2, r3
 1301 0008 00D0     		beq	.L93
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1302              		.loc 1 460 1 view .LVU356
 1303 000a 08BD     		pop	{r3, pc}
 1304              	.L93:
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1305              		.loc 1 458 5 is_stmt 1 view .LVU357
 1306 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1307              	.LVL83:
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1308              		.loc 1 460 1 is_stmt 0 view .LVU358
 1309 0010 08BD     		pop	{r3, pc}
 1310              	.L95:
 1311 0012 00BF     		.align	2
 1312              	.L94:
 1313 0014 003C0040 		.word	1073757184
 1314              		.cfi_endproc
 1315              	.LFE246:
 1317              		.section	.text.BSP_AUDIO_OUT_Error_CallBack,"ax",%progbits
 1318              		.align	1
 1319              		.p2align 2,,3
 1320              		.weak	BSP_AUDIO_OUT_Error_CallBack
 1321              		.syntax unified
 1322              		.thumb
 1323              		.thumb_func
 1325              	BSP_AUDIO_OUT_Error_CallBack:
 1326              	.LFB275:
 1327              		.cfi_startproc
 640:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1328              		.loc 1 640 13 is_stmt 1 view -0
 1329              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 40


 1330              		@ frame_needed = 0, uses_anonymous_args = 0
 1331              		@ link register save eliminated.
 1332 0000 7047     		bx	lr
 1333              		.cfi_endproc
 1334              	.LFE275:
 1336 0002 00BF     		.section	.text.BSP_AUDIO_IN_Record,"ax",%progbits
 1337              		.align	1
 1338              		.p2align 2,,3
 1339              		.global	BSP_AUDIO_IN_Record
 1340              		.syntax unified
 1341              		.thumb
 1342              		.thumb_func
 1344              	BSP_AUDIO_IN_Record:
 1345              	.LVL84:
 1346              	.LFB255:
 676:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 677:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 678:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 679:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 680:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 681:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 682:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 683:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_Private_Functions STM32F4 DISCOVERY AUDIO IN Private Funct
 684:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 685:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 686:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 687:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 688:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes wave recording.
 689:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 690:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured for the I2S peripheral.
 691:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbr: Audio frequency to be configured for the I2S peripheral.
 692:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 693:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 694:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Init(uint32_t AudioFreq, uint32_t BitRes, uint32_t ChnlNbr)
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 696:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 697:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure PLL clock */ 
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_ClockConfig(&hAudioInI2s, AudioFreq, NULL);
 699:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 700:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the PDM library */
 701:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* On STM32F4-Discovery a single microphone is mounted, samples are duplicated
 702:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to make stereo audio streams */
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   PDMDecoder_Init(AudioFreq, ChnlNbr, 2);
 704:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 705:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance = I2S2;
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 708:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 709:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Initialize the I2S Msp: this __weak function can be rewritten by the application */
 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_MspInit(&hAudioInI2s, NULL);
 711:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 712:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 713:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S2 */
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_Init(AudioFreq);
 715:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 716:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 41


 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 719:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 720:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 721:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts audio recording.
 722:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pbuf: Main buffer pointer for the recorded data storing  
 723:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  size: Current size of the recorded buffer
 724:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 725:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 726:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Record(uint16_t* pbuf, uint32_t size)
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1347              		.loc 1 727 1 view -0
 1348              		.cfi_startproc
 1349              		@ args = 0, pretend = 0, frame = 0
 1350              		@ frame_needed = 0, uses_anonymous_args = 0
 728:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1351              		.loc 1 728 3 view .LVU361
 729:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 730:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Start the process receive DMA */
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Receive_DMA(&hAudioInI2s, pbuf, size);
 1352              		.loc 1 731 3 view .LVU362
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1353              		.loc 1 727 1 is_stmt 0 view .LVU363
 1354 0000 08B5     		push	{r3, lr}
 1355              		.cfi_def_cfa_offset 8
 1356              		.cfi_offset 3, -8
 1357              		.cfi_offset 14, -4
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1358              		.loc 1 727 1 view .LVU364
 1359 0002 0346     		mov	r3, r0
 1360              		.loc 1 731 3 view .LVU365
 1361 0004 8AB2     		uxth	r2, r1
 1362 0006 0348     		ldr	r0, .L99
 1363              	.LVL85:
 1364              		.loc 1 731 3 view .LVU366
 1365 0008 1946     		mov	r1, r3
 1366              	.LVL86:
 1367              		.loc 1 731 3 view .LVU367
 1368 000a FFF7FEFF 		bl	HAL_I2S_Receive_DMA
 1369              	.LVL87:
 732:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 733:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 734:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 1370              		.loc 1 734 3 is_stmt 1 view .LVU368
 735:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 736:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 1371              		.loc 1 736 3 view .LVU369
 737:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1372              		.loc 1 737 1 is_stmt 0 view .LVU370
 1373 000e 0020     		movs	r0, #0
 1374 0010 08BD     		pop	{r3, pc}
 1375              	.L100:
 1376 0012 00BF     		.align	2
 1377              	.L99:
 1378 0014 00000000 		.word	hAudioInI2s
 1379              		.cfi_endproc
 1380              	.LFE255:
 1382              		.section	.text.BSP_AUDIO_IN_Stop,"ax",%progbits
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 42


 1383              		.align	1
 1384              		.p2align 2,,3
 1385              		.global	BSP_AUDIO_IN_Stop
 1386              		.syntax unified
 1387              		.thumb
 1388              		.thumb_func
 1390              	BSP_AUDIO_IN_Stop:
 1391              	.LFB256:
 738:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 739:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 740:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio recording.
 741:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 742:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 743:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Stop(void)
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1392              		.loc 1 744 1 is_stmt 1 view -0
 1393              		.cfi_startproc
 1394              		@ args = 0, pretend = 0, frame = 0
 1395              		@ frame_needed = 0, uses_anonymous_args = 0
 745:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1396              		.loc 1 745 3 view .LVU372
 1397              	.LVL88:
 746:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 747:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 748:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioInI2s);  
 1398              		.loc 1 748 3 view .LVU373
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1399              		.loc 1 744 1 is_stmt 0 view .LVU374
 1400 0000 08B5     		push	{r3, lr}
 1401              		.cfi_def_cfa_offset 8
 1402              		.cfi_offset 3, -8
 1403              		.cfi_offset 14, -4
 1404              		.loc 1 748 3 view .LVU375
 1405 0002 0248     		ldr	r0, .L103
 1406 0004 FFF7FEFF 		bl	HAL_I2S_DMAStop
 1407              	.LVL89:
 749:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 750:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 751:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 1408              		.loc 1 751 3 is_stmt 1 view .LVU376
 752:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 753:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 1409              		.loc 1 753 3 view .LVU377
 754:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1410              		.loc 1 754 1 is_stmt 0 view .LVU378
 1411 0008 0020     		movs	r0, #0
 1412 000a 08BD     		pop	{r3, pc}
 1413              	.L104:
 1414              		.align	2
 1415              	.L103:
 1416 000c 00000000 		.word	hAudioInI2s
 1417              		.cfi_endproc
 1418              	.LFE256:
 1420              		.section	.text.BSP_AUDIO_IN_Pause,"ax",%progbits
 1421              		.align	1
 1422              		.p2align 2,,3
 1423              		.global	BSP_AUDIO_IN_Pause
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 43


 1424              		.syntax unified
 1425              		.thumb
 1426              		.thumb_func
 1428              	BSP_AUDIO_IN_Pause:
 1429              	.LFB257:
 755:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 756:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 757:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Pauses the audio file stream.
 758:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 759:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 760:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Pause(void)
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 1430              		.loc 1 761 1 is_stmt 1 view -0
 1431              		.cfi_startproc
 1432              		@ args = 0, pretend = 0, frame = 0
 1433              		@ frame_needed = 0, uses_anonymous_args = 0
 762:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 763:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAPause(&hAudioInI2s);
 1434              		.loc 1 763 3 view .LVU380
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 1435              		.loc 1 761 1 is_stmt 0 view .LVU381
 1436 0000 08B5     		push	{r3, lr}
 1437              		.cfi_def_cfa_offset 8
 1438              		.cfi_offset 3, -8
 1439              		.cfi_offset 14, -4
 1440              		.loc 1 763 3 view .LVU382
 1441 0002 0248     		ldr	r0, .L107
 1442 0004 FFF7FEFF 		bl	HAL_I2S_DMAPause
 1443              	.LVL90:
 764:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 765:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 766:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1444              		.loc 1 766 3 is_stmt 1 view .LVU383
 767:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1445              		.loc 1 767 1 is_stmt 0 view .LVU384
 1446 0008 0020     		movs	r0, #0
 1447 000a 08BD     		pop	{r3, pc}
 1448              	.L108:
 1449              		.align	2
 1450              	.L107:
 1451 000c 00000000 		.word	hAudioInI2s
 1452              		.cfi_endproc
 1453              	.LFE257:
 1455              		.section	.text.BSP_AUDIO_IN_Resume,"ax",%progbits
 1456              		.align	1
 1457              		.p2align 2,,3
 1458              		.global	BSP_AUDIO_IN_Resume
 1459              		.syntax unified
 1460              		.thumb
 1461              		.thumb_func
 1463              	BSP_AUDIO_IN_Resume:
 1464              	.LFB258:
 768:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 769:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 770:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Resumes the audio file stream.    
 771:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 772:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 44


 773:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Resume(void)
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 1465              		.loc 1 774 1 is_stmt 1 view -0
 1466              		.cfi_startproc
 1467              		@ args = 0, pretend = 0, frame = 0
 1468              		@ frame_needed = 0, uses_anonymous_args = 0
 775:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 776:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAResume(&hAudioInI2s);
 1469              		.loc 1 776 3 view .LVU386
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 1470              		.loc 1 774 1 is_stmt 0 view .LVU387
 1471 0000 08B5     		push	{r3, lr}
 1472              		.cfi_def_cfa_offset 8
 1473              		.cfi_offset 3, -8
 1474              		.cfi_offset 14, -4
 1475              		.loc 1 776 3 view .LVU388
 1476 0002 0248     		ldr	r0, .L111
 1477 0004 FFF7FEFF 		bl	HAL_I2S_DMAResume
 1478              	.LVL91:
 777:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 778:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 779:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1479              		.loc 1 779 3 is_stmt 1 view .LVU389
 780:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1480              		.loc 1 780 1 is_stmt 0 view .LVU390
 1481 0008 0020     		movs	r0, #0
 1482 000a 08BD     		pop	{r3, pc}
 1483              	.L112:
 1484              		.align	2
 1485              	.L111:
 1486 000c 00000000 		.word	hAudioInI2s
 1487              		.cfi_endproc
 1488              	.LFE258:
 1490              		.section	.text.BSP_AUDIO_IN_SetVolume,"ax",%progbits
 1491              		.align	1
 1492              		.p2align 2,,3
 1493              		.global	BSP_AUDIO_IN_SetVolume
 1494              		.syntax unified
 1495              		.thumb
 1496              		.thumb_func
 1498              	BSP_AUDIO_IN_SetVolume:
 1499              	.LVL92:
 1500              	.LFB259:
 781:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 782:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 783:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the audio in volume level. 
 784:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 785:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 786:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 787:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 788:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_SetVolume(uint8_t Volume)
 789:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1501              		.loc 1 789 1 is_stmt 1 view -0
 1502              		.cfi_startproc
 1503              		@ args = 0, pretend = 0, frame = 0
 1504              		@ frame_needed = 0, uses_anonymous_args = 0
 1505              		@ link register save eliminated.
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 45


 790:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Set the Global variable AudioInVolume */
 791:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   AudioInVolume = Volume; 
 1506              		.loc 1 791 3 view .LVU392
 1507              		.loc 1 791 17 is_stmt 0 view .LVU393
 1508 0000 014B     		ldr	r3, .L114
 1509 0002 1880     		strh	r0, [r3]	@ movhi
 792:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 793:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 794:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1510              		.loc 1 794 3 is_stmt 1 view .LVU394
 795:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1511              		.loc 1 795 1 is_stmt 0 view .LVU395
 1512 0004 0020     		movs	r0, #0
 1513              	.LVL93:
 1514              		.loc 1 795 1 view .LVU396
 1515 0006 7047     		bx	lr
 1516              	.L115:
 1517              		.align	2
 1518              	.L114:
 1519 0008 00000000 		.word	AudioInVolume
 1520              		.cfi_endproc
 1521              	.LFE259:
 1523              		.section	.text.BSP_AUDIO_IN_PDMToPCM,"ax",%progbits
 1524              		.align	1
 1525              		.p2align 2,,3
 1526              		.global	BSP_AUDIO_IN_PDMToPCM
 1527              		.syntax unified
 1528              		.thumb
 1529              		.thumb_func
 1531              	BSP_AUDIO_IN_PDMToPCM:
 1532              	.LVL94:
 1533              	.LFB260:
 796:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 797:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 798:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Converts audio format from PDM to PCM.
 799:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PDMBuf: Pointer to data PDM buffer
 800:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PCMBuf: Pointer to data PCM buffer
 801:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 802:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 803:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_PDMToPCM(uint16_t *PDMBuf, uint16_t *PCMBuf)
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1534              		.loc 1 804 1 is_stmt 1 view -0
 1535              		.cfi_startproc
 1536              		@ args = 0, pretend = 0, frame = 128
 1537              		@ frame_needed = 0, uses_anonymous_args = 0
 805:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1538              		.loc 1 805 3 view .LVU398
 806:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0; 
 1539              		.loc 1 806 3 view .LVU399
 807:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 808:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PDM Demux */
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index<INTERNAL_BUFF_SIZE/2; index++)
 1540              		.loc 1 809 3 view .LVU400
 1541              		.loc 1 809 23 discriminator 1 view .LVU401
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1542              		.loc 1 804 1 is_stmt 0 view .LVU402
 1543 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 46


 1544              		.cfi_def_cfa_offset 8
 1545              		.cfi_offset 4, -8
 1546              		.cfi_offset 14, -4
 1547 0002 A0B0     		sub	sp, sp, #128
 1548              		.cfi_def_cfa_offset 136
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1549              		.loc 1 804 1 view .LVU403
 1550 0004 0C46     		mov	r4, r1
 1551 0006 0238     		subs	r0, r0, #2
 1552              	.LVL95:
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1553              		.loc 1 804 1 view .LVU404
 1554 0008 6A46     		mov	r2, sp
 1555 000a 0DF1800C 		add	ip, sp, #128
 1556              	.LVL96:
 1557              	.L117:
 810:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     AppPDM[index] = HTONS(PDMBuf[index]);
 1558              		.loc 1 811 5 is_stmt 1 view .LVU405
 1559              		.loc 1 811 21 is_stmt 0 view .LVU406
 1560 000e 30F8023F 		ldrh	r3, [r0, #2]!
 1561 0012 5BBA     		rev16	r3, r3
 1562              		.loc 1 811 19 view .LVU407
 1563 0014 22F8023B 		strh	r3, [r2], #2	@ movhi
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1564              		.loc 1 809 51 is_stmt 1 discriminator 3 view .LVU408
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1565              		.loc 1 809 23 discriminator 1 view .LVU409
 1566 0018 6245     		cmp	r2, ip
 1567 001a F8D1     		bne	.L117
 1568              	.LVL97:
 812:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 813:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < DEFAULT_AUDIO_IN_CHANNEL_NBR; index++)
 1569              		.loc 1 814 24 discriminator 1 view .LVU410
 815:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 816:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM to PCM filter */
 817:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 	PDM_Filter((uint8_t*)&AppPDM[index], (uint16_t*)&(PCMBuf[index]), &PDM_FilterHandler[index]);
 1570              		.loc 1 817 2 view .LVU411
 1571 001c 2146     		mov	r1, r4
 1572              	.LVL98:
 1573              		.loc 1 817 2 is_stmt 0 view .LVU412
 1574 001e 084A     		ldr	r2, .L122
 1575 0020 6846     		mov	r0, sp
 1576 0022 FFF7FEFF 		bl	PDM_Filter
 1577              	.LVL99:
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1578              		.loc 1 814 61 is_stmt 1 discriminator 3 view .LVU413
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1579              		.loc 1 814 24 discriminator 1 view .LVU414
 818:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 819:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Duplicate samples since a single microphone in mounted on STM32F4-Discovery */
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < PCM_OUT_SIZE; index++)
 1580              		.loc 1 820 24 discriminator 1 view .LVU415
 1581              		.loc 1 820 13 is_stmt 0 view .LVU416
 1582 0026 0023     		movs	r3, #0
 1583 0028 A11C     		adds	r1, r4, #2
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 47


 1584              	.LVL100:
 1585              	.L118:
 821:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PCMBuf[(index<<1)+1] = PCMBuf[index<<1];
 1586              		.loc 1 822 5 is_stmt 1 view .LVU417
 1587              		.loc 1 822 34 is_stmt 0 view .LVU418
 1588 002a 34F82320 		ldrh	r2, [r4, r3, lsl #2]
 1589              		.loc 1 822 26 view .LVU419
 1590 002e 21F82320 		strh	r2, [r1, r3, lsl #2]	@ movhi
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1591              		.loc 1 820 45 is_stmt 1 discriminator 3 view .LVU420
 1592 0032 0133     		adds	r3, r3, #1
 1593              	.LVL101:
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1594              		.loc 1 820 24 discriminator 1 view .LVU421
 1595 0034 102B     		cmp	r3, #16
 1596 0036 F8D1     		bne	.L118
 823:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 824:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 825:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 826:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK; 
 1597              		.loc 1 826 3 view .LVU422
 827:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1598              		.loc 1 827 1 is_stmt 0 view .LVU423
 1599 0038 0020     		movs	r0, #0
 1600 003a 20B0     		add	sp, sp, #128
 1601              		.cfi_def_cfa_offset 8
 1602              		@ sp needed
 1603 003c 10BD     		pop	{r4, pc}
 1604              	.LVL102:
 1605              	.L123:
 1606              		.loc 1 827 1 view .LVU424
 1607 003e 00BF     		.align	2
 1608              	.L122:
 1609 0040 00000000 		.word	PDM_FilterHandler
 1610              		.cfi_endproc
 1611              	.LFE260:
 1613              		.section	.text.BSP_AUDIO_IN_ClockConfig,"ax",%progbits
 1614              		.align	1
 1615              		.p2align 2,,3
 1616              		.weak	BSP_AUDIO_IN_ClockConfig
 1617              		.syntax unified
 1618              		.thumb
 1619              		.thumb_func
 1621              	BSP_AUDIO_IN_ClockConfig:
 1622              	.LVL103:
 1623              	.LFB263:
 828:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 829:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 830:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Transfer completed callbacks
 831:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 832:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 833:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxCpltCallback(I2S_HandleTypeDef *hi2s)
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 835:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_TransferComplete_CallBack();
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 48


 838:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 839:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 840:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Half Transfer completed callbacks.
 841:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 842:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 843:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 845:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 846:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_HalfTransfer_CallBack();
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 849:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 850:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 851:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio In Clock Config.
 852:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 853:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to record the audio stream.  
 854:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.   
 855:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_IN_Init()
 856:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application
 857:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 858:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1624              		.loc 1 859 1 is_stmt 1 view -0
 1625              		.cfi_startproc
 1626              		@ args = 0, pretend = 0, frame = 16
 1627              		@ frame_needed = 0, uses_anonymous_args = 0
 860:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1628              		.loc 1 860 3 view .LVU426
 861:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 862:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*Enable PLLI2S clock*/
 863:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 1629              		.loc 1 863 3 view .LVU427
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1630              		.loc 1 859 1 is_stmt 0 view .LVU428
 1631 0000 10B5     		push	{r4, lr}
 1632              		.cfi_def_cfa_offset 8
 1633              		.cfi_offset 4, -8
 1634              		.cfi_offset 14, -4
 1635 0002 84B0     		sub	sp, sp, #16
 1636              		.cfi_def_cfa_offset 24
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1637              		.loc 1 859 1 view .LVU429
 1638 0004 0C46     		mov	r4, r1
 1639              		.loc 1 863 3 view .LVU430
 1640 0006 6846     		mov	r0, sp
 1641              	.LVL104:
 1642              		.loc 1 863 3 view .LVU431
 1643 0008 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 1644              	.LVL105:
 864:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 865:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((AudioFreq & 0x7) == 0)
 1645              		.loc 1 865 3 is_stmt 1 view .LVU432
 1646              		.loc 1 865 6 is_stmt 0 view .LVU433
 1647 000c 6307     		lsls	r3, r4, #29
 866:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 867:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Audio frequency multiple of 8 (8/16/32/48/96/192)*/
 868:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 192 Mhz */
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 49


 869:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 192/6 = 32 Mhz */
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 1648              		.loc 1 870 5 is_stmt 1 view .LVU434
 871:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 1649              		.loc 1 871 5 view .LVU435
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 1650              		.loc 1 870 37 is_stmt 0 view .LVU436
 1651 000e 0BBF     		itete	eq
 1652 0010 9FED077B 		vldreq.64	d7, .L128	@ int
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
 873:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 874:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 875:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 876:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 877:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Other Frequency (11.025/22.500/44.100) */
 878:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 290 Mhz */
 879:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 290/2 = 145 Mhz */
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 1653              		.loc 1 880 37 view .LVU437
 1654 0014 9FED087B 		vldrne.64	d7, .L128+8	@ int
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
 1655              		.loc 1 872 31 view .LVU438
 1656 0018 0623     		moveq	r3, #6
 1657              		.loc 1 880 5 is_stmt 1 view .LVU439
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1658              		.loc 1 881 5 view .LVU440
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1659              		.loc 1 882 31 is_stmt 0 view .LVU441
 1660 001a 0223     		movne	r3, #2
 883:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1661              		.loc 1 883 5 view .LVU442
 1662 001c 6846     		mov	r0, sp
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1663              		.loc 1 880 37 view .LVU443
 1664 001e 8DED007B 		vstr.64	d7, [sp]	@ int
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1665              		.loc 1 882 5 is_stmt 1 view .LVU444
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1666              		.loc 1 882 31 is_stmt 0 view .LVU445
 1667 0022 0293     		str	r3, [sp, #8]
 1668              		.loc 1 883 5 is_stmt 1 view .LVU446
 1669 0024 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1670              	.LVL106:
 884:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 885:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1671              		.loc 1 885 1 is_stmt 0 view .LVU447
 1672 0028 04B0     		add	sp, sp, #16
 1673              		.cfi_def_cfa_offset 8
 1674              		@ sp needed
 1675 002a 10BD     		pop	{r4, pc}
 1676              	.LVL107:
 1677              	.L129:
 1678              		.loc 1 885 1 view .LVU448
 1679 002c AFF30080 		.align	3
 1680              	.L128:
 1681 0030 01000000 		.word	1
 1682 0034 C0000000 		.word	192
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 50


 1683 0038 01000000 		.word	1
 1684 003c 22010000 		.word	290
 1685              		.cfi_endproc
 1686              	.LFE263:
 1688              		.section	.text.BSP_AUDIO_IN_MspInit,"ax",%progbits
 1689              		.align	1
 1690              		.p2align 2,,3
 1691              		.weak	BSP_AUDIO_IN_MspInit
 1692              		.syntax unified
 1693              		.thumb
 1694              		.thumb_func
 1696              	BSP_AUDIO_IN_MspInit:
 1697              	.LVL108:
 1698              	.LFB264:
 886:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 887:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 888:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  BSP AUDIO IN MSP Init.
 889:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 890:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 891:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 892:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1699              		.loc 1 893 1 is_stmt 1 view -0
 1700              		.cfi_startproc
 1701              		@ args = 0, pretend = 0, frame = 40
 1702              		@ frame_needed = 0, uses_anonymous_args = 0
 894:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1703              		.loc 1 894 3 view .LVU450
 895:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1704              		.loc 1 895 3 view .LVU451
 896:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 897:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S2 peripheral clock */
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_ENABLE();
 1705              		.loc 1 898 3 view .LVU452
 1706              	.LBB23:
 1707              		.loc 1 898 3 view .LVU453
 1708              	.LBE23:
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1709              		.loc 1 893 1 is_stmt 0 view .LVU454
 1710 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1711              		.cfi_def_cfa_offset 20
 1712              		.cfi_offset 4, -20
 1713              		.cfi_offset 5, -16
 1714              		.cfi_offset 6, -12
 1715              		.cfi_offset 7, -8
 1716              		.cfi_offset 14, -4
 1717 0002 8BB0     		sub	sp, sp, #44
 1718              		.cfi_def_cfa_offset 64
 1719              	.LBB24:
 1720              		.loc 1 898 3 view .LVU455
 1721 0004 384C     		ldr	r4, .L134
 1722 0006 0025     		movs	r5, #0
 1723 0008 0095     		str	r5, [sp]
 1724              		.loc 1 898 3 is_stmt 1 view .LVU456
 1725 000a 236C     		ldr	r3, [r4, #64]
 1726 000c 43F48043 		orr	r3, r3, #16384
 1727 0010 2364     		str	r3, [r4, #64]
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 51


 1728              		.loc 1 898 3 view .LVU457
 1729 0012 236C     		ldr	r3, [r4, #64]
 1730 0014 03F48043 		and	r3, r3, #16384
 1731 0018 0093     		str	r3, [sp]
 1732              		.loc 1 898 3 view .LVU458
 1733 001a 009B     		ldr	r3, [sp]
 1734              	.LBE24:
 1735              		.loc 1 898 3 view .LVU459
 899:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 900:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_SCK_GPIO_CLK_ENABLE();
 1736              		.loc 1 901 3 view .LVU460
 1737              	.LBB25:
 1738              		.loc 1 901 3 view .LVU461
 1739 001c 0195     		str	r5, [sp, #4]
 1740              		.loc 1 901 3 view .LVU462
 1741 001e 236B     		ldr	r3, [r4, #48]
 1742 0020 43F00203 		orr	r3, r3, #2
 1743 0024 2363     		str	r3, [r4, #48]
 1744              		.loc 1 901 3 view .LVU463
 1745 0026 236B     		ldr	r3, [r4, #48]
 1746 0028 03F00203 		and	r3, r3, #2
 1747 002c 0193     		str	r3, [sp, #4]
 1748              		.loc 1 901 3 view .LVU464
 1749 002e 019B     		ldr	r3, [sp, #4]
 1750              	.LBE25:
 1751              		.loc 1 901 3 view .LVU465
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1752              		.loc 1 902 3 view .LVU466
 1753              	.LBB26:
 1754              		.loc 1 902 3 view .LVU467
 1755 0030 0295     		str	r5, [sp, #8]
 1756              		.loc 1 902 3 view .LVU468
 1757 0032 236B     		ldr	r3, [r4, #48]
 1758 0034 43F00403 		orr	r3, r3, #4
 1759 0038 2363     		str	r3, [r4, #48]
 1760              		.loc 1 902 3 view .LVU469
 1761 003a 236B     		ldr	r3, [r4, #48]
 1762 003c 03F00403 		and	r3, r3, #4
 1763 0040 0293     		str	r3, [sp, #8]
 1764              		.loc 1 902 3 view .LVU470
 1765              	.LBE26:
 903:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 904:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 pins configuration: SCK and MOSI pins ------------------------------*/
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode      = GPIO_MODE_AF_PP;
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 908:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_SCK_PIN; 
 1766              		.loc 1 909 29 is_stmt 0 view .LVU471
 1767 0042 4FF48062 		mov	r2, #1024
 1768 0046 0223     		movs	r3, #2
 1769 0048 CDE90423 		strd	r2, [sp, #16]
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1770              		.loc 1 893 1 view .LVU472
 1771 004c 0646     		mov	r6, r0
 1772              		.loc 1 909 29 view .LVU473
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 52


 1773 004e 0022     		movs	r2, #0
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1774              		.loc 1 911 3 view .LVU474
 1775 0050 2648     		ldr	r0, .L134+4
 1776              	.LVL109:
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1777              		.loc 1 909 29 view .LVU475
 1778 0052 0223     		movs	r3, #2
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1779              		.loc 1 910 29 view .LVU476
 1780 0054 0527     		movs	r7, #5
 1781              		.loc 1 911 3 view .LVU477
 1782 0056 04A9     		add	r1, sp, #16
 1783              	.LVL110:
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1784              		.loc 1 909 29 view .LVU478
 1785 0058 CDE90623 		strd	r2, [sp, #24]
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1786              		.loc 1 910 29 view .LVU479
 1787 005c 0897     		str	r7, [sp, #32]
 1788              	.LBB27:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1789              		.loc 1 902 3 view .LVU480
 1790 005e 029B     		ldr	r3, [sp, #8]
 1791              	.LBE27:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1792              		.loc 1 902 3 is_stmt 1 view .LVU481
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 1793              		.loc 1 905 3 view .LVU482
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 1794              		.loc 1 906 3 view .LVU483
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1795              		.loc 1 907 3 view .LVU484
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1796              		.loc 1 909 3 view .LVU485
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1797              		.loc 1 910 3 view .LVU486
 1798              		.loc 1 911 3 view .LVU487
 1799 0060 FFF7FEFF 		bl	HAL_GPIO_Init
 1800              	.LVL111:
 912:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_MOSI_PIN ;
 1801              		.loc 1 913 3 view .LVU488
 1802              		.loc 1 913 29 is_stmt 0 view .LVU489
 1803 0064 0823     		movs	r3, #8
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 915:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_MOSI_GPIO_PORT, &GPIO_InitStruct); 
 1804              		.loc 1 915 3 view .LVU490
 1805 0066 04A9     		add	r1, sp, #16
 1806 0068 2148     		ldr	r0, .L134+8
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1807              		.loc 1 913 29 view .LVU491
 1808 006a 0493     		str	r3, [sp, #16]
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1809              		.loc 1 914 3 is_stmt 1 view .LVU492
 1810              		.loc 1 915 3 view .LVU493
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 53


 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1811              		.loc 1 914 29 is_stmt 0 view .LVU494
 1812 006c 0897     		str	r7, [sp, #32]
 1813              		.loc 1 915 3 view .LVU495
 1814 006e FFF7FEFF 		bl	HAL_GPIO_Init
 1815              	.LVL112:
 916:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 917:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the DMA clock */
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_DMAx_CLK_ENABLE();
 1816              		.loc 1 918 3 is_stmt 1 view .LVU496
 1817              	.LBB28:
 1818              		.loc 1 918 3 view .LVU497
 1819 0072 0395     		str	r5, [sp, #12]
 1820              		.loc 1 918 3 view .LVU498
 1821 0074 236B     		ldr	r3, [r4, #48]
 1822              	.LBE28:
 919:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 1823              		.loc 1 920 5 is_stmt 0 view .LVU499
 1824 0076 1F4A     		ldr	r2, .L134+12
 1825              	.LBB29:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1826              		.loc 1 918 3 view .LVU500
 1827 0078 43F40013 		orr	r3, r3, #2097152
 1828 007c 2363     		str	r3, [r4, #48]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1829              		.loc 1 918 3 is_stmt 1 view .LVU501
 1830 007e 236B     		ldr	r3, [r4, #48]
 1831 0080 03F40013 		and	r3, r3, #2097152
 1832 0084 0393     		str	r3, [sp, #12]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1833              		.loc 1 918 3 view .LVU502
 1834              	.LBE29:
 1835              		.loc 1 920 5 is_stmt 0 view .LVU503
 1836 0086 3368     		ldr	r3, [r6]
 1837              	.LBB30:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1838              		.loc 1 918 3 view .LVU504
 1839 0088 0399     		ldr	r1, [sp, #12]
 1840              	.LBE30:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1841              		.loc 1 918 3 is_stmt 1 view .LVU505
 1842              		.loc 1 920 3 view .LVU506
 1843              		.loc 1 920 5 is_stmt 0 view .LVU507
 1844 008a 9342     		cmp	r3, r2
 1845 008c 09D0     		beq	.L133
 1846              	.L131:
 921:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 922:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sRx handle parameters */   
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Channel             = I2S2_DMAx_CHANNEL;
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 54


 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 935:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Instance = I2S2_DMAx_STREAM;
 937:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 938:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmarx, hdma_i2sRx);
 940:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 941:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sRx);
 943:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 944:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sRx);      
 946:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 947:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 948:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 949:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S2_DMAx_IRQ, AUDIO_IN_IRQ_PREPRIO, 0);
 1847              		.loc 1 949 3 is_stmt 1 view .LVU508
 1848 008e 0022     		movs	r2, #0
 1849 0090 0F21     		movs	r1, #15
 1850 0092 0E20     		movs	r0, #14
 1851 0094 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1852              	.LVL113:
 950:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S2_DMAx_IRQ); 
 1853              		.loc 1 950 3 view .LVU509
 1854 0098 0E20     		movs	r0, #14
 1855 009a FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1856              	.LVL114:
 951:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1857              		.loc 1 951 1 is_stmt 0 view .LVU510
 1858 009e 0BB0     		add	sp, sp, #44
 1859              		.cfi_remember_state
 1860              		.cfi_def_cfa_offset 20
 1861              		@ sp needed
 1862 00a0 F0BD     		pop	{r4, r5, r6, r7, pc}
 1863              	.LVL115:
 1864              	.L133:
 1865              		.cfi_restore_state
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1866              		.loc 1 923 5 is_stmt 1 view .LVU511
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 1867              		.loc 1 924 5 view .LVU512
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 1868              		.loc 1 925 5 view .LVU513
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 1869              		.loc 1 926 5 view .LVU514
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 1870              		.loc 1 927 5 view .LVU515
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 1871              		.loc 1 928 5 view .LVU516
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 1872              		.loc 1 929 5 view .LVU517
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 1873              		.loc 1 930 5 view .LVU518
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 55


 1874              		.loc 1 931 5 view .LVU519
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1875              		.loc 1 932 5 view .LVU520
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 1876              		.loc 1 933 5 view .LVU521
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1877              		.loc 1 934 5 view .LVU522
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1878              		.loc 1 923 41 is_stmt 0 view .LVU523
 1879 00a2 154C     		ldr	r4, .L134+16
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1880              		.loc 1 936 25 view .LVU524
 1881 00a4 154B     		ldr	r3, .L134+20
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1882              		.loc 1 939 5 view .LVU525
 1883 00a6 F463     		str	r4, [r6, #60]
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1884              		.loc 1 923 41 view .LVU526
 1885 00a8 4FF48062 		mov	r2, #1024
 1886 00ac C4E90352 		strd	r5, r2, [r4, #12]
 1887 00b0 4FF40061 		mov	r1, #2048
 1888 00b4 4FF40052 		mov	r2, #8192
 1889 00b8 C4E90512 		strd	r1, r2, [r4, #20]
 1890 00bc 4FF48070 		mov	r0, #256
 1891 00c0 4FF40032 		mov	r2, #131072
 1892 00c4 C4E90702 		strd	r0, r2, [r4, #28]
 1893 00c8 0322     		movs	r2, #3
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1894              		.loc 1 942 5 view .LVU527
 1895 00ca 2046     		mov	r0, r4
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1896              		.loc 1 923 41 view .LVU528
 1897 00cc C4E90155 		strd	r5, r5, [r4, #4]
 1898 00d0 C4E90952 		strd	r5, r2, [r4, #36]
 1899 00d4 C4E90B55 		strd	r5, r5, [r4, #44]
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1900              		.loc 1 936 5 is_stmt 1 view .LVU529
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1901              		.loc 1 936 25 is_stmt 0 view .LVU530
 1902 00d8 2360     		str	r3, [r4]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1903              		.loc 1 939 5 is_stmt 1 view .LVU531
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1904              		.loc 1 939 5 view .LVU532
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1905              		.loc 1 939 5 view .LVU533
 1906 00da A663     		str	r6, [r4, #56]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1907              		.loc 1 939 5 view .LVU534
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1908              		.loc 1 942 5 view .LVU535
 1909 00dc FFF7FEFF 		bl	HAL_DMA_DeInit
 1910              	.LVL116:
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1911              		.loc 1 945 5 view .LVU536
 1912 00e0 2046     		mov	r0, r4
 1913 00e2 FFF7FEFF 		bl	HAL_DMA_Init
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 56


 1914              	.LVL117:
 1915 00e6 D2E7     		b	.L131
 1916              	.L135:
 1917              		.align	2
 1918              	.L134:
 1919 00e8 00380240 		.word	1073887232
 1920 00ec 00040240 		.word	1073873920
 1921 00f0 00080240 		.word	1073874944
 1922 00f4 00380040 		.word	1073756160
 1923 00f8 00000000 		.word	hdma_i2sRx.0
 1924 00fc 58600240 		.word	1073897560
 1925              		.cfi_endproc
 1926              	.LFE264:
 1928              		.section	.text.BSP_AUDIO_IN_Init,"ax",%progbits
 1929              		.align	1
 1930              		.p2align 2,,3
 1931              		.global	BSP_AUDIO_IN_Init
 1932              		.syntax unified
 1933              		.thumb
 1934              		.thumb_func
 1936              	BSP_AUDIO_IN_Init:
 1937              	.LVL118:
 1938              	.LFB254:
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1939              		.loc 1 695 1 view -0
 1940              		.cfi_startproc
 1941              		@ args = 0, pretend = 0, frame = 8
 1942              		@ frame_needed = 0, uses_anonymous_args = 0
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1943              		.loc 1 698 3 view .LVU538
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1944              		.loc 1 695 1 is_stmt 0 view .LVU539
 1945 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1946              		.cfi_def_cfa_offset 36
 1947              		.cfi_offset 4, -36
 1948              		.cfi_offset 5, -32
 1949              		.cfi_offset 6, -28
 1950              		.cfi_offset 7, -24
 1951              		.cfi_offset 8, -20
 1952              		.cfi_offset 9, -16
 1953              		.cfi_offset 10, -12
 1954              		.cfi_offset 11, -8
 1955              		.cfi_offset 14, -4
 1956 0004 0546     		mov	r5, r0
 1957 0006 83B0     		sub	sp, sp, #12
 1958              		.cfi_def_cfa_offset 48
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1959              		.loc 1 698 3 view .LVU540
 1960 0008 2946     		mov	r1, r5
 1961              	.LVL119:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1962              		.loc 1 698 3 view .LVU541
 1963 000a 3148     		ldr	r0, .L145
 1964              	.LVL120:
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1965              		.loc 1 695 1 view .LVU542
 1966 000c 1646     		mov	r6, r2
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 57


 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1967              		.loc 1 698 3 view .LVU543
 1968 000e 0022     		movs	r2, #0
 1969              	.LVL121:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1970              		.loc 1 698 3 view .LVU544
 1971 0010 FFF7FEFF 		bl	BSP_AUDIO_IN_ClockConfig
 1972              	.LVL122:
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1973              		.loc 1 703 3 is_stmt 1 view .LVU545
 1974              	.LBB37:
 1975              	.LBI37:
 952:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 953:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 954:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  DeInitializes BSP_AUDIO_IN MSP.
 955:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 956:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 957:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 958:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 961:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 962:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S2_DMAx_IRQ); 
 964:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 966:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 967:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmarx);
 969:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 970:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 971:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 973:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 974:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable pins: SCK and SD pins */
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_SCK_PIN;
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 979:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 980:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_DISABLE();
 982:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 983:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 984:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */ 
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 986:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 987:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 988:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  User callback when record buffer is filled.
 989:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 990:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_TransferComplete_CallBack(void)
 991:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 992:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
 993:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
 994:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
 995:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 996:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 58


 997:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 998:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 999:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1000:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_HalfTransfer_CallBack(void)
1001:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1002:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
1003:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
1004:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
1005:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1006:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1007:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1008:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio IN Error callback function.
1009:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1010:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_Error_Callback(void)
1011:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {   
1012:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
1013:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      error occurs. */
1014:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1015:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1016:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
1017:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
1018:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
1019:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1020:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1021:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the PDM library.
1022:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio sampling frequency
1023:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrIn: Number of input audio channels in the PDM buffer
1024:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrOut: Number of desired output audio channels in the  resulting PCM buffer
1025:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Number of audio channels (1: mono; 2: stereo)
1026:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1027:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut)
 1976              		.loc 1 1027 13 view .LVU546
 1977              	.LBB38:
1028:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1029:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0;
 1978              		.loc 1 1029 3 view .LVU547
1030:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1031:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable CRC peripheral to unlock the PDM library */
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_RCC_CRC_CLK_ENABLE();
 1979              		.loc 1 1032 3 view .LVU548
 1980              	.LBB39:
 1981              		.loc 1 1032 3 view .LVU549
 1982 0014 2F4A     		ldr	r2, .L145+4
 1983 0016 0023     		movs	r3, #0
 1984 0018 0193     		str	r3, [sp, #4]
 1985              		.loc 1 1032 3 view .LVU550
 1986 001a 116B     		ldr	r1, [r2, #48]
 1987 001c 41F48051 		orr	r1, r1, #4096
 1988 0020 1163     		str	r1, [r2, #48]
 1989              		.loc 1 1032 3 view .LVU551
 1990 0022 126B     		ldr	r2, [r2, #48]
 1991 0024 02F48052 		and	r2, r2, #4096
 1992 0028 0192     		str	r2, [sp, #4]
 1993              		.loc 1 1032 3 view .LVU552
 1994 002a 019A     		ldr	r2, [sp, #4]
 1995              	.LBE39:
 1996              		.loc 1 1032 3 view .LVU553
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 59


1033:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < ChnlNbrIn; index++)
 1997              		.loc 1 1034 3 view .LVU554
 1998              		.loc 1 1034 24 discriminator 1 view .LVU555
 1999 002c 56B3     		cbz	r6, .L141
1035:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1036:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init PDM filters */
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].bit_order  = PDM_FILTER_BIT_ORDER_LSB;
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
1043:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1044:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM lib config phase */
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].output_samples_number = AudioFreq/1000;
 2000              		.loc 1 1045 62 is_stmt 0 view .LVU556
 2001 002e 2A4F     		ldr	r7, .L145+8
 2002 0030 2A4C     		ldr	r4, .L145+12
 2003 0032 DFF8B490 		ldr	r9, .L145+24
 2004 0036 A7FB0527 		umull	r2, r7, r7, r5
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2005              		.loc 1 1034 13 view .LVU557
 2006 003a 9A46     		mov	r10, r3
 2007              		.loc 1 1045 51 view .LVU558
 2008 003c C7F38F17 		ubfx	r7, r7, #6, #16
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2009              		.loc 1 1041 47 view .LVU559
 2010 0040 1FFA86FB 		uxth	fp, r6
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 2011              		.loc 1 1040 47 view .LVU560
 2012 0044 4FF00208 		mov	r8, #2
 2013              	.LVL123:
 2014              	.L140:
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 2015              		.loc 1 1037 5 is_stmt 1 view .LVU561
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
 2016              		.loc 1 1038 5 view .LVU562
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 2017              		.loc 1 1039 44 is_stmt 0 view .LVU563
 2018 0048 254B     		ldr	r3, .L145+16
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 2019              		.loc 1 1040 47 view .LVU564
 2020 004a A4F80A80 		strh	r8, [r4, #10]	@ movhi
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 2021              		.loc 1 1039 44 view .LVU565
 2022 004e 0022     		movs	r2, #0
 2023 0050 C4E90023 		strd	r2, r3, [r4]
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 2024              		.loc 1 1040 5 is_stmt 1 view .LVU566
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2025              		.loc 1 1041 5 view .LVU567
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2026              		.loc 1 1041 47 is_stmt 0 view .LVU568
 2027 0054 A4F808B0 		strh	fp, [r4, #8]	@ movhi
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2028              		.loc 1 1042 5 is_stmt 1 view .LVU569
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 60


 2029 0058 2046     		mov	r0, r4
 2030 005a FFF7FEFF 		bl	PDM_Filter_Init
 2031              	.LVL124:
 2032              		.loc 1 1045 5 view .LVU570
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 2033              		.loc 1 1046 38 is_stmt 0 view .LVU571
 2034 005e 1822     		movs	r2, #24
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 2035              		.loc 1 1045 51 view .LVU572
 2036 0060 A9F80270 		strh	r7, [r9, #2]	@ movhi
 2037              		.loc 1 1046 5 is_stmt 1 view .LVU573
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 2038              		.loc 1 1047 47 is_stmt 0 view .LVU574
 2039 0064 A9F80080 		strh	r8, [r9]	@ movhi
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 2040              		.loc 1 1046 38 view .LVU575
 2041 0068 A9F80420 		strh	r2, [r9, #4]	@ movhi
 2042              		.loc 1 1047 5 is_stmt 1 view .LVU576
1048:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_setConfig((PDM_Filter_Handler_t *)&PDM_FilterHandler[index], &PDM_FilterConfig[index
 2043              		.loc 1 1048 5 view .LVU577
 2044 006c 4946     		mov	r1, r9
 2045 006e 2046     		mov	r0, r4
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2046              		.loc 1 1034 42 is_stmt 0 discriminator 3 view .LVU578
 2047 0070 0AF1010A 		add	r10, r10, #1
 2048              	.LVL125:
 2049              		.loc 1 1048 5 view .LVU579
 2050 0074 FFF7FEFF 		bl	PDM_Filter_setConfig
 2051              	.LVL126:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2052              		.loc 1 1034 42 is_stmt 1 discriminator 3 view .LVU580
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2053              		.loc 1 1034 24 discriminator 1 view .LVU581
 2054 0078 5645     		cmp	r6, r10
 2055 007a 04F14C04 		add	r4, r4, #76
 2056 007e 09F10609 		add	r9, r9, #6
 2057 0082 E1D1     		bne	.L140
 2058              	.LVL127:
 2059              	.L141:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2060              		.loc 1 1034 24 is_stmt 0 discriminator 1 view .LVU582
 2061              	.LBE38:
 2062              	.LBE37:
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2063              		.loc 1 706 3 is_stmt 1 view .LVU583
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2064              		.loc 1 706 24 is_stmt 0 view .LVU584
 2065 0084 124C     		ldr	r4, .L145
 2066 0086 174B     		ldr	r3, .L145+20
 2067 0088 2360     		str	r3, [r4]
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2068              		.loc 1 707 3 is_stmt 1 view .LVU585
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2069              		.loc 1 707 6 is_stmt 0 view .LVU586
 2070 008a 2046     		mov	r0, r4
 2071 008c FFF7FEFF 		bl	HAL_I2S_GetState
 2072              	.LVL128:
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 61


 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2073              		.loc 1 707 5 discriminator 1 view .LVU587
 2074 0090 C8B1     		cbz	r0, .L144
 2075              	.L139:
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2076              		.loc 1 714 3 is_stmt 1 view .LVU588
 2077              	.LVL129:
 2078              	.LBB40:
 2079              	.LBI40:
1049:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1050:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1051:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1052:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1053:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S)
1054:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function assumes that the I2S input clock (through PLL_R in 
1055:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Devices RevA/Z and through dedicated PLLI2S_R in Devices RevB/Y)
1056:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         is already configured and ready to be used.    
1057:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
1058:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1059:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq)
 2080              		.loc 1 1059 16 view .LVU589
 2081              	.LBB41:
1060:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1061:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioInI2s Instance parameter */
1062:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance          = I2S2;
 2082              		.loc 1 1062 3 view .LVU590
 2083              		.loc 1 1062 33 is_stmt 0 view .LVU591
 2084 0092 144B     		ldr	r3, .L145+20
 2085 0094 2360     		str	r3, [r4]
1063:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1064:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S block */
1065:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioInI2s);
 2086              		.loc 1 1065 3 is_stmt 1 view .LVU592
 2087 0096 DA69     		ldr	r2, [r3, #28]
1066:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1067:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 peripheral configuration */
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.AudioFreq    = 2 * AudioFreq;
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
1071:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
1072:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.MCLKOutput   = I2S_MCLKOUTPUT_DISABLE;
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Mode         = I2S_MODE_MASTER_RX;
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
1075:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1076:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
1077:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioInI2s) != HAL_OK)
 2088              		.loc 1 1077 6 is_stmt 0 view .LVU593
 2089 0098 0D48     		ldr	r0, .L145
1065:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2090              		.loc 1 1065 3 view .LVU594
 2091 009a 22F48062 		bic	r2, r2, #1024
 2092 009e DA61     		str	r2, [r3, #28]
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2093              		.loc 1 1068 3 is_stmt 1 view .LVU595
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
 2094              		.loc 1 1069 33 is_stmt 0 view .LVU596
 2095 00a0 0026     		movs	r6, #0
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 62


 2096              	.LVL130:
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
 2097              		.loc 1 1070 33 view .LVU597
 2098 00a2 0823     		movs	r3, #8
 2099 00a4 C4E90636 		strd	r3, r6, [r4, #24]
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 2100              		.loc 1 1073 33 view .LVU598
 2101 00a8 4FF44072 		mov	r2, #768
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2102              		.loc 1 1074 33 view .LVU599
 2103 00ac 2023     		movs	r3, #32
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2104              		.loc 1 1068 37 view .LVU600
 2105 00ae 6D00     		lsls	r5, r5, #1
 2106              	.LVL131:
1072:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Mode         = I2S_MODE_MASTER_RX;
 2107              		.loc 1 1072 33 view .LVU601
 2108 00b0 C4E90366 		strd	r6, r6, [r4, #12]
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2109              		.loc 1 1074 33 view .LVU602
 2110 00b4 C4E90123 		strd	r2, r3, [r4, #4]
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2111              		.loc 1 1068 33 view .LVU603
 2112 00b8 6561     		str	r5, [r4, #20]
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
 2113              		.loc 1 1069 3 is_stmt 1 view .LVU604
1071:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.MCLKOutput   = I2S_MCLKOUTPUT_DISABLE;
 2114              		.loc 1 1071 3 view .LVU605
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 2115              		.loc 1 1073 3 view .LVU606
 2116              		.loc 1 1077 3 view .LVU607
 2117              		.loc 1 1077 6 is_stmt 0 view .LVU608
 2118 00ba FFF7FEFF 		bl	HAL_I2S_Init
 2119              	.LVL132:
1078:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1079:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
1080:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1081:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
1082:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1083:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK; 
 2120              		.loc 1 1083 5 is_stmt 1 view .LVU609
 2121              		.loc 1 1083 5 is_stmt 0 view .LVU610
 2122              	.LBE41:
 2123              	.LBE40:
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2124              		.loc 1 717 3 is_stmt 1 view .LVU611
 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2125              		.loc 1 718 1 is_stmt 0 view .LVU612
 2126 00be 3046     		mov	r0, r6
 2127 00c0 03B0     		add	sp, sp, #12
 2128              		.cfi_remember_state
 2129              		.cfi_def_cfa_offset 36
 2130              		@ sp needed
 2131 00c2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2132              	.LVL133:
 2133              	.L144:
 2134              		.cfi_restore_state
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 63


 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2135              		.loc 1 710 5 is_stmt 1 view .LVU613
 2136 00c6 0146     		mov	r1, r0
 2137 00c8 2046     		mov	r0, r4
 2138 00ca FFF7FEFF 		bl	BSP_AUDIO_IN_MspInit
 2139              	.LVL134:
 2140 00ce E0E7     		b	.L139
 2141              	.L146:
 2142              		.align	2
 2143              	.L145:
 2144 00d0 00000000 		.word	hAudioInI2s
 2145 00d4 00380240 		.word	1073887232
 2146 00d8 D34D6210 		.word	274877907
 2147 00dc 00000000 		.word	PDM_FilterHandler
 2148 00e0 489D807E 		.word	2122358088
 2149 00e4 00380040 		.word	1073756160
 2150 00e8 00000000 		.word	PDM_FilterConfig
 2151              		.cfi_endproc
 2152              	.LFE254:
 2154              		.section	.text.BSP_AUDIO_IN_MspDeInit,"ax",%progbits
 2155              		.align	1
 2156              		.p2align 2,,3
 2157              		.weak	BSP_AUDIO_IN_MspDeInit
 2158              		.syntax unified
 2159              		.thumb
 2160              		.thumb_func
 2162              	BSP_AUDIO_IN_MspDeInit:
 2163              	.LVL135:
 2164              	.LFB265:
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2165              		.loc 1 959 1 view -0
 2166              		.cfi_startproc
 2167              		@ args = 0, pretend = 0, frame = 0
 2168              		@ frame_needed = 0, uses_anonymous_args = 0
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2169              		.loc 1 960 3 view .LVU615
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2170              		.loc 1 963 3 view .LVU616
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2171              		.loc 1 959 1 is_stmt 0 view .LVU617
 2172 0000 10B5     		push	{r4, lr}
 2173              		.cfi_def_cfa_offset 8
 2174              		.cfi_offset 4, -8
 2175              		.cfi_offset 14, -4
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2176              		.loc 1 959 1 view .LVU618
 2177 0002 0446     		mov	r4, r0
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2178              		.loc 1 963 3 view .LVU619
 2179 0004 0E20     		movs	r0, #14
 2180              	.LVL136:
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2181              		.loc 1 963 3 view .LVU620
 2182 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 2183              	.LVL137:
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2184              		.loc 1 965 3 is_stmt 1 view .LVU621
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 64


 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2185              		.loc 1 965 5 is_stmt 0 view .LVU622
 2186 000a 0E4A     		ldr	r2, .L151
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2187              		.loc 1 965 10 view .LVU623
 2188 000c 2368     		ldr	r3, [r4]
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2189              		.loc 1 965 5 view .LVU624
 2190 000e 9342     		cmp	r3, r2
 2191 0010 12D0     		beq	.L150
 2192              	.L148:
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2193              		.loc 1 972 3 is_stmt 1 view .LVU625
 2194 0012 DA69     		ldr	r2, [r3, #28]
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 2195              		.loc 1 976 3 is_stmt 0 view .LVU626
 2196 0014 0C48     		ldr	r0, .L151+4
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2197              		.loc 1 972 3 view .LVU627
 2198 0016 22F48062 		bic	r2, r2, #1024
 2199 001a DA61     		str	r2, [r3, #28]
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 2200              		.loc 1 975 3 is_stmt 1 view .LVU628
 2201              	.LVL138:
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 2202              		.loc 1 976 3 view .LVU629
 2203 001c 4FF48061 		mov	r1, #1024
 2204 0020 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2205              	.LVL139:
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 2206              		.loc 1 977 3 view .LVU630
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2207              		.loc 1 978 3 view .LVU631
 2208 0024 0948     		ldr	r0, .L151+8
 2209 0026 0821     		movs	r1, #8
 2210 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2211              	.LVL140:
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2212              		.loc 1 981 3 view .LVU632
 2213 002c 084A     		ldr	r2, .L151+12
 2214 002e 136C     		ldr	r3, [r2, #64]
 2215 0030 23F48043 		bic	r3, r3, #16384
 2216 0034 1364     		str	r3, [r2, #64]
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2217              		.loc 1 985 1 is_stmt 0 view .LVU633
 2218 0036 10BD     		pop	{r4, pc}
 2219              	.LVL141:
 2220              	.L150:
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2221              		.loc 1 968 5 is_stmt 1 view .LVU634
 2222 0038 E06B     		ldr	r0, [r4, #60]
 2223 003a FFF7FEFF 		bl	HAL_DMA_DeInit
 2224              	.LVL142:
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2225              		.loc 1 972 3 is_stmt 0 view .LVU635
 2226 003e 2368     		ldr	r3, [r4]
 2227 0040 E7E7     		b	.L148
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 65


 2228              	.L152:
 2229 0042 00BF     		.align	2
 2230              	.L151:
 2231 0044 00380040 		.word	1073756160
 2232 0048 00040240 		.word	1073873920
 2233 004c 00080240 		.word	1073874944
 2234 0050 00380240 		.word	1073887232
 2235              		.cfi_endproc
 2236              	.LFE265:
 2238              		.section	.text.BSP_AUDIO_IN_TransferComplete_CallBack,"ax",%progbits
 2239              		.align	1
 2240              		.p2align 2,,3
 2241              		.weak	BSP_AUDIO_IN_TransferComplete_CallBack
 2242              		.syntax unified
 2243              		.thumb
 2244              		.thumb_func
 2246              	BSP_AUDIO_IN_TransferComplete_CallBack:
 2247              	.LFB277:
 2248              		.cfi_startproc
 990:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 2249              		.loc 1 990 13 is_stmt 1 view -0
 2250              		@ args = 0, pretend = 0, frame = 0
 2251              		@ frame_needed = 0, uses_anonymous_args = 0
 2252              		@ link register save eliminated.
 2253 0000 7047     		bx	lr
 2254              		.cfi_endproc
 2255              	.LFE277:
 2257 0002 00BF     		.section	.text.HAL_I2S_RxCpltCallback,"ax",%progbits
 2258              		.align	1
 2259              		.p2align 2,,3
 2260              		.global	HAL_I2S_RxCpltCallback
 2261              		.syntax unified
 2262              		.thumb
 2263              		.thumb_func
 2265              	HAL_I2S_RxCpltCallback:
 2266              	.LVL143:
 2267              	.LFB261:
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2268              		.loc 1 834 1 view -0
 2269              		.cfi_startproc
 2270              		@ args = 0, pretend = 0, frame = 0
 2271              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2272              		.loc 1 836 3 view .LVU638
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2273              		.loc 1 834 1 is_stmt 0 view .LVU639
 2274 0000 08B5     		push	{r3, lr}
 2275              		.cfi_def_cfa_offset 8
 2276              		.cfi_offset 3, -8
 2277              		.cfi_offset 14, -4
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2278              		.loc 1 836 3 view .LVU640
 2279 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_TransferComplete_CallBack
 2280              	.LVL144:
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2281              		.loc 1 837 1 view .LVU641
 2282 0006 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 66


 2283              		.cfi_endproc
 2284              	.LFE261:
 2286              		.section	.text.BSP_AUDIO_IN_HalfTransfer_CallBack,"ax",%progbits
 2287              		.align	1
 2288              		.p2align 2,,3
 2289              		.weak	BSP_AUDIO_IN_HalfTransfer_CallBack
 2290              		.syntax unified
 2291              		.thumb
 2292              		.thumb_func
 2294              	BSP_AUDIO_IN_HalfTransfer_CallBack:
 2295              	.LFB279:
 2296              		.cfi_startproc
1000:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 2297              		.loc 1 1000 13 is_stmt 1 view -0
 2298              		@ args = 0, pretend = 0, frame = 0
 2299              		@ frame_needed = 0, uses_anonymous_args = 0
 2300              		@ link register save eliminated.
 2301 0000 7047     		bx	lr
 2302              		.cfi_endproc
 2303              	.LFE279:
 2305 0002 00BF     		.section	.text.HAL_I2S_RxHalfCpltCallback,"ax",%progbits
 2306              		.align	1
 2307              		.p2align 2,,3
 2308              		.global	HAL_I2S_RxHalfCpltCallback
 2309              		.syntax unified
 2310              		.thumb
 2311              		.thumb_func
 2313              	HAL_I2S_RxHalfCpltCallback:
 2314              	.LVL145:
 2315              	.LFB262:
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2316              		.loc 1 844 1 view -0
 2317              		.cfi_startproc
 2318              		@ args = 0, pretend = 0, frame = 0
 2319              		@ frame_needed = 0, uses_anonymous_args = 0
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2320              		.loc 1 847 3 view .LVU644
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2321              		.loc 1 844 1 is_stmt 0 view .LVU645
 2322 0000 08B5     		push	{r3, lr}
 2323              		.cfi_def_cfa_offset 8
 2324              		.cfi_offset 3, -8
 2325              		.cfi_offset 14, -4
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2326              		.loc 1 847 3 view .LVU646
 2327 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_HalfTransfer_CallBack
 2328              	.LVL146:
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2329              		.loc 1 848 1 view .LVU647
 2330 0006 08BD     		pop	{r3, pc}
 2331              		.cfi_endproc
 2332              	.LFE262:
 2334              		.section	.text.BSP_AUDIO_IN_Error_Callback,"ax",%progbits
 2335              		.align	1
 2336              		.p2align 2,,3
 2337              		.weak	BSP_AUDIO_IN_Error_Callback
 2338              		.syntax unified
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 67


 2339              		.thumb
 2340              		.thumb_func
 2342              	BSP_AUDIO_IN_Error_Callback:
 2343              	.LFB281:
 2344              		.cfi_startproc
1010:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {   
 2345              		.loc 1 1010 13 is_stmt 1 view -0
 2346              		@ args = 0, pretend = 0, frame = 0
 2347              		@ frame_needed = 0, uses_anonymous_args = 0
 2348              		@ link register save eliminated.
 2349 0000 7047     		bx	lr
 2350              		.cfi_endproc
 2351              	.LFE281:
 2353 0002 00BF     		.section	.text.HAL_I2S_ErrorCallback,"ax",%progbits
 2354              		.align	1
 2355              		.p2align 2,,3
 2356              		.global	HAL_I2S_ErrorCallback
 2357              		.syntax unified
 2358              		.thumb
 2359              		.thumb_func
 2361              	HAL_I2S_ErrorCallback:
 2362              	.LVL147:
 2363              	.LFB271:
1084:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1085:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }  
1086:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1087:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1088:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
1089:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1090:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1091:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_OUT_Private_Functions STM32F4 DISCOVERY AUDIO IN OUT Priva
1092:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
1093:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
1094:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1095:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1096:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  I2S error callbacks.
1097:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
1098:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1099:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_ErrorCallback(I2S_HandleTypeDef *hi2s)
1100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 2364              		.loc 1 1100 1 view -0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 0
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
1101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the error generated on DMA FIFO: This function 
1102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
1103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 2368              		.loc 1 1103 3 view .LVU650
 2369              		.loc 1 1103 5 is_stmt 0 view .LVU651
 2370 0000 084A     		ldr	r2, .L166
 2371              		.loc 1 1103 10 view .LVU652
 2372 0002 0368     		ldr	r3, [r0]
 2373              		.loc 1 1103 5 view .LVU653
 2374 0004 9342     		cmp	r3, r2
1100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the error generated on DMA FIFO: This function 
 2375              		.loc 1 1100 1 view .LVU654
 2376 0006 10B5     		push	{r4, lr}
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 68


 2377              		.cfi_def_cfa_offset 8
 2378              		.cfi_offset 4, -8
 2379              		.cfi_offset 14, -4
 2380              		.loc 1 1103 5 view .LVU655
 2381 0008 06D0     		beq	.L164
 2382              	.LVL148:
 2383              	.L161:
1104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_Error_CallBack();
1106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 2384              		.loc 1 1107 3 is_stmt 1 view .LVU656
 2385              		.loc 1 1107 5 is_stmt 0 view .LVU657
 2386 000a 074A     		ldr	r2, .L166+4
 2387 000c 9342     		cmp	r3, r2
 2388 000e 00D0     		beq	.L165
1108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_Error_Callback();
1110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2389              		.loc 1 1111 1 view .LVU658
 2390 0010 10BD     		pop	{r4, pc}
 2391              	.L165:
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2392              		.loc 1 1109 5 is_stmt 1 view .LVU659
 2393 0012 FFF7FEFF 		bl	BSP_AUDIO_IN_Error_Callback
 2394              	.LVL149:
 2395              		.loc 1 1111 1 is_stmt 0 view .LVU660
 2396 0016 10BD     		pop	{r4, pc}
 2397              	.LVL150:
 2398              	.L164:
 2399              		.loc 1 1111 1 view .LVU661
 2400 0018 0446     		mov	r4, r0
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2401              		.loc 1 1105 5 is_stmt 1 view .LVU662
 2402 001a FFF7FEFF 		bl	BSP_AUDIO_OUT_Error_CallBack
 2403              	.LVL151:
1107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2404              		.loc 1 1107 10 is_stmt 0 view .LVU663
 2405 001e 2368     		ldr	r3, [r4]
 2406 0020 F3E7     		b	.L161
 2407              	.L167:
 2408 0022 00BF     		.align	2
 2409              	.L166:
 2410 0024 003C0040 		.word	1073757184
 2411 0028 00380040 		.word	1073756160
 2412              		.cfi_endproc
 2413              	.LFE271:
 2415              		.section	.bss.hdma_i2sRx.0,"aw",%nobits
 2416              		.align	3
 2419              	hdma_i2sRx.0:
 2420 0000 00000000 		.space	96
 2420      00000000 
 2420      00000000 
 2420      00000000 
 2420      00000000 
 2421              		.section	.bss.hdma_i2sTx.1,"aw",%nobits
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 69


 2422              		.align	3
 2425              	hdma_i2sTx.1:
 2426 0000 00000000 		.space	96
 2426      00000000 
 2426      00000000 
 2426      00000000 
 2426      00000000 
 2427              		.global	AudioInVolume
 2428              		.section	.data.AudioInVolume,"aw"
 2429              		.align	1
 2432              	AudioInVolume:
 2433 0000 4000     		.short	64
 2434              		.global	PDM_FilterConfig
 2435              		.section	.bss.PDM_FilterConfig,"aw",%nobits
 2436              		.align	2
 2439              	PDM_FilterConfig:
 2440 0000 00000000 		.space	12
 2440      00000000 
 2440      00000000 
 2441              		.global	PDM_FilterHandler
 2442              		.section	.bss.PDM_FilterHandler,"aw",%nobits
 2443              		.align	2
 2446              	PDM_FilterHandler:
 2447 0000 00000000 		.space	152
 2447      00000000 
 2447      00000000 
 2447      00000000 
 2447      00000000 
 2448              		.global	hAudioInI2s
 2449              		.section	.bss.hAudioInI2s,"aw",%nobits
 2450              		.align	2
 2453              	hAudioInI2s:
 2454 0000 00000000 		.space	72
 2454      00000000 
 2454      00000000 
 2454      00000000 
 2454      00000000 
 2455              		.global	hAudioOutI2s
 2456              		.section	.bss.hAudioOutI2s,"aw",%nobits
 2457              		.align	3
 2460              	hAudioOutI2s:
 2461 0000 00000000 		.space	72
 2461      00000000 
 2461      00000000 
 2461      00000000 
 2461      00000000 
 2462              		.section	.bss.pAudioDrv,"aw",%nobits
 2463              		.align	2
 2466              	pAudioDrv:
 2467 0000 00000000 		.space	4
 2468              		.global	I2SPLLR
 2469              		.section	.rodata.I2SPLLR,"a"
 2470              		.align	2
 2473              	I2SPLLR:
 2474 0000 05000000 		.word	5
 2475 0004 04000000 		.word	4
 2476 0008 04000000 		.word	4
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 70


 2477 000c 04000000 		.word	4
 2478 0010 04000000 		.word	4
 2479 0014 06000000 		.word	6
 2480 0018 03000000 		.word	3
 2481 001c 01000000 		.word	1
 2482              		.global	I2SPLLN
 2483              		.section	.rodata.I2SPLLN,"a"
 2484              		.align	2
 2487              	I2SPLLN:
 2488 0000 00010000 		.word	256
 2489 0004 AD010000 		.word	429
 2490 0008 D5000000 		.word	213
 2491 000c AD010000 		.word	429
 2492 0010 AA010000 		.word	426
 2493 0014 0F010000 		.word	271
 2494 0018 02010000 		.word	258
 2495 001c 58010000 		.word	344
 2496              		.global	I2SFreq
 2497              		.section	.rodata.I2SFreq,"a"
 2498              		.align	2
 2501              	I2SFreq:
 2502 0000 401F0000 		.word	8000
 2503 0004 112B0000 		.word	11025
 2504 0008 803E0000 		.word	16000
 2505 000c 22560000 		.word	22050
 2506 0010 007D0000 		.word	32000
 2507 0014 44AC0000 		.word	44100
 2508 0018 80BB0000 		.word	48000
 2509 001c 00770100 		.word	96000
 2510              		.text
 2511              	.Letext0:
 2512              		.file 2 "/Users/jr/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack
 2513              		.file 3 "/Users/jr/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack
 2514              		.file 4 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/../Common/audio.h"
 2515              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2516              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2517              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc_ex.h"
 2518              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 2519              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2520              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2s.h"
 2521              		.file 11 "Drivers/BSP/STM32F4-Discovery/../../../Middlewares/ST/STM32_Audio/Addons/PDM/Inc/pdm2pcm
 2522              		.file 12 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/cs43l22.h"
 2523              		.file 13 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.h"
 2524              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 2525              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 71


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4_discovery_audio.c
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:21     .text.BSP_AUDIO_OUT_Play:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:28     .text.BSP_AUDIO_OUT_Play:00000000 BSP_AUDIO_OUT_Play
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:90     .text.BSP_AUDIO_OUT_Play:00000034 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2466   .bss.pAudioDrv:00000000 pAudioDrv
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2460   .bss.hAudioOutI2s:00000000 hAudioOutI2s
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:96     .text.BSP_AUDIO_OUT_ChangeBuffer:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:103    .text.BSP_AUDIO_OUT_ChangeBuffer:00000000 BSP_AUDIO_OUT_ChangeBuffer
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:128    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:133    .text.BSP_AUDIO_OUT_Pause:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:140    .text.BSP_AUDIO_OUT_Pause:00000000 BSP_AUDIO_OUT_Pause
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:180    .text.BSP_AUDIO_OUT_Pause:00000020 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:186    .text.BSP_AUDIO_OUT_Resume:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:193    .text.BSP_AUDIO_OUT_Resume:00000000 BSP_AUDIO_OUT_Resume
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:233    .text.BSP_AUDIO_OUT_Resume:00000020 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:239    .text.BSP_AUDIO_OUT_Stop:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:246    .text.BSP_AUDIO_OUT_Stop:00000000 BSP_AUDIO_OUT_Stop
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:316    .text.BSP_AUDIO_OUT_Stop:0000003c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:323    .text.BSP_AUDIO_OUT_SetVolume:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:330    .text.BSP_AUDIO_OUT_SetVolume:00000000 BSP_AUDIO_OUT_SetVolume
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:363    .text.BSP_AUDIO_OUT_SetVolume:00000018 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:368    .text.BSP_AUDIO_OUT_SetMute:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:375    .text.BSP_AUDIO_OUT_SetMute:00000000 BSP_AUDIO_OUT_SetMute
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:408    .text.BSP_AUDIO_OUT_SetMute:00000018 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:413    .text.BSP_AUDIO_OUT_SetOutputMode:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:420    .text.BSP_AUDIO_OUT_SetOutputMode:00000000 BSP_AUDIO_OUT_SetOutputMode
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:453    .text.BSP_AUDIO_OUT_SetOutputMode:00000018 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:458    .text.BSP_AUDIO_OUT_ClockConfig:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:465    .text.BSP_AUDIO_OUT_ClockConfig:00000000 BSP_AUDIO_OUT_ClockConfig
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:568    .text.BSP_AUDIO_OUT_ClockConfig:00000058 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2501   .rodata.I2SFreq:00000000 I2SFreq
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2487   .rodata.I2SPLLN:00000000 I2SPLLN
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2473   .rodata.I2SPLLR:00000000 I2SPLLR
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:577    .text.BSP_AUDIO_OUT_SetFrequency:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:584    .text.BSP_AUDIO_OUT_SetFrequency:00000000 BSP_AUDIO_OUT_SetFrequency
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:664    .text.BSP_AUDIO_OUT_SetFrequency:0000003c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:672    .text.BSP_AUDIO_OUT_MspInit:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:679    .text.BSP_AUDIO_OUT_MspInit:00000000 BSP_AUDIO_OUT_MspInit
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:930    .text.BSP_AUDIO_OUT_MspInit:0000010c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2425   .bss.hdma_i2sTx.1:00000000 hdma_i2sTx.1
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:940    .text.BSP_AUDIO_OUT_Init:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:947    .text.BSP_AUDIO_OUT_Init:00000000 BSP_AUDIO_OUT_Init
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1099   .text.BSP_AUDIO_OUT_Init:0000008c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1107   .text.BSP_AUDIO_OUT_MspDeInit:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1114   .text.BSP_AUDIO_OUT_MspDeInit:00000000 BSP_AUDIO_OUT_MspDeInit
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1189   .text.BSP_AUDIO_OUT_MspDeInit:0000004c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1197   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1204   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:00000000 BSP_AUDIO_OUT_TransferComplete_CallBack
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1217   .text.HAL_I2S_TxCpltCallback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1224   .text.HAL_I2S_TxCpltCallback:00000000 HAL_I2S_TxCpltCallback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1253   .text.HAL_I2S_TxCpltCallback:00000014 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1258   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1265   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:00000000 BSP_AUDIO_OUT_HalfTransfer_CallBack
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1277   .text.HAL_I2S_TxHalfCpltCallback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1284   .text.HAL_I2S_TxHalfCpltCallback:00000000 HAL_I2S_TxHalfCpltCallback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1313   .text.HAL_I2S_TxHalfCpltCallback:00000014 $d
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 72


/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1318   .text.BSP_AUDIO_OUT_Error_CallBack:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1325   .text.BSP_AUDIO_OUT_Error_CallBack:00000000 BSP_AUDIO_OUT_Error_CallBack
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1337   .text.BSP_AUDIO_IN_Record:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1344   .text.BSP_AUDIO_IN_Record:00000000 BSP_AUDIO_IN_Record
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1378   .text.BSP_AUDIO_IN_Record:00000014 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2453   .bss.hAudioInI2s:00000000 hAudioInI2s
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1383   .text.BSP_AUDIO_IN_Stop:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1390   .text.BSP_AUDIO_IN_Stop:00000000 BSP_AUDIO_IN_Stop
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1416   .text.BSP_AUDIO_IN_Stop:0000000c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1421   .text.BSP_AUDIO_IN_Pause:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1428   .text.BSP_AUDIO_IN_Pause:00000000 BSP_AUDIO_IN_Pause
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1451   .text.BSP_AUDIO_IN_Pause:0000000c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1456   .text.BSP_AUDIO_IN_Resume:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1463   .text.BSP_AUDIO_IN_Resume:00000000 BSP_AUDIO_IN_Resume
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1486   .text.BSP_AUDIO_IN_Resume:0000000c $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1491   .text.BSP_AUDIO_IN_SetVolume:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1498   .text.BSP_AUDIO_IN_SetVolume:00000000 BSP_AUDIO_IN_SetVolume
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1519   .text.BSP_AUDIO_IN_SetVolume:00000008 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2432   .data.AudioInVolume:00000000 AudioInVolume
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1524   .text.BSP_AUDIO_IN_PDMToPCM:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1531   .text.BSP_AUDIO_IN_PDMToPCM:00000000 BSP_AUDIO_IN_PDMToPCM
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1609   .text.BSP_AUDIO_IN_PDMToPCM:00000040 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2446   .bss.PDM_FilterHandler:00000000 PDM_FilterHandler
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1614   .text.BSP_AUDIO_IN_ClockConfig:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1621   .text.BSP_AUDIO_IN_ClockConfig:00000000 BSP_AUDIO_IN_ClockConfig
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1681   .text.BSP_AUDIO_IN_ClockConfig:00000030 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1689   .text.BSP_AUDIO_IN_MspInit:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1696   .text.BSP_AUDIO_IN_MspInit:00000000 BSP_AUDIO_IN_MspInit
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1919   .text.BSP_AUDIO_IN_MspInit:000000e8 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2419   .bss.hdma_i2sRx.0:00000000 hdma_i2sRx.0
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1929   .text.BSP_AUDIO_IN_Init:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:1936   .text.BSP_AUDIO_IN_Init:00000000 BSP_AUDIO_IN_Init
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2144   .text.BSP_AUDIO_IN_Init:000000d0 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2439   .bss.PDM_FilterConfig:00000000 PDM_FilterConfig
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2155   .text.BSP_AUDIO_IN_MspDeInit:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2162   .text.BSP_AUDIO_IN_MspDeInit:00000000 BSP_AUDIO_IN_MspDeInit
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2231   .text.BSP_AUDIO_IN_MspDeInit:00000044 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2239   .text.BSP_AUDIO_IN_TransferComplete_CallBack:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2246   .text.BSP_AUDIO_IN_TransferComplete_CallBack:00000000 BSP_AUDIO_IN_TransferComplete_CallBack
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2258   .text.HAL_I2S_RxCpltCallback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2265   .text.HAL_I2S_RxCpltCallback:00000000 HAL_I2S_RxCpltCallback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2287   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2294   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:00000000 BSP_AUDIO_IN_HalfTransfer_CallBack
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2306   .text.HAL_I2S_RxHalfCpltCallback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2313   .text.HAL_I2S_RxHalfCpltCallback:00000000 HAL_I2S_RxHalfCpltCallback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2335   .text.BSP_AUDIO_IN_Error_Callback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2342   .text.BSP_AUDIO_IN_Error_Callback:00000000 BSP_AUDIO_IN_Error_Callback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2354   .text.HAL_I2S_ErrorCallback:00000000 $t
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2361   .text.HAL_I2S_ErrorCallback:00000000 HAL_I2S_ErrorCallback
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2410   .text.HAL_I2S_ErrorCallback:00000024 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2416   .bss.hdma_i2sRx.0:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2422   .bss.hdma_i2sTx.1:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2429   .data.AudioInVolume:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2436   .bss.PDM_FilterConfig:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2443   .bss.PDM_FilterHandler:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2450   .bss.hAudioInI2s:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2457   .bss.hAudioOutI2s:00000000 $d
ARM GAS  /var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s 			page 73


/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2463   .bss.pAudioDrv:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2470   .rodata.I2SPLLR:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2484   .rodata.I2SPLLN:00000000 $d
/var/folders/lp/x54gwt890xv47sdkqj1k04q40000gn/T//cc1hnmWd.s:2498   .rodata.I2SFreq:00000000 $d

UNDEFINED SYMBOLS
HAL_I2S_Transmit_DMA
HAL_I2S_DMAPause
HAL_I2S_DMAResume
HAL_I2S_DMAStop
HAL_Delay
HAL_GPIO_WritePin
HAL_RCCEx_GetPeriphCLKConfig
HAL_RCCEx_PeriphCLKConfig
HAL_I2S_Init
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_DMA_DeInit
HAL_DMA_Init
HAL_I2S_GetState
cs43l22_drv
HAL_NVIC_DisableIRQ
HAL_GPIO_DeInit
HAL_I2S_Receive_DMA
PDM_Filter
PDM_Filter_Init
PDM_Filter_setConfig
