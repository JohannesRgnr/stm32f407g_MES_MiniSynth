ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4_discovery_audio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.BSP_AUDIO_OUT_Play,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.global	BSP_AUDIO_OUT_Play
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	BSP_AUDIO_OUT_Play:
  28              	.LVL0:
  29              	.LFB131:
  30              		.file 1 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c"
   1:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
   2:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   3:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @file    stm32f4_discovery_audio.c
   4:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @author  MCD Application Team
   5:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   This file provides the Audio driver for the STM32F4-Discovery 
   6:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          board.  
   7:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
   8:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @attention
   9:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  10:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * Copyright (c) 2017 STMicroelectronics.
  11:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * All rights reserved.
  12:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  13:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * in the root directory of this software component.
  15:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *
  17:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ******************************************************************************
  18:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
  19:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  20:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*==============================================================================
  21:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                              User NOTES
  22:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 1. How To use this driver:
  23:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------------
  24:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    - This driver supports STM32F4xx devices on STM32F4-Discovery Kit:
  25:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         a) to play an audio file (all functions names start by BSP_AUDIO_OUT_xxx)
  26:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****         b) to record an audio file through MP45DT02, ST MEMS (all functions names start by AUDIO_IN
  27:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  28:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** a) PLAY A FILE:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 2


  29:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============
  30:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Init(
  31:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     OutputDevice: physical output mode (OUTPUT_DEVICE_SPEAKER, 
  32:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_AUTO or 
  33:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                                  OUTPUT_DEVICE_BOTH)
  34:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     Volume: initial volume to be set (0 is min (mute), 100 is max (
  35:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  36:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     this parameter is relative to the audio file/stream type.
  37:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                    )
  38:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (codec, I2C, I2S
  39:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
  40:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       If the returned value is different from 0 or the function is stuck then the communication wit
  41:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the codec (try to un-plug the power or reset device in this case).
  42:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_SPEAKER: only speaker will be set as output for the audio stream.
  43:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_HEADPHONE: only headphones will be set as output for the audio stream.
  44:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_AUTO: Selection of output device is made through external switch (implemented
  45:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          into the audio jack on the discovery board). When the Headphone is connected it is used
  46:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          as output. When the headphone is disconnected from the audio jack, the output is
  47:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          automatically switched to Speaker.
  48:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       - OUTPUT_DEVICE_BOTH: both Speaker and Headphone are used as outputs for the audio stream
  49:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****          at the same time.
  50:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Play(
  51:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   pBuffer: pointer to the audio data file address
  52:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                   Size: size of the buffer to be sent in Bytes
  53:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                  )
  54:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start playing (for the first time) from the audio file/stream.
  55:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Pause() to pause playing 
  56:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_OUT_Resume() to resume playing.
  57:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. After calling BSP_AUDIO_OUT_Pause() function for pause, only BSP_AUDIO_OUT_Resume() sh
  58:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****           for resume (it is not allowed to call BSP_AUDIO_OUT_Play() in this case).
  59:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        Note. This function should be called only when the audio file is played or paused (not stopp
  60:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + For each mode, you may need to implement the relative callback functions into your code.
  61:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       The Callback functions are named BSP_AUDIO_OUT_XXXCallBack() and only their prototypes are de
  62:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the stm32f4_discovery_audio.h file. (refer to the example for more details on the callbacks i
  63:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + To Stop playing, to modify the volume level, the frequency or to mute, use the functions
  64:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        BSP_AUDIO_OUT_Stop(), BSP_AUDIO_OUT_SetVolume(), AUDIO_OUT_SetFrequency() BSP_AUDIO_OUT_SetO
  65:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + The driver API and the callback functions are at the end of the stm32f4_discovery_audio.h file
  66:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    
  67:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Driver architecture:
  68:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** --------------------
  69:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide the High Audio Layer: consists of the function API exported in the stm32f4
  70:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        (BSP_AUDIO_OUT_Init(), BSP_AUDIO_OUT_Play() ...)
  71:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + This driver provide also the Media Access Layer (MAL): which consists of functions allowing to
  72:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        providing the audio file/stream. These functions are also included as local functions into
  73:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        the stm32f4_discovery_audio.c file (I2S3_Init()...)
  74:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  75:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** Known Limitations:
  76:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** -------------------
  77:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    1- When using the Speaker, if the audio file quality is not high enough, the speaker output
  78:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       may produce high and uncomfortable noise level. To avoid this issue, to use speaker
  79:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       output properly, try to increase audio file sampling rate (typically higher than 48KHz).
  80:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This operation will lead to larger file size.
  81:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    2- Communication with the audio codec (through I2C) may be corrupted if it is interrupted by som
  82:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       user interrupt routines (in this case, interrupts could be disabled just before the start of 
  83:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       communication then re-enabled when it is over). Note that this communication is only done at
  84:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       the configuration phase (BSP_AUDIO_OUT_Init() or BSP_AUDIO_OUT_Stop()) and when Volume contro
  85:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       performed (BSP_AUDIO_OUT_SetVolume() or BSP_AUDIO_OUT_SetMute()or BSP_AUDIO_OUT_SetOutputMode
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 3


  86:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       When the audio data is played, no communication is required with the audio codec.
  87:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    3- Parsing of audio file is not implemented (in order to determine audio file properties: Mono/S
  88:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       File size, Audio Frequency, Audio Data header size ...). The configuration is fixed for the g
  89:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    4- Supports only Stereo audio streaming. To play mono audio streams, each data should be sent tw
  90:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       on the I2S or should be duplicated on the source buffer. Or convert the stream in stereo befo
  91:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    5- Supports only 16-bits audio data size.
  92:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
  93:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** b) RECORD A FILE:
  94:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ================
  95:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Init(
  96:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     AudioFreq: Audio frequency in Hz (8000, 16000, 22500, 32000 ...
  97:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                                     )
  98:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       This function configures all the hardware required for the audio application (I2S, 
  99:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       GPIOs, DMA and interrupt if needed). This function returns 0 if configuration is OK.
 100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function BSP_AUDIO_IN_Record(
 102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             pbuf Main buffer pointer for the recorded data storing  
 103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             size Current size of the recorded buffer
 104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             )
 105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       to start recording from the microphone.
 106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + User needs to implement user callbacks to retrieve data saved in the record buffer
 108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       (AUDIO_IN_RxHalfCpltCallback/BSP_AUDIO_IN_ReceiveComplete_CallBack)
 109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****    + Call the function AUDIO_IN_STOP() to stop recording 
 111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 112:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** ==============================================================================*/
 113:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 114:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* Includes ------------------------------------------------------------------*/
 115:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** #include "stm32f4_discovery_audio.h"
 116:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 117:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup BSP
 118:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 119:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 120:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 121:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @addtogroup STM32F4_DISCOVERY
 122:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 123:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 124:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 125:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO STM32F4 DISCOVERY AUDIO
 126:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief This file includes the low layer audio driver available on STM32F4-Discovery
 127:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *        discovery board.
 128:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 129:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 130:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 131:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Types STM32F4 DISCOVERY AUDIO Private Types
 132:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 133:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 134:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 135:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 136:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 137:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 138:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Defines STM32F4 DISCOVERY AUDIO Private Defines
 139:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 140:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 141:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* These PLL parameters are valid when the f(VCO clock) = 1Mhz */
 142:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SFreq[8] = {8000, 11025, 16000, 22050, 32000, 44100, 48000, 96000};
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 4


 143:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLN[8] = {256, 429, 213, 429, 426, 271, 258, 344};
 144:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** const uint32_t I2SPLLR[8] = {5, 4, 4, 4, 4, 6, 3, 1};
 145:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 146:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 147:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 148:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 149:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Macros STM32F4 DISCOVERY AUDIO Private Macros
 150:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 151:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 152:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 153:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 154:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 155:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 156:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Variables STM32F4 DISCOVERY AUDIO Private Variables
 157:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 158:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 159:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*##### PLAY #####*/
 160:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static AUDIO_DrvTypeDef           *pAudioDrv;
 161:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioOutI2s;
 162:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 163:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*### RECORDER ###*/
 164:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** I2S_HandleTypeDef                 hAudioInI2s;
 165:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 166:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /* PDM filters params */
 167:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Handler_t  PDM_FilterHandler[2];
 168:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** PDM_Filter_Config_t   PDM_FilterConfig[2];
 169:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 170:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __IO uint16_t AudioInVolume = DEFAULT_AUDIO_IN_VOLUME;
 171:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 172:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 173:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 174:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 175:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_Private_Function_Prototypes STM32F4 DISCOVERY AUDIO Private F
 176:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 177:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 178:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq);
 179:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq);
 180:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut);
 181:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 182:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 183:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 184:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 185:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_OUT_Private_Functions STM32F4 DISCOVERY AUDIO OUT Private Fun
 186:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 187:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 188:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 189:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 190:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Configures the audio peripherals.
 191:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  OutputDevice: OUTPUT_DEVICE_SPEAKER, OUTPUT_DEVICE_HEADPHONE,
 192:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                       OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO .
 193:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Initial volume level (from 0 (Mute) to 100 (Max))
 194:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 195:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 196:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 197:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Init(uint16_t OutputDevice, uint8_t Volume, uint32_t AudioFreq)
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 5


 200:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 201:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
 203:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 204:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 205:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance = I2S3;
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 208:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 209:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init the I2S MSP: this __weak function can be redefined by the application*/
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_MspInit(&hAudioOutI2s, NULL);
 211:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 212:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 213:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S data transfer preparation:
 214:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   Prepare the Media to be used for the audio transfer from memory to I2S peripheral */
 215:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(I2S3_Init(AudioFreq) != AUDIO_OK)
 217:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 218:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     ret = AUDIO_ERROR;
 219:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 220:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 222:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 223:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Retieve audio codec identifier */
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(((cs43l22_drv.ReadID(AUDIO_I2C_ADDRESS)) & CS43L22_ID_MASK) == CS43L22_ID)
 225:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 226:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Initialize the audio driver structure */
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       pAudioDrv = &cs43l22_drv; 
 228:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 229:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     else
 230:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 231:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       ret = AUDIO_ERROR;
 232:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 233:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 234:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(ret == AUDIO_OK)
 236:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     pAudioDrv->Init(AUDIO_I2C_ADDRESS, OutputDevice, Volume, AudioFreq);
 238:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 239:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 242:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 243:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 244:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts playing audio stream from a data buffer for a determined size. 
 245:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pBuffer: Pointer to the buffer 
 246:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of audio data BYTES.
 247:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 248:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 249:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Play(uint16_t* pBuffer, uint32_t Size)
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
  31              		.loc 1 250 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 8
  34              		@ frame_needed = 0, uses_anonymous_args = 0
 251:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
 252:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Play(AUDIO_I2C_ADDRESS, pBuffer, Size) != 0)
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 6


  35              		.loc 1 252 3 view .LVU1
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  36              		.loc 1 250 1 is_stmt 0 view .LVU2
  37 0000 10B5     		push	{r4, lr}
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 4, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 252 15 view .LVU3
  42 0002 0E4B     		ldr	r3, .L8
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  43              		.loc 1 250 1 view .LVU4
  44 0004 82B0     		sub	sp, sp, #8
  45              		.cfi_def_cfa_offset 16
  46              		.loc 1 252 15 view .LVU5
  47 0006 1B68     		ldr	r3, [r3]
  48              		.loc 1 252 6 view .LVU6
  49 0008 0190     		str	r0, [sp, #4]
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  50              		.loc 1 250 1 view .LVU7
  51 000a 0C46     		mov	r4, r1
  52              		.loc 1 252 6 view .LVU8
  53 000c DB68     		ldr	r3, [r3, #12]
 250:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the audio Codec Play function */
  54              		.loc 1 250 1 view .LVU9
  55 000e 0146     		mov	r1, r0
  56              	.LVL1:
  57              		.loc 1 252 6 view .LVU10
  58 0010 A2B2     		uxth	r2, r4
  59 0012 9420     		movs	r0, #148
  60              	.LVL2:
  61              		.loc 1 252 6 view .LVU11
  62 0014 9847     		blx	r3
  63              	.LVL3:
  64              		.loc 1 252 5 view .LVU12
  65 0016 68B9     		cbnz	r0, .L4
 253:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 255:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 256:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 257:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 258:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Update the Media layer and enable it for play */  
 259:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_Transmit_DMA(&hAudioOutI2s, pBuffer, DMA_MAX(Size/AUDIODATA_SIZE)); 
  66              		.loc 1 259 5 is_stmt 1 view .LVU13
  67 0018 B4F5003F 		cmp	r4, #131072
  68 001c 0199     		ldr	r1, [sp, #4]
  69 001e 0848     		ldr	r0, .L8+4
  70 0020 34BF     		ite	cc
  71 0022 C4F34F02 		ubfxcc	r2, r4, #1, #16
  72 0026 4FF6FF72 		movwcs	r2, #65535
  73 002a FFF7FEFF 		bl	HAL_I2S_Transmit_DMA
  74              	.LVL4:
 260:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 261:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 262:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
  75              		.loc 1 262 5 view .LVU14
  76              		.loc 1 262 12 is_stmt 0 view .LVU15
  77 002e 0020     		movs	r0, #0
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 7


 263:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 264:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
  78              		.loc 1 264 1 view .LVU16
  79 0030 02B0     		add	sp, sp, #8
  80              		.cfi_remember_state
  81              		.cfi_def_cfa_offset 8
  82              		@ sp needed
  83 0032 10BD     		pop	{r4, pc}
  84              	.LVL5:
  85              	.L4:
  86              		.cfi_restore_state
 254:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
  87              		.loc 1 254 12 view .LVU17
  88 0034 0120     		movs	r0, #1
  89              		.loc 1 264 1 view .LVU18
  90 0036 02B0     		add	sp, sp, #8
  91              		.cfi_def_cfa_offset 8
  92              		@ sp needed
  93 0038 10BD     		pop	{r4, pc}
  94              	.LVL6:
  95              	.L9:
  96              		.loc 1 264 1 view .LVU19
  97 003a 00BF     		.align	2
  98              	.L8:
  99 003c 00000000 		.word	.LANCHOR0
 100 0040 00000000 		.word	.LANCHOR1
 101              		.cfi_endproc
 102              	.LFE131:
 104              		.section	.text.BSP_AUDIO_OUT_ChangeBuffer,"ax",%progbits
 105              		.align	1
 106              		.p2align 2,,3
 107              		.global	BSP_AUDIO_OUT_ChangeBuffer
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	BSP_AUDIO_OUT_ChangeBuffer:
 113              	.LVL7:
 114              	.LFB132:
 265:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 266:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 267:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Sends n-Bytes on the I2S interface.
 268:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pData: Pointer to data address 
 269:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Size: Number of data to be written
 270:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 271:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_ChangeBuffer(uint16_t *pData, uint16_t Size)
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 115              		.loc 1 272 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		@ link register save eliminated.
 273:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 120              		.loc 1 273 3 view .LVU21
 272:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Transmit_DMA(&hAudioOutI2s, pData, Size); 
 121              		.loc 1 272 1 is_stmt 0 view .LVU22
 122 0000 0346     		mov	r3, r0
 123 0002 0A46     		mov	r2, r1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 8


 124              		.loc 1 273 3 view .LVU23
 125 0004 0148     		ldr	r0, .L11
 126              	.LVL8:
 127              		.loc 1 273 3 view .LVU24
 128 0006 1946     		mov	r1, r3
 129              	.LVL9:
 130              		.loc 1 273 3 view .LVU25
 131 0008 FFF7FEBF 		b	HAL_I2S_Transmit_DMA
 132              	.LVL10:
 133              	.L12:
 134              		.loc 1 273 3 view .LVU26
 135              		.align	2
 136              	.L11:
 137 000c 00000000 		.word	.LANCHOR1
 138              		.cfi_endproc
 139              	.LFE132:
 141              		.section	.text.BSP_AUDIO_OUT_Pause,"ax",%progbits
 142              		.align	1
 143              		.p2align 2,,3
 144              		.global	BSP_AUDIO_OUT_Pause
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 149              	BSP_AUDIO_OUT_Pause:
 150              	.LFB133:
 274:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 275:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 276:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 277:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Pauses the audio file stream. In case of using DMA, the DMA Pause
 278:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          feature is used.
 279:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only the
 280:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 281:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 282:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 283:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 284:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Pause(void)
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 151              		.loc 1 285 1 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 0
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 286:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 287:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Pause(AUDIO_I2C_ADDRESS) != 0)
 155              		.loc 1 287 3 view .LVU28
 156              		.loc 1 287 15 is_stmt 0 view .LVU29
 157 0000 074B     		ldr	r3, .L18
 158 0002 1B68     		ldr	r3, [r3]
 285:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 159              		.loc 1 285 1 view .LVU30
 160 0004 10B5     		push	{r4, lr}
 161              		.cfi_def_cfa_offset 8
 162              		.cfi_offset 4, -8
 163              		.cfi_offset 14, -4
 164              		.loc 1 287 6 view .LVU31
 165 0006 1B69     		ldr	r3, [r3, #16]
 166 0008 9420     		movs	r0, #148
 167 000a 9847     		blx	r3
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 9


 168              	.LVL11:
 169              		.loc 1 287 5 view .LVU32
 170 000c 08B1     		cbz	r0, .L17
 288:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 289:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 171              		.loc 1 289 12 view .LVU33
 172 000e 0120     		movs	r0, #1
 290:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 291:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 292:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 293:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer pause function */
 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAPause(&hAudioOutI2s);
 295:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 296:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 298:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 299:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 173              		.loc 1 299 1 view .LVU34
 174 0010 10BD     		pop	{r4, pc}
 175              	.L17:
 176 0012 0446     		mov	r4, r0
 294:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 177              		.loc 1 294 5 is_stmt 1 view .LVU35
 178 0014 0348     		ldr	r0, .L18+4
 179 0016 FFF7FEFF 		bl	HAL_I2S_DMAPause
 180              	.LVL12:
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 181              		.loc 1 297 5 view .LVU36
 297:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 182              		.loc 1 297 12 is_stmt 0 view .LVU37
 183 001a 2046     		mov	r0, r4
 184              		.loc 1 299 1 view .LVU38
 185 001c 10BD     		pop	{r4, pc}
 186              	.L19:
 187 001e 00BF     		.align	2
 188              	.L18:
 189 0020 00000000 		.word	.LANCHOR0
 190 0024 00000000 		.word	.LANCHOR1
 191              		.cfi_endproc
 192              	.LFE133:
 194              		.section	.text.BSP_AUDIO_OUT_Resume,"ax",%progbits
 195              		.align	1
 196              		.p2align 2,,3
 197              		.global	BSP_AUDIO_OUT_Resume
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 202              	BSP_AUDIO_OUT_Resume:
 203              	.LFB134:
 300:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 301:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 302:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief   Resumes the audio file streaming.  
 303:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * WARNING: When calling BSP_AUDIO_OUT_Pause() function for pause, only
 304:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          BSP_AUDIO_OUT_Resume() function should be called for resume (use of BSP_AUDIO_OUT_Play
 305:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *          function for resume could lead to unexpected behavior).
 306:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval  AUDIO_OK if correct communication, else wrong communication
 307:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 10


 308:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Resume(void)
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 204              		.loc 1 309 1 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 0
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 310:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 311:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Resume(AUDIO_I2C_ADDRESS) != 0)
 208              		.loc 1 311 3 view .LVU40
 209              		.loc 1 311 15 is_stmt 0 view .LVU41
 210 0000 074B     		ldr	r3, .L25
 211 0002 1B68     		ldr	r3, [r3]
 309:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Audio Codec Pause/Resume function */
 212              		.loc 1 309 1 view .LVU42
 213 0004 10B5     		push	{r4, lr}
 214              		.cfi_def_cfa_offset 8
 215              		.cfi_offset 4, -8
 216              		.cfi_offset 14, -4
 217              		.loc 1 311 6 view .LVU43
 218 0006 5B69     		ldr	r3, [r3, #20]
 219 0008 9420     		movs	r0, #148
 220 000a 9847     		blx	r3
 221              	.LVL13:
 222              		.loc 1 311 5 view .LVU44
 223 000c 08B1     		cbz	r0, .L24
 312:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 313:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 224              		.loc 1 313 12 view .LVU45
 225 000e 0120     		movs	r0, #1
 314:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 315:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 316:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 317:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the Media layer resume function */
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_I2S_DMAResume(&hAudioOutI2s);
 319:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 320:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 322:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 323:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 226              		.loc 1 323 1 view .LVU46
 227 0010 10BD     		pop	{r4, pc}
 228              	.L24:
 229 0012 0446     		mov	r4, r0
 318:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 230              		.loc 1 318 5 is_stmt 1 view .LVU47
 231 0014 0348     		ldr	r0, .L25+4
 232 0016 FFF7FEFF 		bl	HAL_I2S_DMAResume
 233              	.LVL14:
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 234              		.loc 1 321 5 view .LVU48
 321:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 235              		.loc 1 321 12 is_stmt 0 view .LVU49
 236 001a 2046     		mov	r0, r4
 237              		.loc 1 323 1 view .LVU50
 238 001c 10BD     		pop	{r4, pc}
 239              	.L26:
 240 001e 00BF     		.align	2
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 11


 241              	.L25:
 242 0020 00000000 		.word	.LANCHOR0
 243 0024 00000000 		.word	.LANCHOR1
 244              		.cfi_endproc
 245              	.LFE134:
 247              		.section	.text.BSP_AUDIO_OUT_Stop,"ax",%progbits
 248              		.align	1
 249              		.p2align 2,,3
 250              		.global	BSP_AUDIO_OUT_Stop
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 255              	BSP_AUDIO_OUT_Stop:
 256              	.LVL15:
 257              	.LFB135:
 324:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 325:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 326:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio playing and Power down the Audio Codec. 
 327:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Option: could be one of the following parameters 
 328:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *           - CODEC_PDWN_HW: completely shut down the codec (physically). 
 329:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *                            Then need to reconfigure the Codec after power on.  
 330:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 331:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 332:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_Stop(uint32_t Option)
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 258              		.loc 1 333 1 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 334:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 335:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioOutI2s);
 262              		.loc 1 335 3 view .LVU52
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 263              		.loc 1 333 1 is_stmt 0 view .LVU53
 264 0000 38B5     		push	{r3, r4, r5, lr}
 265              		.cfi_def_cfa_offset 16
 266              		.cfi_offset 3, -16
 267              		.cfi_offset 4, -12
 268              		.cfi_offset 5, -8
 269              		.cfi_offset 14, -4
 333:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call DMA Stop to disable DMA stream before stopping codec */
 270              		.loc 1 333 1 view .LVU54
 271 0002 0546     		mov	r5, r0
 272              		.loc 1 335 3 view .LVU55
 273 0004 0C48     		ldr	r0, .L33
 274              	.LVL16:
 275              		.loc 1 335 3 view .LVU56
 276 0006 FFF7FEFF 		bl	HAL_I2S_DMAStop
 277              	.LVL17:
 336:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 337:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call Audio Codec Stop function */
 338:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->Stop(AUDIO_I2C_ADDRESS, Option) != 0)
 278              		.loc 1 338 3 is_stmt 1 view .LVU57
 279              		.loc 1 338 15 is_stmt 0 view .LVU58
 280 000a 0C4B     		ldr	r3, .L33+4
 281 000c 1B68     		ldr	r3, [r3]
 282              		.loc 1 338 6 view .LVU59
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 12


 283 000e 2946     		mov	r1, r5
 284 0010 9B69     		ldr	r3, [r3, #24]
 285 0012 9420     		movs	r0, #148
 286 0014 9847     		blx	r3
 287              	.LVL18:
 288              		.loc 1 338 5 view .LVU60
 289 0016 18B9     		cbnz	r0, .L29
 339:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 341:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 342:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 343:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 344:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(Option == CODEC_PDWN_HW)
 290              		.loc 1 344 7 view .LVU61
 291 0018 012D     		cmp	r5, #1
 292 001a 0446     		mov	r4, r0
 293              		.loc 1 344 5 is_stmt 1 view .LVU62
 294              		.loc 1 344 7 is_stmt 0 view .LVU63
 295 001c 02D0     		beq	.L32
 345:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     { 
 346:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Wait at least 1ms */
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_Delay(1);
 348:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 349:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       /* Reset the pin */
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       HAL_GPIO_WritePin(AUDIO_RESET_GPIO, AUDIO_RESET_PIN, GPIO_PIN_RESET);
 351:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 352:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 353:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 355:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 356:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 296              		.loc 1 356 1 view .LVU64
 297 001e 38BD     		pop	{r3, r4, r5, pc}
 298              	.LVL19:
 299              	.L29:
 340:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 300              		.loc 1 340 12 view .LVU65
 301 0020 0120     		movs	r0, #1
 302              		.loc 1 356 1 view .LVU66
 303 0022 38BD     		pop	{r3, r4, r5, pc}
 304              	.LVL20:
 305              	.L32:
 347:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       
 306              		.loc 1 347 7 is_stmt 1 view .LVU67
 307 0024 2846     		mov	r0, r5
 308 0026 FFF7FEFF 		bl	HAL_Delay
 309              	.LVL21:
 350:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 310              		.loc 1 350 7 view .LVU68
 311 002a 0548     		ldr	r0, .L33+8
 312 002c 2246     		mov	r2, r4
 313 002e 1021     		movs	r1, #16
 314 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 315              	.LVL22:
 354:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 316              		.loc 1 354 12 is_stmt 0 view .LVU69
 317 0034 2046     		mov	r0, r4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 13


 318              		.loc 1 356 1 view .LVU70
 319 0036 38BD     		pop	{r3, r4, r5, pc}
 320              	.LVL23:
 321              	.L34:
 322              		.loc 1 356 1 view .LVU71
 323              		.align	2
 324              	.L33:
 325 0038 00000000 		.word	.LANCHOR1
 326 003c 00000000 		.word	.LANCHOR0
 327 0040 000C0240 		.word	1073875968
 328              		.cfi_endproc
 329              	.LFE135:
 331              		.section	.text.BSP_AUDIO_OUT_SetVolume,"ax",%progbits
 332              		.align	1
 333              		.p2align 2,,3
 334              		.global	BSP_AUDIO_OUT_SetVolume
 335              		.syntax unified
 336              		.thumb
 337              		.thumb_func
 339              	BSP_AUDIO_OUT_SetVolume:
 340              	.LVL24:
 341              	.LFB136:
 357:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 358:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 359:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the current audio volume level. 
 360:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 361:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 362:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 363:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 364:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetVolume(uint8_t Volume)
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 342              		.loc 1 365 1 is_stmt 1 view -0
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 0
 345              		@ frame_needed = 0, uses_anonymous_args = 0
 366:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 367:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetVolume(AUDIO_I2C_ADDRESS, Volume) != 0)
 346              		.loc 1 367 3 view .LVU73
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 347              		.loc 1 365 1 is_stmt 0 view .LVU74
 348 0000 08B5     		push	{r3, lr}
 349              		.cfi_def_cfa_offset 8
 350              		.cfi_offset 3, -8
 351              		.cfi_offset 14, -4
 352              		.loc 1 367 15 view .LVU75
 353 0002 054B     		ldr	r3, .L37
 354 0004 1B68     		ldr	r3, [r3]
 365:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the codec volume control function with converted volume value */
 355              		.loc 1 365 1 view .LVU76
 356 0006 0146     		mov	r1, r0
 357              		.loc 1 367 6 view .LVU77
 358 0008 1B6A     		ldr	r3, [r3, #32]
 359 000a 9420     		movs	r0, #148
 360              	.LVL25:
 361              		.loc 1 367 6 view .LVU78
 362 000c 9847     		blx	r3
 363              	.LVL26:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 14


 368:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 369:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 370:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 371:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 372:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 373:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 374:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 375:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 376:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 364              		.loc 1 376 1 view .LVU79
 365 000e 0038     		subs	r0, r0, #0
 366 0010 18BF     		it	ne
 367 0012 0120     		movne	r0, #1
 368 0014 08BD     		pop	{r3, pc}
 369              	.L38:
 370 0016 00BF     		.align	2
 371              	.L37:
 372 0018 00000000 		.word	.LANCHOR0
 373              		.cfi_endproc
 374              	.LFE136:
 376              		.section	.text.BSP_AUDIO_OUT_SetMute,"ax",%progbits
 377              		.align	1
 378              		.p2align 2,,3
 379              		.global	BSP_AUDIO_OUT_SetMute
 380              		.syntax unified
 381              		.thumb
 382              		.thumb_func
 384              	BSP_AUDIO_OUT_SetMute:
 385              	.LVL27:
 386              	.LFB137:
 377:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 378:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 379:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Enables or disables the MUTE mode by software 
 380:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Cmd: could be AUDIO_MUTE_ON to mute sound or AUDIO_MUTE_OFF to 
 381:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         unmute the codec and restore previous volume level.
 382:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 383:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 384:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetMute(uint32_t Cmd)
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 387              		.loc 1 385 1 is_stmt 1 view -0
 388              		.cfi_startproc
 389              		@ args = 0, pretend = 0, frame = 0
 390              		@ frame_needed = 0, uses_anonymous_args = 0
 386:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 387:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetMute(AUDIO_I2C_ADDRESS, Cmd) != 0)
 391              		.loc 1 387 3 view .LVU81
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 392              		.loc 1 385 1 is_stmt 0 view .LVU82
 393 0000 08B5     		push	{r3, lr}
 394              		.cfi_def_cfa_offset 8
 395              		.cfi_offset 3, -8
 396              		.cfi_offset 14, -4
 397              		.loc 1 387 15 view .LVU83
 398 0002 054B     		ldr	r3, .L41
 399 0004 1B68     		ldr	r3, [r3]
 385:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec Mute function */
 400              		.loc 1 385 1 view .LVU84
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 15


 401 0006 0146     		mov	r1, r0
 402              		.loc 1 387 6 view .LVU85
 403 0008 5B6A     		ldr	r3, [r3, #36]
 404 000a 9420     		movs	r0, #148
 405              	.LVL28:
 406              		.loc 1 387 6 view .LVU86
 407 000c 9847     		blx	r3
 408              	.LVL29:
 388:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 389:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 390:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 391:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 392:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 393:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 394:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 395:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 396:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 409              		.loc 1 396 1 view .LVU87
 410 000e 0038     		subs	r0, r0, #0
 411 0010 18BF     		it	ne
 412 0012 0120     		movne	r0, #1
 413 0014 08BD     		pop	{r3, pc}
 414              	.L42:
 415 0016 00BF     		.align	2
 416              	.L41:
 417 0018 00000000 		.word	.LANCHOR0
 418              		.cfi_endproc
 419              	.LFE137:
 421              		.section	.text.BSP_AUDIO_OUT_SetOutputMode,"ax",%progbits
 422              		.align	1
 423              		.p2align 2,,3
 424              		.global	BSP_AUDIO_OUT_SetOutputMode
 425              		.syntax unified
 426              		.thumb
 427              		.thumb_func
 429              	BSP_AUDIO_OUT_SetOutputMode:
 430              	.LVL30:
 431              	.LFB138:
 397:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 398:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 399:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Switch dynamically (while audio file is played) the output target 
 400:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         (speaker or headphone).
 401:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function modifies a global variable of the audio codec driver: OutputDev.
 402:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Output: specifies the audio output target: OUTPUT_DEVICE_SPEAKER,
 403:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         OUTPUT_DEVICE_HEADPHONE, OUTPUT_DEVICE_BOTH or OUTPUT_DEVICE_AUTO 
 404:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 405:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 406:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_OUT_SetOutputMode(uint8_t Output)
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 432              		.loc 1 407 1 is_stmt 1 view -0
 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
 408:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 409:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(pAudioDrv->SetOutputMode(AUDIO_I2C_ADDRESS, Output) != 0)
 436              		.loc 1 409 3 view .LVU89
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 16


 437              		.loc 1 407 1 is_stmt 0 view .LVU90
 438 0000 08B5     		push	{r3, lr}
 439              		.cfi_def_cfa_offset 8
 440              		.cfi_offset 3, -8
 441              		.cfi_offset 14, -4
 442              		.loc 1 409 15 view .LVU91
 443 0002 054B     		ldr	r3, .L45
 444 0004 1B68     		ldr	r3, [r3]
 407:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Codec output Device function */
 445              		.loc 1 407 1 view .LVU92
 446 0006 0146     		mov	r1, r0
 447              		.loc 1 409 6 view .LVU93
 448 0008 9B6A     		ldr	r3, [r3, #40]
 449 000a 9420     		movs	r0, #148
 450              	.LVL31:
 451              		.loc 1 409 6 view .LVU94
 452 000c 9847     		blx	r3
 453              	.LVL32:
 410:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 411:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 412:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 413:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 414:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 415:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Return AUDIO_OK when all operations are correctly done */
 416:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 417:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 418:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 454              		.loc 1 418 1 view .LVU95
 455 000e 0038     		subs	r0, r0, #0
 456 0010 18BF     		it	ne
 457 0012 0120     		movne	r0, #1
 458 0014 08BD     		pop	{r3, pc}
 459              	.L46:
 460 0016 00BF     		.align	2
 461              	.L45:
 462 0018 00000000 		.word	.LANCHOR0
 463              		.cfi_endproc
 464              	.LFE138:
 466              		.section	.text.BSP_AUDIO_OUT_ClockConfig,"ax",%progbits
 467              		.align	1
 468              		.p2align 2,,3
 469              		.weak	BSP_AUDIO_OUT_ClockConfig
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 474              	BSP_AUDIO_OUT_ClockConfig:
 475              	.LVL33:
 476              	.LFB142:
 419:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 420:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 421:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Update the audio frequency.
 422:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 423:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API should be called after the BSP_AUDIO_OUT_Init() to adjust the
 424:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         audio frequency. 
 425:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 426:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void BSP_AUDIO_OUT_SetFrequency(uint32_t AudioFreq)
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 17


 428:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_OUT_ClockConfig(&hAudioOutI2s, AudioFreq, NULL);
 430:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 431:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Update the I2S audio frequency configuration */
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_Init(AudioFreq);
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 434:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 435:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 436:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Transfer completed callbacks.
 437:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 438:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 439:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxCpltCallback(I2S_HandleTypeDef *hi2s)
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 442:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 443:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Call the user function which will manage directly transfer complete */  
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_TransferComplete_CallBack();       
 445:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 447:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 448:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 449:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Tx Half Transfer completed callbacks.
 450:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 451:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 452:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_TxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 455:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 456:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Manage the remaining file size and new address offset: This function should
 457:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****        be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_HalfTransfer_CallBack();
 459:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 461:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 462:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 463:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Clock Config.
 464:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 465:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to play the audio stream.
 466:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_OUT_Init() and BSP_AUDIO_OUT_SetFrequency()
 467:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application     
 468:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 469:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 470:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** { 
 477              		.loc 1 471 1 is_stmt 1 view -0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 16
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 472:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 481              		.loc 1 472 3 view .LVU97
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 482              		.loc 1 473 3 view .LVU98
 474:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < 8; index++)
 483              		.loc 1 475 3 view .LVU99
 484              		.loc 1 475 24 view .LVU100
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 18


 485              		.loc 1 471 1 is_stmt 0 view .LVU101
 486 0000 30B5     		push	{r4, r5, lr}
 487              		.cfi_def_cfa_offset 12
 488              		.cfi_offset 4, -12
 489              		.cfi_offset 5, -8
 490              		.cfi_offset 14, -4
 491 0002 0023     		movs	r3, #0
 492 0004 134D     		ldr	r5, .L57
 493 0006 85B0     		sub	sp, sp, #20
 494              		.cfi_def_cfa_offset 32
 471:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 495              		.loc 1 471 1 view .LVU102
 496 0008 4FF4FA52 		mov	r2, #8000
 497              	.LVL34:
 473:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t index = 0, freqindex = 0xFF;
 498              		.loc 1 473 22 view .LVU103
 499 000c FF24     		movs	r4, #255
 500 000e 01E0     		b	.L50
 501              	.LVL35:
 502              	.L56:
 476:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 477:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     if(I2SFreq[index] == AudioFreq)
 503              		.loc 1 477 15 view .LVU104
 504 0010 55F8042B 		ldr	r2, [r5], #4
 505              	.LVL36:
 506              	.L50:
 507              		.loc 1 477 15 view .LVU105
 508 0014 D8B2     		uxtb	r0, r3
 509              	.LVL37:
 510              		.loc 1 477 5 is_stmt 1 view .LVU106
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 511              		.loc 1 475 24 is_stmt 0 view .LVU107
 512 0016 0133     		adds	r3, r3, #1
 513              		.loc 1 477 7 view .LVU108
 514 0018 9142     		cmp	r1, r2
 515 001a 08BF     		it	eq
 516 001c 0446     		moveq	r4, r0
 517              	.LVL38:
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 518              		.loc 1 475 34 is_stmt 1 view .LVU109
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 519              		.loc 1 475 24 view .LVU110
 475:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 520              		.loc 1 475 24 is_stmt 0 view .LVU111
 521 001e 082B     		cmp	r3, #8
 522 0020 F6D1     		bne	.L56
 478:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {
 479:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****       freqindex = index;
 480:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 481:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 482:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable PLLI2S clock */
 483:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 523              		.loc 1 483 3 is_stmt 1 view .LVU112
 524 0022 6846     		mov	r0, sp
 525 0024 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 526              	.LVL39:
 484:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 19


 485:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((freqindex & 0x7) == 0)
 527              		.loc 1 485 3 view .LVU113
 528              		.loc 1 485 6 is_stmt 0 view .LVU114
 529 0028 6307     		lsls	r3, r4, #29
 530 002a 0ED1     		bne	.L51
 486:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 487:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 488:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input) � (PLLI2SN/PLLM)
 489:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 531              		.loc 1 490 5 is_stmt 1 view .LVU115
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 532              		.loc 1 491 40 is_stmt 0 view .LVU116
 533 002c 0A4A     		ldr	r2, .L57+4
 492:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = I2SPLLR[freqindex];
 534              		.loc 1 492 40 view .LVU117
 535 002e 0B4B     		ldr	r3, .L57+8
 491:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 536              		.loc 1 491 31 view .LVU118
 537 0030 52F82420 		ldr	r2, [r2, r4, lsl #2]
 538              		.loc 1 492 31 view .LVU119
 539 0034 53F82430 		ldr	r3, [r3, r4, lsl #2]
 490:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = I2SPLLN[freqindex];
 540              		.loc 1 490 37 view .LVU120
 541 0038 0121     		movs	r1, #1
 542              	.L55:
 493:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 494:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 495:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else 
 496:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 497:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2S clock config 
 498:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PLLI2S_VCO = f(VCO clock) = f(PLLI2S clock input) � (PLLI2SN/PLLM)
 499:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     I2SCLK = f(PLLI2S clock output) = f(VCO clock) / PLLI2SR */
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 503:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 543              		.loc 1 503 5 view .LVU121
 544 003a 6846     		mov	r0, sp
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 545              		.loc 1 501 31 view .LVU122
 546 003c CDE90012 		strd	r1, r2, [sp]
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 547              		.loc 1 502 5 is_stmt 1 view .LVU123
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 548              		.loc 1 502 31 is_stmt 0 view .LVU124
 549 0040 0293     		str	r3, [sp, #8]
 550              		.loc 1 503 5 is_stmt 1 view .LVU125
 551 0042 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 552              	.LVL40:
 504:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 505:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 553              		.loc 1 505 1 is_stmt 0 view .LVU126
 554 0046 05B0     		add	sp, sp, #20
 555              		.cfi_remember_state
 556              		.cfi_def_cfa_offset 12
 557              		@ sp needed
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 20


 558 0048 30BD     		pop	{r4, r5, pc}
 559              	.LVL41:
 560              	.L51:
 561              		.cfi_restore_state
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 562              		.loc 1 500 5 is_stmt 1 view .LVU127
 500:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 258;
 563              		.loc 1 500 37 is_stmt 0 view .LVU128
 564 004a 0121     		movs	r1, #1
 501:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 3;
 565              		.loc 1 501 31 view .LVU129
 566 004c 4FF48172 		mov	r2, #258
 502:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 567              		.loc 1 502 31 view .LVU130
 568 0050 0323     		movs	r3, #3
 569 0052 F2E7     		b	.L55
 570              	.L58:
 571              		.align	2
 572              	.L57:
 573 0054 04000000 		.word	.LANCHOR2+4
 574 0058 00000000 		.word	.LANCHOR3
 575 005c 00000000 		.word	.LANCHOR4
 576              		.cfi_endproc
 577              	.LFE142:
 579              		.section	.text.BSP_AUDIO_OUT_SetFrequency,"ax",%progbits
 580              		.align	1
 581              		.p2align 2,,3
 582              		.global	BSP_AUDIO_OUT_SetFrequency
 583              		.syntax unified
 584              		.thumb
 585              		.thumb_func
 587              	BSP_AUDIO_OUT_SetFrequency:
 588              	.LVL42:
 589              	.LFB139:
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 590              		.loc 1 427 1 is_stmt 1 view -0
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 0
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 594              		.loc 1 429 3 view .LVU132
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 595              		.loc 1 427 1 is_stmt 0 view .LVU133
 596 0000 38B5     		push	{r3, r4, r5, lr}
 597              		.cfi_def_cfa_offset 16
 598              		.cfi_offset 3, -16
 599              		.cfi_offset 4, -12
 600              		.cfi_offset 5, -8
 601              		.cfi_offset 14, -4
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 602              		.loc 1 429 3 view .LVU134
 603 0002 0E4C     		ldr	r4, .L61
 427:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLL clock is set depending by the AudioFreq (44.1khz vs 48khz groups) */ 
 604              		.loc 1 427 1 view .LVU135
 605 0004 0546     		mov	r5, r0
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 606              		.loc 1 429 3 view .LVU136
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 21


 607 0006 2946     		mov	r1, r5
 608 0008 2046     		mov	r0, r4
 609              	.LVL43:
 429:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 610              		.loc 1 429 3 view .LVU137
 611 000a 0022     		movs	r2, #0
 612 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 613              	.LVL44:
 432:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 614              		.loc 1 432 3 is_stmt 1 view .LVU138
 615              	.LBB4:
 616              	.LBI4:
 506:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 507:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 508:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  AUDIO OUT I2S MSP Init.
 509:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 510:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 511:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 512:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 516:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 517:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S3 clock */
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_ENABLE();
 519:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 520:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*** Configure the GPIOs ***/  
 521:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_SCK_SD_CLK_ENABLE();
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 524:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 525:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: WS, SCK and SD pins ----------------------------*/
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_SCK_PIN | I2S3_SD_PIN; 
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 532:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_WS_PIN ;
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 535:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 536:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 pins configuration: MCK pin */
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_MCK_CLK_ENABLE();
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 540:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 541:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S DMA clock */
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_DMAx_CLK_ENABLE(); 
 543:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 545:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 546:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sTx handle parameters */   
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Channel             = I2S3_DMAx_CHANNEL;  
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 22


 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 553:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 554:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 555:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     // hdma_i2sTx.Init.Mode                = DMA_NORMAL;
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Mode                = DMA_CIRCULAR;
 557:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 558:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 559:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Priority            = DMA_PRIORITY_HIGH;
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 565:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Instance                 = I2S3_DMAx_STREAM;
 567:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 568:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmatx, hdma_i2sTx);
 570:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 571:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sTx);
 573:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 574:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sTx);
 576:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 577:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 578:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S3_DMAx_IRQ, AUDIO_OUT_IRQ_PREPRIO, 0);
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 582:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 583:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 584:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  De-Initializes BSP_AUDIO_OUT MSP.
 585:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: might be required to set audio peripheral predivider if any.
 586:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 587:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 588:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {  
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 591:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 592:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S3_DMAx_IRQ); 
 594:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 596:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 597:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmatx);
 599:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 600:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 601:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 603:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 604:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: SCK and SD pins */
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_SCK_PIN | I2S3_SD_PIN;
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 607:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 23


 608:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: WS pin */
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_WS_PIN;
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 611:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 612:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* CODEC_I2S pins configuration: MCK pin */
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin = I2S3_MCK_PIN;
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 615:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 616:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_CLK_DISABLE();
 618:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 619:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 620:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */   
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 622:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 623:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 624:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA full Transfer complete event.
 625:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 626:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_TransferComplete_CallBack(void)
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 629:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 630:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 631:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 632:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 633:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_HalfTransfer_CallBack(void)
 634:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 635:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 636:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 637:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 638:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA FIFO error event.
 639:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 640:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_OUT_Error_CallBack(void)
 641:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 642:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 643:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 644:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
 645:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
 646:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
 647:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 648:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 649:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S).
 650:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 651:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 652:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S3_Init(uint32_t AudioFreq)
 617              		.loc 1 652 16 view .LVU139
 618              	.LBB5:
 653:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 654:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioOutI2s Instance parameter */
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Instance         = I2S3;
 619              		.loc 1 655 3 view .LVU140
 620              		.loc 1 655 33 is_stmt 0 view .LVU141
 621 0010 0B4A     		ldr	r2, .L61+4
 622 0012 2260     		str	r2, [r4]
 656:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 657:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioOutI2s);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 24


 623              		.loc 1 658 3 is_stmt 1 view .LVU142
 624 0014 D169     		ldr	r1, [r2, #28]
 625 0016 21F48061 		bic	r1, r1, #1024
 626 001a D161     		str	r1, [r2, #28]
 659:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 660:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S3 peripheral configuration */
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.AudioFreq   = AudioFreq;
 627              		.loc 1 661 3 view .LVU143
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 628              		.loc 1 662 33 is_stmt 0 view .LVU144
 629 001c 0023     		movs	r3, #0
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 630              		.loc 1 665 33 view .LVU145
 631 001e 4FF40072 		mov	r2, #512
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 632              		.loc 1 663 33 view .LVU146
 633 0022 C4E90633 		strd	r3, r3, [r4, #24]
 634              		.loc 1 665 33 view .LVU147
 635 0026 C4E90332 		strd	r3, r2, [r4, #12]
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 636              		.loc 1 667 33 view .LVU148
 637 002a C4E90123 		strd	r2, r3, [r4, #4]
 668:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 669:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioOutI2s) != HAL_OK)
 638              		.loc 1 669 6 view .LVU149
 639 002e 2046     		mov	r0, r4
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 640              		.loc 1 661 33 view .LVU150
 641 0030 6561     		str	r5, [r4, #20]
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 642              		.loc 1 662 3 is_stmt 1 view .LVU151
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 643              		.loc 1 664 3 view .LVU152
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 644              		.loc 1 666 3 view .LVU153
 645              		.loc 1 669 3 view .LVU154
 646              	.LBE5:
 647              	.LBE4:
 433:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 648              		.loc 1 433 1 is_stmt 0 view .LVU155
 649 0032 BDE83840 		pop	{r3, r4, r5, lr}
 650              		.cfi_restore 14
 651              		.cfi_restore 5
 652              		.cfi_restore 4
 653              		.cfi_restore 3
 654              		.cfi_def_cfa_offset 0
 655              	.LVL45:
 656              	.LBB7:
 657              	.LBB6:
 658              		.loc 1 669 6 view .LVU156
 659 0036 FFF7FEBF 		b	HAL_I2S_Init
 660              	.LVL46:
 661              	.L62:
 662              		.loc 1 669 6 view .LVU157
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 25


 663 003a 00BF     		.align	2
 664              	.L61:
 665 003c 00000000 		.word	.LANCHOR1
 666 0040 003C0040 		.word	1073757184
 667              	.LBE6:
 668              	.LBE7:
 669              		.cfi_endproc
 670              	.LFE139:
 672              		.section	.text.BSP_AUDIO_OUT_MspInit,"ax",%progbits
 673              		.align	1
 674              		.p2align 2,,3
 675              		.weak	BSP_AUDIO_OUT_MspInit
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 680              	BSP_AUDIO_OUT_MspInit:
 681              	.LVL47:
 682              	.LFB143:
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 683              		.loc 1 513 1 is_stmt 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 40
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 514:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 687              		.loc 1 514 3 view .LVU159
 515:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 688              		.loc 1 515 3 view .LVU160
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 689              		.loc 1 518 3 view .LVU161
 690              	.LBB8:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 691              		.loc 1 518 3 view .LVU162
 692              	.LBE8:
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 693              		.loc 1 513 1 is_stmt 0 view .LVU163
 694 0000 70B5     		push	{r4, r5, r6, lr}
 695              		.cfi_def_cfa_offset 16
 696              		.cfi_offset 4, -16
 697              		.cfi_offset 5, -12
 698              		.cfi_offset 6, -8
 699              		.cfi_offset 14, -4
 700 0002 8AB0     		sub	sp, sp, #40
 701              		.cfi_def_cfa_offset 56
 702              	.LBB9:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 703              		.loc 1 518 3 view .LVU164
 704 0004 404C     		ldr	r4, .L67
 705 0006 0025     		movs	r5, #0
 706 0008 0095     		str	r5, [sp]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 707              		.loc 1 518 3 is_stmt 1 view .LVU165
 708 000a 236C     		ldr	r3, [r4, #64]
 709 000c 43F40043 		orr	r3, r3, #32768
 710 0010 2364     		str	r3, [r4, #64]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 711              		.loc 1 518 3 view .LVU166
 712 0012 236C     		ldr	r3, [r4, #64]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 26


 713 0014 03F40043 		and	r3, r3, #32768
 714 0018 0093     		str	r3, [sp]
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 715              		.loc 1 518 3 view .LVU167
 716 001a 009B     		ldr	r3, [sp]
 717              	.LBE9:
 518:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 718              		.loc 1 518 3 view .LVU168
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 719              		.loc 1 522 3 view .LVU169
 720              	.LBB10:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 721              		.loc 1 522 3 view .LVU170
 722 001c 0195     		str	r5, [sp, #4]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 723              		.loc 1 522 3 view .LVU171
 724 001e 236B     		ldr	r3, [r4, #48]
 725 0020 43F00403 		orr	r3, r3, #4
 726 0024 2363     		str	r3, [r4, #48]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 727              		.loc 1 522 3 view .LVU172
 728 0026 236B     		ldr	r3, [r4, #48]
 729 0028 03F00403 		and	r3, r3, #4
 730 002c 0193     		str	r3, [sp, #4]
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 731              		.loc 1 522 3 view .LVU173
 732 002e 019B     		ldr	r3, [sp, #4]
 733              	.LBE10:
 522:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S3_WS_CLK_ENABLE();
 734              		.loc 1 522 3 view .LVU174
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 735              		.loc 1 523 3 view .LVU175
 736              	.LBB11:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 737              		.loc 1 523 3 view .LVU176
 738 0030 0295     		str	r5, [sp, #8]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 739              		.loc 1 523 3 view .LVU177
 740 0032 236B     		ldr	r3, [r4, #48]
 741 0034 43F00103 		orr	r3, r3, #1
 742 0038 2363     		str	r3, [r4, #48]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 743              		.loc 1 523 3 view .LVU178
 744 003a 236B     		ldr	r3, [r4, #48]
 745 003c 03F00103 		and	r3, r3, #1
 746 0040 0293     		str	r3, [sp, #8]
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 747              		.loc 1 523 3 view .LVU179
 748              	.LBE11:
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 749              		.loc 1 526 31 is_stmt 0 view .LVU180
 750 0042 4FF4A053 		mov	r3, #5120
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 751              		.loc 1 527 31 view .LVU181
 752 0046 0222     		movs	r2, #2
 753              	.LBB12:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 27


 754              		.loc 1 523 3 view .LVU182
 755 0048 0299     		ldr	r1, [sp, #8]
 756              	.LVL48:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 757              		.loc 1 523 3 view .LVU183
 758              	.LBE12:
 523:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 759              		.loc 1 523 3 is_stmt 1 view .LVU184
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 760              		.loc 1 526 3 view .LVU185
 526:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode        = GPIO_MODE_AF_PP;
 761              		.loc 1 526 31 is_stmt 0 view .LVU186
 762 004a 0593     		str	r3, [sp, #20]
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 763              		.loc 1 527 3 is_stmt 1 view .LVU187
 528:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed       = GPIO_SPEED_FAST;
 764              		.loc 1 528 3 view .LVU188
 513:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sTx;
 765              		.loc 1 513 1 is_stmt 0 view .LVU189
 766 004c 0646     		mov	r6, r0
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 767              		.loc 1 530 31 view .LVU190
 768 004e 0623     		movs	r3, #6
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 769              		.loc 1 531 3 view .LVU191
 770 0050 2E48     		ldr	r0, .L67+4
 771              	.LVL49:
 527:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull        = GPIO_NOPULL;
 772              		.loc 1 527 31 view .LVU192
 773 0052 0692     		str	r2, [sp, #24]
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 774              		.loc 1 531 3 view .LVU193
 775 0054 05A9     		add	r1, sp, #20
 529:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate   = I2S3_SCK_SD_WS_AF;
 776              		.loc 1 529 31 view .LVU194
 777 0056 CDE90752 		strd	r5, r2, [sp, #28]
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 778              		.loc 1 530 3 is_stmt 1 view .LVU195
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 779              		.loc 1 531 3 view .LVU196
 530:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_SCK_SD_GPIO_PORT, &GPIO_InitStruct);
 780              		.loc 1 530 31 is_stmt 0 view .LVU197
 781 005a 0993     		str	r3, [sp, #36]
 531:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 782              		.loc 1 531 3 view .LVU198
 783 005c FFF7FEFF 		bl	HAL_GPIO_Init
 784              	.LVL50:
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 785              		.loc 1 533 3 is_stmt 1 view .LVU199
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 786              		.loc 1 533 31 is_stmt 0 view .LVU200
 787 0060 1023     		movs	r3, #16
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 788              		.loc 1 534 3 view .LVU201
 789 0062 2B48     		ldr	r0, .L67+8
 533:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_WS_GPIO_PORT, &GPIO_InitStruct); 
 790              		.loc 1 533 31 view .LVU202
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 28


 791 0064 0593     		str	r3, [sp, #20]
 534:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 792              		.loc 1 534 3 is_stmt 1 view .LVU203
 793 0066 05A9     		add	r1, sp, #20
 794 0068 FFF7FEFF 		bl	HAL_GPIO_Init
 795              	.LVL51:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 796              		.loc 1 537 3 view .LVU204
 797              	.LBB13:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 798              		.loc 1 537 3 view .LVU205
 799 006c 0395     		str	r5, [sp, #12]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 800              		.loc 1 537 3 view .LVU206
 801 006e 236B     		ldr	r3, [r4, #48]
 802              	.LBE13:
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 803              		.loc 1 539 3 is_stmt 0 view .LVU207
 804 0070 2648     		ldr	r0, .L67+4
 805              	.LBB14:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 806              		.loc 1 537 3 view .LVU208
 807 0072 43F00403 		orr	r3, r3, #4
 808 0076 2363     		str	r3, [r4, #48]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 809              		.loc 1 537 3 is_stmt 1 view .LVU209
 810 0078 236B     		ldr	r3, [r4, #48]
 811 007a 03F00403 		and	r3, r3, #4
 812 007e 0393     		str	r3, [sp, #12]
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 813              		.loc 1 537 3 view .LVU210
 814              	.LBE14:
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 815              		.loc 1 539 3 is_stmt 0 view .LVU211
 816 0080 05A9     		add	r1, sp, #20
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 817              		.loc 1 538 31 view .LVU212
 818 0082 8023     		movs	r3, #128
 819              	.LBB15:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 820              		.loc 1 537 3 view .LVU213
 821 0084 039A     		ldr	r2, [sp, #12]
 822              	.LBE15:
 537:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin         = I2S3_MCK_PIN; 
 823              		.loc 1 537 3 is_stmt 1 view .LVU214
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 824              		.loc 1 538 3 view .LVU215
 538:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S3_MCK_GPIO_PORT, &GPIO_InitStruct);   
 825              		.loc 1 538 31 is_stmt 0 view .LVU216
 826 0086 0593     		str	r3, [sp, #20]
 539:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 827              		.loc 1 539 3 is_stmt 1 view .LVU217
 828 0088 FFF7FEFF 		bl	HAL_GPIO_Init
 829              	.LVL52:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 830              		.loc 1 542 3 view .LVU218
 831              	.LBB16:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 29


 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 832              		.loc 1 542 3 view .LVU219
 833 008c 0495     		str	r5, [sp, #16]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 834              		.loc 1 542 3 view .LVU220
 835 008e 236B     		ldr	r3, [r4, #48]
 836              	.LBE16:
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 837              		.loc 1 544 5 is_stmt 0 view .LVU221
 838 0090 204A     		ldr	r2, .L67+12
 839              	.LBB17:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 840              		.loc 1 542 3 view .LVU222
 841 0092 43F40013 		orr	r3, r3, #2097152
 842 0096 2363     		str	r3, [r4, #48]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 843              		.loc 1 542 3 is_stmt 1 view .LVU223
 844 0098 236B     		ldr	r3, [r4, #48]
 845 009a 03F40013 		and	r3, r3, #2097152
 846 009e 0493     		str	r3, [sp, #16]
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 847              		.loc 1 542 3 view .LVU224
 848              	.LBE17:
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 849              		.loc 1 544 5 is_stmt 0 view .LVU225
 850 00a0 3368     		ldr	r3, [r6]
 851              	.LBB18:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 852              		.loc 1 542 3 view .LVU226
 853 00a2 0499     		ldr	r1, [sp, #16]
 854              	.LBE18:
 542:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 855              		.loc 1 542 3 is_stmt 1 view .LVU227
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 856              		.loc 1 544 3 view .LVU228
 544:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 857              		.loc 1 544 5 is_stmt 0 view .LVU229
 858 00a4 9342     		cmp	r3, r2
 859 00a6 09D0     		beq	.L66
 860              	.L64:
 579:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S3_DMAx_IRQ); 
 861              		.loc 1 579 3 is_stmt 1 view .LVU230
 862 00a8 0022     		movs	r2, #0
 863 00aa 0E21     		movs	r1, #14
 864 00ac 2F20     		movs	r0, #47
 865 00ae FFF7FEFF 		bl	HAL_NVIC_SetPriority
 866              	.LVL53:
 580:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 867              		.loc 1 580 3 view .LVU231
 868 00b2 2F20     		movs	r0, #47
 869 00b4 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 870              	.LVL54:
 581:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 871              		.loc 1 581 1 is_stmt 0 view .LVU232
 872 00b8 0AB0     		add	sp, sp, #40
 873              		.cfi_remember_state
 874              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 30


 875              		@ sp needed
 876 00ba 70BD     		pop	{r4, r5, r6, pc}
 877              	.LVL55:
 878              	.L66:
 879              		.cfi_restore_state
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 880              		.loc 1 547 5 is_stmt 1 view .LVU233
 547:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.Direction           = DMA_MEMORY_TO_PERIPH;
 881              		.loc 1 547 41 is_stmt 0 view .LVU234
 882 00bc 164C     		ldr	r4, .L67+16
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 883              		.loc 1 566 41 view .LVU235
 884 00be 174B     		ldr	r3, .L67+20
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 885              		.loc 1 569 5 view .LVU236
 886 00c0 B463     		str	r4, [r6, #56]
 548:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphInc           = DMA_PINC_DISABLE;
 887              		.loc 1 548 41 view .LVU237
 888 00c2 4022     		movs	r2, #64
 889 00c4 C4E90152 		strd	r5, r2, [r4, #4]
 549:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemInc              = DMA_MINC_ENABLE;
 890              		.loc 1 549 5 is_stmt 1 view .LVU238
 550:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphDataAlignment = I2S3_DMAx_PERIPH_DATA_SIZE;
 891              		.loc 1 550 41 is_stmt 0 view .LVU239
 892 00c8 4FF48062 		mov	r2, #1024
 893 00cc C4E90352 		strd	r5, r2, [r4, #12]
 551:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemDataAlignment    = I2S3_DMAx_MEM_DATA_SIZE;
 894              		.loc 1 551 5 is_stmt 1 view .LVU240
 552:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 895              		.loc 1 552 41 is_stmt 0 view .LVU241
 896 00d0 4FF40061 		mov	r1, #2048
 897 00d4 4FF40052 		mov	r2, #8192
 898 00d8 C4E90512 		strd	r1, r2, [r4, #20]
 556:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /*************************** ACTIVATING DMA in CIRCULAR MODE !!! *****************************/
 899              		.loc 1 556 5 is_stmt 1 view .LVU242
 560:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOMode            = DMA_FIFOMODE_ENABLE;         
 900              		.loc 1 560 41 is_stmt 0 view .LVU243
 901 00dc 4FF48070 		mov	r0, #256
 902 00e0 4FF40032 		mov	r2, #131072
 903 00e4 C4E90702 		strd	r0, r2, [r4, #28]
 561:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 904              		.loc 1 561 5 is_stmt 1 view .LVU244
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 905              		.loc 1 562 41 is_stmt 0 view .LVU245
 906 00e8 4FF0040C 		mov	ip, #4
 907 00ec 0322     		movs	r2, #3
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 908              		.loc 1 572 5 view .LVU246
 909 00ee 2046     		mov	r0, r4
 562:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.MemBurst            = DMA_MBURST_SINGLE;
 910              		.loc 1 562 41 view .LVU247
 911 00f0 C4E909C2 		strd	ip, r2, [r4, #36]
 563:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sTx.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 912              		.loc 1 563 5 is_stmt 1 view .LVU248
 564:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 913              		.loc 1 564 41 is_stmt 0 view .LVU249
 914 00f4 C4E90B55 		strd	r5, r5, [r4, #44]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 31


 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 915              		.loc 1 566 5 is_stmt 1 view .LVU250
 566:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 916              		.loc 1 566 41 is_stmt 0 view .LVU251
 917 00f8 2360     		str	r3, [r4]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 918              		.loc 1 569 5 is_stmt 1 view .LVU252
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 919              		.loc 1 569 5 view .LVU253
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 920              		.loc 1 569 5 view .LVU254
 921 00fa A663     		str	r6, [r4, #56]
 569:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 922              		.loc 1 569 5 view .LVU255
 572:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 923              		.loc 1 572 5 view .LVU256
 924 00fc FFF7FEFF 		bl	HAL_DMA_DeInit
 925              	.LVL56:
 575:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 926              		.loc 1 575 5 view .LVU257
 927 0100 2046     		mov	r0, r4
 928 0102 FFF7FEFF 		bl	HAL_DMA_Init
 929              	.LVL57:
 930 0106 CFE7     		b	.L64
 931              	.L68:
 932              		.align	2
 933              	.L67:
 934 0108 00380240 		.word	1073887232
 935 010c 00080240 		.word	1073874944
 936 0110 00000240 		.word	1073872896
 937 0114 003C0040 		.word	1073757184
 938 0118 00000000 		.word	.LANCHOR5
 939 011c B8600240 		.word	1073897656
 940              		.cfi_endproc
 941              	.LFE143:
 943              		.section	.text.BSP_AUDIO_OUT_Init,"ax",%progbits
 944              		.align	1
 945              		.p2align 2,,3
 946              		.global	BSP_AUDIO_OUT_Init
 947              		.syntax unified
 948              		.thumb
 949              		.thumb_func
 951              	BSP_AUDIO_OUT_Init:
 952              	.LVL58:
 953              	.LFB130:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 954              		.loc 1 198 1 view -0
 955              		.cfi_startproc
 956              		@ args = 0, pretend = 0, frame = 0
 957              		@ frame_needed = 0, uses_anonymous_args = 0
 199:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 958              		.loc 1 199 3 view .LVU259
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 959              		.loc 1 202 3 view .LVU260
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 960              		.loc 1 198 1 is_stmt 0 view .LVU261
 961 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 32


 962              		.cfi_def_cfa_offset 24
 963              		.cfi_offset 4, -24
 964              		.cfi_offset 5, -20
 965              		.cfi_offset 6, -16
 966              		.cfi_offset 7, -12
 967              		.cfi_offset 8, -8
 968              		.cfi_offset 14, -4
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 969              		.loc 1 202 3 view .LVU262
 970 0004 214C     		ldr	r4, .L77
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 971              		.loc 1 198 1 view .LVU263
 972 0006 1546     		mov	r5, r2
 973 0008 0646     		mov	r6, r0
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 974              		.loc 1 202 3 view .LVU264
 975 000a 0022     		movs	r2, #0
 976              	.LVL59:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 977              		.loc 1 202 3 view .LVU265
 978 000c 2046     		mov	r0, r4
 979              	.LVL60:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 980              		.loc 1 198 1 view .LVU266
 981 000e 0F46     		mov	r7, r1
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 982              		.loc 1 202 3 view .LVU267
 983 0010 2946     		mov	r1, r5
 984              	.LVL61:
 202:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 985              		.loc 1 202 3 view .LVU268
 986 0012 FFF7FEFF 		bl	BSP_AUDIO_OUT_ClockConfig
 987              	.LVL62:
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 988              		.loc 1 206 3 is_stmt 1 view .LVU269
 206:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioOutI2s) == HAL_I2S_STATE_RESET)
 989              		.loc 1 206 25 is_stmt 0 view .LVU270
 990 0016 1E4B     		ldr	r3, .L77+4
 991 0018 2360     		str	r3, [r4]
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 992              		.loc 1 207 3 is_stmt 1 view .LVU271
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 993              		.loc 1 207 6 is_stmt 0 view .LVU272
 994 001a 2046     		mov	r0, r4
 995 001c FFF7FEFF 		bl	HAL_I2S_GetState
 996              	.LVL63:
 207:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 997              		.loc 1 207 5 view .LVU273
 998 0020 78B3     		cbz	r0, .L75
 999              	.L70:
 216:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1000              		.loc 1 216 3 is_stmt 1 view .LVU274
 1001              	.LVL64:
 1002              	.LBB21:
 1003              	.LBI21:
 652:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1004              		.loc 1 652 16 view .LVU275
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 33


 1005              	.LBB22:
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1006              		.loc 1 655 3 view .LVU276
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1007              		.loc 1 655 33 is_stmt 0 view .LVU277
 1008 0022 1B4B     		ldr	r3, .L77+4
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 1009              		.loc 1 661 33 view .LVU278
 1010 0024 6561     		str	r5, [r4, #20]
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1011              		.loc 1 658 3 view .LVU279
 1012 0026 DA69     		ldr	r2, [r3, #28]
 655:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1013              		.loc 1 655 33 view .LVU280
 1014 0028 2360     		str	r3, [r4]
 658:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1015              		.loc 1 658 3 is_stmt 1 view .LVU281
 1016 002a 22F48062 		bic	r2, r2, #1024
 1017 002e DA61     		str	r2, [r3, #28]
 661:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.ClockSource = I2S_CLOCK_PLL;
 1018              		.loc 1 661 3 view .LVU282
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 1019              		.loc 1 662 3 view .LVU283
 662:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.CPOL        = I2S_CPOL_LOW;
 1020              		.loc 1 662 33 is_stmt 0 view .LVU284
 1021 0030 0023     		movs	r3, #0
 663:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.DataFormat  = I2S_DATAFORMAT_16B;
 1022              		.loc 1 663 33 view .LVU285
 1023 0032 C4E90633 		strd	r3, r3, [r4, #24]
 664:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.MCLKOutput  = I2S_MCLKOUTPUT_ENABLE;
 1024              		.loc 1 664 3 is_stmt 1 view .LVU286
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 1025              		.loc 1 667 33 is_stmt 0 view .LVU287
 1026 0036 C4E90233 		strd	r3, r3, [r4, #8]
 1027              		.loc 1 669 6 view .LVU288
 1028 003a 1448     		ldr	r0, .L77
 665:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Mode        = I2S_MODE_MASTER_TX;
 1029              		.loc 1 665 33 view .LVU289
 1030 003c 4FF40073 		mov	r3, #512
 1031 0040 2361     		str	r3, [r4, #16]
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 1032              		.loc 1 666 3 is_stmt 1 view .LVU290
 666:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioOutI2s.Init.Standard    = I2S_STANDARD;
 1033              		.loc 1 666 33 is_stmt 0 view .LVU291
 1034 0042 6360     		str	r3, [r4, #4]
 667:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
 1035              		.loc 1 667 3 is_stmt 1 view .LVU292
 1036              		.loc 1 669 3 view .LVU293
 1037              		.loc 1 669 6 is_stmt 0 view .LVU294
 1038 0044 FFF7FEFF 		bl	HAL_I2S_Init
 1039              	.LVL65:
 1040              		.loc 1 669 5 view .LVU295
 1041 0048 0446     		mov	r4, r0
 1042 004a 48B9     		cbnz	r0, .L73
 670:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 671:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
 672:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 34


 673:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 674:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 675:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK;
 1043              		.loc 1 675 5 is_stmt 1 view .LVU296
 1044              	.LVL66:
 1045              		.loc 1 675 5 is_stmt 0 view .LVU297
 1046              	.LBE22:
 1047              	.LBE21:
 221:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1048              		.loc 1 221 3 is_stmt 1 view .LVU298
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1049              		.loc 1 224 5 view .LVU299
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1050              		.loc 1 224 21 is_stmt 0 view .LVU300
 1051 004c DFF84880 		ldr	r8, .L77+12
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1052              		.loc 1 224 10 view .LVU301
 1053 0050 9420     		movs	r0, #148
 1054 0052 D8F80830 		ldr	r3, [r8, #8]
 1055 0056 9847     		blx	r3
 1056              	.LVL67:
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1057              		.loc 1 224 49 view .LVU302
 1058 0058 00F0F800 		and	r0, r0, #248
 224:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     {  
 1059              		.loc 1 224 7 view .LVU303
 1060 005c E028     		cmp	r0, #224
 1061 005e 03D0     		beq	.L76
 1062              	.L73:
 198:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint8_t ret = AUDIO_OK;
 1063              		.loc 1 198 1 view .LVU304
 1064 0060 0124     		movs	r4, #1
 1065              	.LVL68:
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1066              		.loc 1 240 3 is_stmt 1 view .LVU305
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1067              		.loc 1 241 1 is_stmt 0 view .LVU306
 1068 0062 2046     		mov	r0, r4
 1069 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1070              	.LVL69:
 1071              	.L76:
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1072              		.loc 1 227 7 is_stmt 1 view .LVU307
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1073              		.loc 1 227 17 is_stmt 0 view .LVU308
 1074 0068 0A48     		ldr	r0, .L77+8
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1075              		.loc 1 237 5 view .LVU309
 1076 006a 2B46     		mov	r3, r5
 227:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     }
 1077              		.loc 1 227 17 view .LVU310
 1078 006c C0F80080 		str	r8, [r0]
 235:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1079              		.loc 1 235 3 is_stmt 1 view .LVU311
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1080              		.loc 1 237 5 view .LVU312
 1081 0070 D8F80050 		ldr	r5, [r8]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 35


 1082              	.LVL70:
 237:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1083              		.loc 1 237 5 is_stmt 0 view .LVU313
 1084 0074 3A46     		mov	r2, r7
 1085 0076 3146     		mov	r1, r6
 1086 0078 9420     		movs	r0, #148
 1087 007a A847     		blx	r5
 1088              	.LVL71:
 240:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1089              		.loc 1 240 3 is_stmt 1 view .LVU314
 241:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1090              		.loc 1 241 1 is_stmt 0 view .LVU315
 1091 007c 2046     		mov	r0, r4
 1092 007e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1093              	.LVL72:
 1094              	.L75:
 210:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1095              		.loc 1 210 5 is_stmt 1 view .LVU316
 1096 0082 0146     		mov	r1, r0
 1097 0084 2046     		mov	r0, r4
 1098 0086 FFF7FEFF 		bl	BSP_AUDIO_OUT_MspInit
 1099              	.LVL73:
 1100 008a CAE7     		b	.L70
 1101              	.L78:
 1102              		.align	2
 1103              	.L77:
 1104 008c 00000000 		.word	.LANCHOR1
 1105 0090 003C0040 		.word	1073757184
 1106 0094 00000000 		.word	.LANCHOR0
 1107 0098 00000000 		.word	cs43l22_drv
 1108              		.cfi_endproc
 1109              	.LFE130:
 1111              		.section	.text.BSP_AUDIO_OUT_MspDeInit,"ax",%progbits
 1112              		.align	1
 1113              		.p2align 2,,3
 1114              		.weak	BSP_AUDIO_OUT_MspDeInit
 1115              		.syntax unified
 1116              		.thumb
 1117              		.thumb_func
 1119              	BSP_AUDIO_OUT_MspDeInit:
 1120              	.LVL74:
 1121              	.LFB144:
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1122              		.loc 1 589 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 590:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1126              		.loc 1 590 3 view .LVU318
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1127              		.loc 1 593 3 view .LVU319
 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1128              		.loc 1 589 1 is_stmt 0 view .LVU320
 1129 0000 10B5     		push	{r4, lr}
 1130              		.cfi_def_cfa_offset 8
 1131              		.cfi_offset 4, -8
 1132              		.cfi_offset 14, -4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 36


 589:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1133              		.loc 1 589 1 view .LVU321
 1134 0002 0446     		mov	r4, r0
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1135              		.loc 1 593 3 view .LVU322
 1136 0004 2F20     		movs	r0, #47
 1137              	.LVL75:
 593:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1138              		.loc 1 593 3 view .LVU323
 1139 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1140              	.LVL76:
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1141              		.loc 1 595 3 is_stmt 1 view .LVU324
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1142              		.loc 1 595 10 is_stmt 0 view .LVU325
 1143 000a 2368     		ldr	r3, [r4]
 595:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1144              		.loc 1 595 5 view .LVU326
 1145 000c 0F4A     		ldr	r2, .L83
 1146 000e 9342     		cmp	r3, r2
 1147 0010 16D0     		beq	.L82
 1148              	.L80:
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1149              		.loc 1 602 3 is_stmt 1 view .LVU327
 1150 0012 DA69     		ldr	r2, [r3, #28]
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1151              		.loc 1 606 3 is_stmt 0 view .LVU328
 1152 0014 0E48     		ldr	r0, .L83+4
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1153              		.loc 1 602 3 view .LVU329
 1154 0016 22F48062 		bic	r2, r2, #1024
 1155 001a DA61     		str	r2, [r3, #28]
 605:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_SCK_SD_GPIO_PORT, GPIO_InitStruct.Pin);
 1156              		.loc 1 605 3 is_stmt 1 view .LVU330
 1157              	.LVL77:
 606:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1158              		.loc 1 606 3 view .LVU331
 1159 001c 4FF4A051 		mov	r1, #5120
 1160 0020 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1161              	.LVL78:
 609:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_WS_GPIO_PORT, GPIO_InitStruct.Pin);
 1162              		.loc 1 609 3 view .LVU332
 610:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1163              		.loc 1 610 3 view .LVU333
 1164 0024 0B48     		ldr	r0, .L83+8
 1165 0026 1021     		movs	r1, #16
 1166 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1167              	.LVL79:
 613:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S3_MCK_GPIO_PORT, GPIO_InitStruct.Pin); 
 1168              		.loc 1 613 3 view .LVU334
 614:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1169              		.loc 1 614 3 view .LVU335
 1170 002c 0848     		ldr	r0, .L83+4
 1171 002e 8021     		movs	r1, #128
 1172 0030 FFF7FEFF 		bl	HAL_GPIO_DeInit
 1173              	.LVL80:
 617:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 37


 1174              		.loc 1 617 3 view .LVU336
 1175 0034 084A     		ldr	r2, .L83+12
 1176 0036 136C     		ldr	r3, [r2, #64]
 1177 0038 23F40043 		bic	r3, r3, #32768
 1178 003c 1364     		str	r3, [r2, #64]
 621:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1179              		.loc 1 621 1 is_stmt 0 view .LVU337
 1180 003e 10BD     		pop	{r4, pc}
 1181              	.LVL81:
 1182              	.L82:
 598:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1183              		.loc 1 598 5 is_stmt 1 view .LVU338
 1184 0040 A06B     		ldr	r0, [r4, #56]
 1185 0042 FFF7FEFF 		bl	HAL_DMA_DeInit
 1186              	.LVL82:
 602:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1187              		.loc 1 602 3 is_stmt 0 view .LVU339
 1188 0046 2368     		ldr	r3, [r4]
 1189 0048 E3E7     		b	.L80
 1190              	.L84:
 1191 004a 00BF     		.align	2
 1192              	.L83:
 1193 004c 003C0040 		.word	1073757184
 1194 0050 00080240 		.word	1073874944
 1195 0054 00000240 		.word	1073872896
 1196 0058 00380240 		.word	1073887232
 1197              		.cfi_endproc
 1198              	.LFE144:
 1200              		.section	.text.BSP_AUDIO_OUT_TransferComplete_CallBack,"ax",%progbits
 1201              		.align	1
 1202              		.p2align 2,,3
 1203              		.weak	BSP_AUDIO_OUT_TransferComplete_CallBack
 1204              		.syntax unified
 1205              		.thumb
 1206              		.thumb_func
 1208              	BSP_AUDIO_OUT_TransferComplete_CallBack:
 1209              	.LFB145:
 627:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1210              		.loc 1 627 1 is_stmt 1 view -0
 1211              		.cfi_startproc
 1212              		@ args = 0, pretend = 0, frame = 0
 1213              		@ frame_needed = 0, uses_anonymous_args = 0
 1214              		@ link register save eliminated.
 628:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1215              		.loc 1 628 1 view .LVU341
 1216 0000 7047     		bx	lr
 1217              		.cfi_endproc
 1218              	.LFE145:
 1220 0002 00BF     		.section	.text.HAL_I2S_TxCpltCallback,"ax",%progbits
 1221              		.align	1
 1222              		.p2align 2,,3
 1223              		.global	HAL_I2S_TxCpltCallback
 1224              		.syntax unified
 1225              		.thumb
 1226              		.thumb_func
 1228              	HAL_I2S_TxCpltCallback:
 1229              	.LVL83:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 38


 1230              	.LFB140:
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1231              		.loc 1 440 1 view -0
 1232              		.cfi_startproc
 1233              		@ args = 0, pretend = 0, frame = 0
 1234              		@ frame_needed = 0, uses_anonymous_args = 0
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1235              		.loc 1 441 3 view .LVU343
 440:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1236              		.loc 1 440 1 is_stmt 0 view .LVU344
 1237 0000 08B5     		push	{r3, lr}
 1238              		.cfi_def_cfa_offset 8
 1239              		.cfi_offset 3, -8
 1240              		.cfi_offset 14, -4
 441:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1241              		.loc 1 441 5 view .LVU345
 1242 0002 0268     		ldr	r2, [r0]
 1243 0004 034B     		ldr	r3, .L90
 1244 0006 9A42     		cmp	r2, r3
 1245 0008 00D0     		beq	.L89
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1246              		.loc 1 446 1 view .LVU346
 1247 000a 08BD     		pop	{r3, pc}
 1248              	.L89:
 444:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1249              		.loc 1 444 5 is_stmt 1 view .LVU347
 1250 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_TransferComplete_CallBack
 1251              	.LVL84:
 446:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1252              		.loc 1 446 1 is_stmt 0 view .LVU348
 1253 0010 08BD     		pop	{r3, pc}
 1254              	.L91:
 1255 0012 00BF     		.align	2
 1256              	.L90:
 1257 0014 003C0040 		.word	1073757184
 1258              		.cfi_endproc
 1259              	.LFE140:
 1261              		.section	.text.BSP_AUDIO_OUT_HalfTransfer_CallBack,"ax",%progbits
 1262              		.align	1
 1263              		.p2align 2,,3
 1264              		.weak	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1265              		.syntax unified
 1266              		.thumb
 1267              		.thumb_func
 1269              	BSP_AUDIO_OUT_HalfTransfer_CallBack:
 1270              	.LFB168:
 1271              		.cfi_startproc
 1272              		@ args = 0, pretend = 0, frame = 0
 1273              		@ frame_needed = 0, uses_anonymous_args = 0
 1274              		@ link register save eliminated.
 1275 0000 7047     		bx	lr
 1276              		.cfi_endproc
 1277              	.LFE168:
 1279 0002 00BF     		.section	.text.HAL_I2S_TxHalfCpltCallback,"ax",%progbits
 1280              		.align	1
 1281              		.p2align 2,,3
 1282              		.global	HAL_I2S_TxHalfCpltCallback
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 39


 1283              		.syntax unified
 1284              		.thumb
 1285              		.thumb_func
 1287              	HAL_I2S_TxHalfCpltCallback:
 1288              	.LVL85:
 1289              	.LFB141:
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1290              		.loc 1 453 1 is_stmt 1 view -0
 1291              		.cfi_startproc
 1292              		@ args = 0, pretend = 0, frame = 0
 1293              		@ frame_needed = 0, uses_anonymous_args = 0
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1294              		.loc 1 454 3 view .LVU350
 453:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 1295              		.loc 1 453 1 is_stmt 0 view .LVU351
 1296 0000 08B5     		push	{r3, lr}
 1297              		.cfi_def_cfa_offset 8
 1298              		.cfi_offset 3, -8
 1299              		.cfi_offset 14, -4
 454:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1300              		.loc 1 454 5 view .LVU352
 1301 0002 0268     		ldr	r2, [r0]
 1302 0004 034B     		ldr	r3, .L97
 1303 0006 9A42     		cmp	r2, r3
 1304 0008 00D0     		beq	.L96
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1305              		.loc 1 460 1 view .LVU353
 1306 000a 08BD     		pop	{r3, pc}
 1307              	.L96:
 458:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1308              		.loc 1 458 5 is_stmt 1 view .LVU354
 1309 000c FFF7FEFF 		bl	BSP_AUDIO_OUT_HalfTransfer_CallBack
 1310              	.LVL86:
 460:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1311              		.loc 1 460 1 is_stmt 0 view .LVU355
 1312 0010 08BD     		pop	{r3, pc}
 1313              	.L98:
 1314 0012 00BF     		.align	2
 1315              	.L97:
 1316 0014 003C0040 		.word	1073757184
 1317              		.cfi_endproc
 1318              	.LFE141:
 1320              		.section	.text.BSP_AUDIO_OUT_Error_CallBack,"ax",%progbits
 1321              		.align	1
 1322              		.p2align 2,,3
 1323              		.weak	BSP_AUDIO_OUT_Error_CallBack
 1324              		.syntax unified
 1325              		.thumb
 1326              		.thumb_func
 1328              	BSP_AUDIO_OUT_Error_CallBack:
 1329              	.LFB170:
 1330              		.cfi_startproc
 1331              		@ args = 0, pretend = 0, frame = 0
 1332              		@ frame_needed = 0, uses_anonymous_args = 0
 1333              		@ link register save eliminated.
 1334 0000 7047     		bx	lr
 1335              		.cfi_endproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 40


 1336              	.LFE170:
 1338 0002 00BF     		.section	.text.BSP_AUDIO_IN_Record,"ax",%progbits
 1339              		.align	1
 1340              		.p2align 2,,3
 1341              		.global	BSP_AUDIO_IN_Record
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1346              	BSP_AUDIO_IN_Record:
 1347              	.LVL87:
 1348              	.LFB150:
 676:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 677:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 678:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 679:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 680:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
 681:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 682:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 683:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_Private_Functions STM32F4 DISCOVERY AUDIO IN Private Funct
 684:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
 685:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
 686:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 687:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 688:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes wave recording.
 689:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
 690:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  BitRes: Audio frequency to be configured for the I2S peripheral.
 691:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbr: Audio frequency to be configured for the I2S peripheral.
 692:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 693:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 694:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Init(uint32_t AudioFreq, uint32_t BitRes, uint32_t ChnlNbr)
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 696:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 697:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure PLL clock */ 
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_ClockConfig(&hAudioInI2s, AudioFreq, NULL);
 699:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 700:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the PDM library */
 701:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* On STM32F4-Discovery a single microphone is mounted, samples are duplicated
 702:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to make stereo audio streams */
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   PDMDecoder_Init(AudioFreq, ChnlNbr, 2);
 704:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 705:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S peripheral */
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance = I2S2;
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 708:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 709:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Initialize the I2S Msp: this __weak function can be rewritten by the application */
 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_MspInit(&hAudioInI2s, NULL);
 711:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 712:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 713:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Configure the I2S2 */
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_Init(AudioFreq);
 715:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 716:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 719:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 720:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 721:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Starts audio recording.
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 41


 722:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  pbuf: Main buffer pointer for the recorded data storing  
 723:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  size: Current size of the recorded buffer
 724:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 725:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 726:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Record(uint16_t* pbuf, uint32_t size)
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1349              		.loc 1 727 1 is_stmt 1 view -0
 1350              		.cfi_startproc
 1351              		@ args = 0, pretend = 0, frame = 0
 1352              		@ frame_needed = 0, uses_anonymous_args = 0
 728:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1353              		.loc 1 728 3 view .LVU357
 729:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 730:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Start the process receive DMA */
 731:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_Receive_DMA(&hAudioInI2s, pbuf, size);
 1354              		.loc 1 731 3 view .LVU358
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1355              		.loc 1 727 1 is_stmt 0 view .LVU359
 1356 0000 08B5     		push	{r3, lr}
 1357              		.cfi_def_cfa_offset 8
 1358              		.cfi_offset 3, -8
 1359              		.cfi_offset 14, -4
 727:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1360              		.loc 1 727 1 view .LVU360
 1361 0002 0346     		mov	r3, r0
 1362              		.loc 1 731 3 view .LVU361
 1363 0004 8AB2     		uxth	r2, r1
 1364 0006 0348     		ldr	r0, .L102
 1365              	.LVL88:
 1366              		.loc 1 731 3 view .LVU362
 1367 0008 1946     		mov	r1, r3
 1368              	.LVL89:
 1369              		.loc 1 731 3 view .LVU363
 1370 000a FFF7FEFF 		bl	HAL_I2S_Receive_DMA
 1371              	.LVL90:
 732:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 733:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 734:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 1372              		.loc 1 734 3 is_stmt 1 view .LVU364
 735:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 736:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 1373              		.loc 1 736 3 view .LVU365
 737:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1374              		.loc 1 737 1 is_stmt 0 view .LVU366
 1375 000e 0020     		movs	r0, #0
 1376 0010 08BD     		pop	{r3, pc}
 1377              	.L103:
 1378 0012 00BF     		.align	2
 1379              	.L102:
 1380 0014 00000000 		.word	.LANCHOR6
 1381              		.cfi_endproc
 1382              	.LFE150:
 1384              		.section	.text.BSP_AUDIO_IN_Stop,"ax",%progbits
 1385              		.align	1
 1386              		.p2align 2,,3
 1387              		.global	BSP_AUDIO_IN_Stop
 1388              		.syntax unified
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 42


 1389              		.thumb
 1390              		.thumb_func
 1392              	BSP_AUDIO_IN_Stop:
 1393              	.LFB151:
 738:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 739:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 740:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Stops audio recording.
 741:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 742:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 743:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Stop(void)
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1394              		.loc 1 744 1 is_stmt 1 view -0
 1395              		.cfi_startproc
 1396              		@ args = 0, pretend = 0, frame = 0
 1397              		@ frame_needed = 0, uses_anonymous_args = 0
 745:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1398              		.loc 1 745 3 view .LVU368
 1399              	.LVL91:
 746:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 747:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 748:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAStop(&hAudioInI2s);  
 1400              		.loc 1 748 3 view .LVU369
 744:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t ret = AUDIO_ERROR;
 1401              		.loc 1 744 1 is_stmt 0 view .LVU370
 1402 0000 08B5     		push	{r3, lr}
 1403              		.cfi_def_cfa_offset 8
 1404              		.cfi_offset 3, -8
 1405              		.cfi_offset 14, -4
 1406              		.loc 1 748 3 view .LVU371
 1407 0002 0248     		ldr	r0, .L106
 1408 0004 FFF7FEFF 		bl	HAL_I2S_DMAStop
 1409              	.LVL92:
 749:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 750:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 751:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   ret = AUDIO_OK;
 1410              		.loc 1 751 3 is_stmt 1 view .LVU372
 752:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 753:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return ret;
 1411              		.loc 1 753 3 view .LVU373
 754:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1412              		.loc 1 754 1 is_stmt 0 view .LVU374
 1413 0008 0020     		movs	r0, #0
 1414 000a 08BD     		pop	{r3, pc}
 1415              	.L107:
 1416              		.align	2
 1417              	.L106:
 1418 000c 00000000 		.word	.LANCHOR6
 1419              		.cfi_endproc
 1420              	.LFE151:
 1422              		.section	.text.BSP_AUDIO_IN_Pause,"ax",%progbits
 1423              		.align	1
 1424              		.p2align 2,,3
 1425              		.global	BSP_AUDIO_IN_Pause
 1426              		.syntax unified
 1427              		.thumb
 1428              		.thumb_func
 1430              	BSP_AUDIO_IN_Pause:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 43


 1431              	.LFB152:
 755:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 756:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 757:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Pauses the audio file stream.
 758:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 759:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 760:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Pause(void)
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 1432              		.loc 1 761 1 is_stmt 1 view -0
 1433              		.cfi_startproc
 1434              		@ args = 0, pretend = 0, frame = 0
 1435              		@ frame_needed = 0, uses_anonymous_args = 0
 762:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 763:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAPause(&hAudioInI2s);
 1436              		.loc 1 763 3 view .LVU376
 761:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause function */
 1437              		.loc 1 761 1 is_stmt 0 view .LVU377
 1438 0000 08B5     		push	{r3, lr}
 1439              		.cfi_def_cfa_offset 8
 1440              		.cfi_offset 3, -8
 1441              		.cfi_offset 14, -4
 1442              		.loc 1 763 3 view .LVU378
 1443 0002 0248     		ldr	r0, .L110
 1444 0004 FFF7FEFF 		bl	HAL_I2S_DMAPause
 1445              	.LVL93:
 764:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 765:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 766:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1446              		.loc 1 766 3 is_stmt 1 view .LVU379
 767:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1447              		.loc 1 767 1 is_stmt 0 view .LVU380
 1448 0008 0020     		movs	r0, #0
 1449 000a 08BD     		pop	{r3, pc}
 1450              	.L111:
 1451              		.align	2
 1452              	.L110:
 1453 000c 00000000 		.word	.LANCHOR6
 1454              		.cfi_endproc
 1455              	.LFE152:
 1457              		.section	.text.BSP_AUDIO_IN_Resume,"ax",%progbits
 1458              		.align	1
 1459              		.p2align 2,,3
 1460              		.global	BSP_AUDIO_IN_Resume
 1461              		.syntax unified
 1462              		.thumb
 1463              		.thumb_func
 1465              	BSP_AUDIO_IN_Resume:
 1466              	.LFB153:
 768:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 769:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 770:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Resumes the audio file stream.    
 771:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 772:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 773:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_Resume(void)
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {    
 1467              		.loc 1 774 1 is_stmt 1 view -0
 1468              		.cfi_startproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 44


 1469              		@ args = 0, pretend = 0, frame = 0
 1470              		@ frame_needed = 0, uses_anonymous_args = 0
 775:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 776:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_I2S_DMAResume(&hAudioInI2s);
 1471              		.loc 1 776 3 view .LVU382
 774:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the Media layer pause/resume function */
 1472              		.loc 1 774 1 is_stmt 0 view .LVU383
 1473 0000 08B5     		push	{r3, lr}
 1474              		.cfi_def_cfa_offset 8
 1475              		.cfi_offset 3, -8
 1476              		.cfi_offset 14, -4
 1477              		.loc 1 776 3 view .LVU384
 1478 0002 0248     		ldr	r0, .L114
 1479 0004 FFF7FEFF 		bl	HAL_I2S_DMAResume
 1480              	.LVL94:
 777:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 778:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 779:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1481              		.loc 1 779 3 is_stmt 1 view .LVU385
 780:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1482              		.loc 1 780 1 is_stmt 0 view .LVU386
 1483 0008 0020     		movs	r0, #0
 1484 000a 08BD     		pop	{r3, pc}
 1485              	.L115:
 1486              		.align	2
 1487              	.L114:
 1488 000c 00000000 		.word	.LANCHOR6
 1489              		.cfi_endproc
 1490              	.LFE153:
 1492              		.section	.text.BSP_AUDIO_IN_SetVolume,"ax",%progbits
 1493              		.align	1
 1494              		.p2align 2,,3
 1495              		.global	BSP_AUDIO_IN_SetVolume
 1496              		.syntax unified
 1497              		.thumb
 1498              		.thumb_func
 1500              	BSP_AUDIO_IN_SetVolume:
 1501              	.LVL95:
 1502              	.LFB154:
 781:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 782:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 783:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Controls the audio in volume level. 
 784:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Volume: Volume level to be set in percentage from 0% to 100% (0 for 
 785:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Mute and 100 for Max volume level).
 786:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 787:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 788:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_SetVolume(uint8_t Volume)
 789:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1503              		.loc 1 789 1 is_stmt 1 view -0
 1504              		.cfi_startproc
 1505              		@ args = 0, pretend = 0, frame = 0
 1506              		@ frame_needed = 0, uses_anonymous_args = 0
 1507              		@ link register save eliminated.
 790:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Set the Global variable AudioInVolume */
 791:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   AudioInVolume = Volume; 
 1508              		.loc 1 791 3 view .LVU388
 1509              		.loc 1 791 17 is_stmt 0 view .LVU389
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 45


 1510 0000 014B     		ldr	r3, .L117
 1511 0002 1880     		strh	r0, [r3]	@ movhi
 792:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 793:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 794:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK;
 1512              		.loc 1 794 3 is_stmt 1 view .LVU390
 795:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1513              		.loc 1 795 1 is_stmt 0 view .LVU391
 1514 0004 0020     		movs	r0, #0
 1515              	.LVL96:
 1516              		.loc 1 795 1 view .LVU392
 1517 0006 7047     		bx	lr
 1518              	.L118:
 1519              		.align	2
 1520              	.L117:
 1521 0008 00000000 		.word	.LANCHOR7
 1522              		.cfi_endproc
 1523              	.LFE154:
 1525              		.section	.text.BSP_AUDIO_IN_PDMToPCM,"ax",%progbits
 1526              		.align	1
 1527              		.p2align 2,,3
 1528              		.global	BSP_AUDIO_IN_PDMToPCM
 1529              		.syntax unified
 1530              		.thumb
 1531              		.thumb_func
 1533              	BSP_AUDIO_IN_PDMToPCM:
 1534              	.LVL97:
 1535              	.LFB155:
 796:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 797:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 798:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Converts audio format from PDM to PCM.
 799:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PDMBuf: Pointer to data PDM buffer
 800:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  PCMBuf: Pointer to data PCM buffer
 801:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @retval AUDIO_OK if correct communication, else wrong communication
 802:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 803:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** uint8_t BSP_AUDIO_IN_PDMToPCM(uint16_t *PDMBuf, uint16_t *PCMBuf)
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1536              		.loc 1 804 1 is_stmt 1 view -0
 1537              		.cfi_startproc
 1538              		@ args = 0, pretend = 0, frame = 128
 1539              		@ frame_needed = 0, uses_anonymous_args = 0
 805:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1540              		.loc 1 805 3 view .LVU394
 806:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0; 
 1541              		.loc 1 806 3 view .LVU395
 807:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 808:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PDM Demux */
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index<INTERNAL_BUFF_SIZE/2; index++)
 1542              		.loc 1 809 3 view .LVU396
 1543              		.loc 1 809 23 view .LVU397
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1544              		.loc 1 804 1 is_stmt 0 view .LVU398
 1545 0000 10B5     		push	{r4, lr}
 1546              		.cfi_def_cfa_offset 8
 1547              		.cfi_offset 4, -8
 1548              		.cfi_offset 14, -4
 1549 0002 A0B0     		sub	sp, sp, #128
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 46


 1550              		.cfi_def_cfa_offset 136
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1551              		.loc 1 804 1 view .LVU399
 1552 0004 0C46     		mov	r4, r1
 1553 0006 0238     		subs	r0, r0, #2
 1554              	.LVL98:
 804:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint16_t AppPDM[INTERNAL_BUFF_SIZE/2];
 1555              		.loc 1 804 1 view .LVU400
 1556 0008 6A46     		mov	r2, sp
 1557 000a 0DF1800C 		add	ip, sp, #128
 1558              	.LVL99:
 1559              	.L120:
 810:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 811:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     AppPDM[index] = HTONS(PDMBuf[index]);
 1560              		.loc 1 811 5 is_stmt 1 discriminator 3 view .LVU401
 1561              		.loc 1 811 19 is_stmt 0 discriminator 3 view .LVU402
 1562 000e 30F8023F 		ldrh	r3, [r0, #2]!
 1563 0012 5BBA     		rev16	r3, r3
 1564 0014 22F8023B 		strh	r3, [r2], #2	@ movhi
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1565              		.loc 1 809 51 is_stmt 1 discriminator 3 view .LVU403
 809:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1566              		.loc 1 809 23 discriminator 3 view .LVU404
 1567 0018 9445     		cmp	ip, r2
 1568 001a F8D1     		bne	.L120
 1569              	.LVL100:
 812:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 813:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < DEFAULT_AUDIO_IN_CHANNEL_NBR; index++)
 1570              		.loc 1 814 24 discriminator 1 view .LVU405
 815:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 816:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM to PCM filter */
 817:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 	PDM_Filter((uint8_t*)&AppPDM[index], (uint16_t*)&(PCMBuf[index]), &PDM_FilterHandler[index]);
 1571              		.loc 1 817 2 discriminator 1 view .LVU406
 1572 001c 2146     		mov	r1, r4
 1573              	.LVL101:
 1574              		.loc 1 817 2 is_stmt 0 discriminator 1 view .LVU407
 1575 001e 084A     		ldr	r2, .L125
 1576 0020 6846     		mov	r0, sp
 1577 0022 FFF7FEFF 		bl	PDM_Filter
 1578              	.LVL102:
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1579              		.loc 1 814 61 is_stmt 1 discriminator 1 view .LVU408
 814:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1580              		.loc 1 814 24 discriminator 1 view .LVU409
 818:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 819:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Duplicate samples since a single microphone in mounted on STM32F4-Discovery */
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < PCM_OUT_SIZE; index++)
 1581              		.loc 1 820 24 discriminator 1 view .LVU410
 1582              		.loc 1 820 13 is_stmt 0 discriminator 1 view .LVU411
 1583 0026 0023     		movs	r3, #0
 1584 0028 A11C     		adds	r1, r4, #2
 1585              	.LVL103:
 1586              	.L121:
 821:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 822:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PCMBuf[(index<<1)+1] = PCMBuf[index<<1];
 1587              		.loc 1 822 5 is_stmt 1 discriminator 3 view .LVU412
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 47


 1588              		.loc 1 822 34 is_stmt 0 discriminator 3 view .LVU413
 1589 002a 34F82320 		ldrh	r2, [r4, r3, lsl #2]
 1590              		.loc 1 822 26 discriminator 3 view .LVU414
 1591 002e 21F82320 		strh	r2, [r1, r3, lsl #2]	@ movhi
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1592              		.loc 1 820 45 is_stmt 1 discriminator 3 view .LVU415
 1593 0032 0133     		adds	r3, r3, #1
 1594              	.LVL104:
 820:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 1595              		.loc 1 820 24 discriminator 3 view .LVU416
 1596 0034 102B     		cmp	r3, #16
 1597 0036 F8D1     		bne	.L121
 823:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 824:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 825:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Return AUDIO_OK when all operations are correctly done */
 826:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   return AUDIO_OK; 
 1598              		.loc 1 826 3 view .LVU417
 827:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1599              		.loc 1 827 1 is_stmt 0 view .LVU418
 1600 0038 0020     		movs	r0, #0
 1601 003a 20B0     		add	sp, sp, #128
 1602              		.cfi_def_cfa_offset 8
 1603              		@ sp needed
 1604 003c 10BD     		pop	{r4, pc}
 1605              	.LVL105:
 1606              	.L126:
 1607              		.loc 1 827 1 view .LVU419
 1608 003e 00BF     		.align	2
 1609              	.L125:
 1610 0040 00000000 		.word	.LANCHOR8
 1611              		.cfi_endproc
 1612              	.LFE155:
 1614              		.section	.text.BSP_AUDIO_IN_ClockConfig,"ax",%progbits
 1615              		.align	1
 1616              		.p2align 2,,3
 1617              		.weak	BSP_AUDIO_IN_ClockConfig
 1618              		.syntax unified
 1619              		.thumb
 1620              		.thumb_func
 1622              	BSP_AUDIO_IN_ClockConfig:
 1623              	.LVL106:
 1624              	.LFB158:
 828:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 829:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 830:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Transfer completed callbacks
 831:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 832:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 833:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxCpltCallback(I2S_HandleTypeDef *hi2s)
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 835:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_TransferComplete_CallBack();
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 838:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 839:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 840:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Rx Half Transfer completed callbacks.
 841:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 842:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 48


 843:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_RxHalfCpltCallback(I2S_HandleTypeDef *hi2s)
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 845:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 846:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   BSP_AUDIO_IN_HalfTransfer_CallBack();
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 849:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 850:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 851:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio In Clock Config.
 852:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 853:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency used to record the audio stream.  
 854:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.   
 855:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This API is called by BSP_AUDIO_IN_Init()
 856:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Being __weak it can be overwritten by the application
 857:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 858:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_ClockConfig(I2S_HandleTypeDef *hi2s, uint32_t AudioFreq, void *Params)
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1625              		.loc 1 859 1 is_stmt 1 view -0
 1626              		.cfi_startproc
 1627              		@ args = 0, pretend = 0, frame = 16
 1628              		@ frame_needed = 0, uses_anonymous_args = 0
 860:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1629              		.loc 1 860 3 view .LVU421
 861:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 862:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /*Enable PLLI2S clock*/
 863:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_RCCEx_GetPeriphCLKConfig(&rccclkinit);
 1630              		.loc 1 863 3 view .LVU422
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1631              		.loc 1 859 1 is_stmt 0 view .LVU423
 1632 0000 10B5     		push	{r4, lr}
 1633              		.cfi_def_cfa_offset 8
 1634              		.cfi_offset 4, -8
 1635              		.cfi_offset 14, -4
 1636 0002 84B0     		sub	sp, sp, #16
 1637              		.cfi_def_cfa_offset 24
 1638              		.loc 1 863 3 view .LVU424
 1639 0004 6846     		mov	r0, sp
 1640              	.LVL107:
 859:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   RCC_PeriphCLKInitTypeDef rccclkinit;
 1641              		.loc 1 859 1 view .LVU425
 1642 0006 0C46     		mov	r4, r1
 1643              		.loc 1 863 3 view .LVU426
 1644 0008 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKConfig
 1645              	.LVL108:
 864:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* PLLI2S_VCO Input = HSE_VALUE/PLL_M = 1 Mhz */
 865:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if ((AudioFreq & 0x7) == 0)
 1646              		.loc 1 865 3 is_stmt 1 view .LVU427
 1647              		.loc 1 865 6 is_stmt 0 view .LVU428
 1648 000c 6307     		lsls	r3, r4, #29
 866:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 867:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Audio frequency multiple of 8 (8/16/32/48/96/192)*/
 868:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 192 Mhz */
 869:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 192/6 = 32 Mhz */
 870:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 1649              		.loc 1 870 5 is_stmt 1 view .LVU429
 1650              		.loc 1 870 37 is_stmt 0 view .LVU430
 1651 000e 4FF00101 		mov	r1, #1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 49


 871:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 192;
 1652              		.loc 1 871 31 view .LVU431
 1653 0012 07BF     		ittee	eq
 1654 0014 C022     		moveq	r2, #192
 872:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 6;
 1655              		.loc 1 872 31 view .LVU432
 1656 0016 0623     		moveq	r3, #6
 873:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 874:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 875:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
 876:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 877:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Other Frequency (11.025/22.500/44.100) */
 878:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PLLI2S_VCO Output = PLLI2S_VCO Input * PLLI2SN = 290 Mhz */
 879:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* I2SCLK = PLLI2S_VCO Output/PLLI2SR = 290/2 = 145 Mhz */
 880:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PeriphClockSelection = RCC_PERIPHCLK_I2S;
 1657              		.loc 1 880 5 is_stmt 1 view .LVU433
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1658              		.loc 1 881 31 is_stmt 0 view .LVU434
 1659 0018 4FF49172 		movne	r2, #290
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1660              		.loc 1 882 31 view .LVU435
 1661 001c 0223     		movne	r3, #2
 883:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_RCCEx_PeriphCLKConfig(&rccclkinit);
 1662              		.loc 1 883 5 view .LVU436
 1663 001e 6846     		mov	r0, sp
 881:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SN = 290;
 1664              		.loc 1 881 31 view .LVU437
 1665 0020 CDE90012 		strd	r1, r2, [sp]
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1666              		.loc 1 882 5 is_stmt 1 view .LVU438
 882:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     rccclkinit.PLLI2S.PLLI2SR = 2;
 1667              		.loc 1 882 31 is_stmt 0 view .LVU439
 1668 0024 0293     		str	r3, [sp, #8]
 1669              		.loc 1 883 5 is_stmt 1 view .LVU440
 1670 0026 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1671              	.LVL109:
 884:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 885:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1672              		.loc 1 885 1 is_stmt 0 view .LVU441
 1673 002a 04B0     		add	sp, sp, #16
 1674              		.cfi_def_cfa_offset 8
 1675              		@ sp needed
 1676 002c 10BD     		pop	{r4, pc}
 1677              		.loc 1 885 1 view .LVU442
 1678              		.cfi_endproc
 1679              	.LFE158:
 1681 002e 00BF     		.section	.text.BSP_AUDIO_IN_MspInit,"ax",%progbits
 1682              		.align	1
 1683              		.p2align 2,,3
 1684              		.weak	BSP_AUDIO_IN_MspInit
 1685              		.syntax unified
 1686              		.thumb
 1687              		.thumb_func
 1689              	BSP_AUDIO_IN_MspInit:
 1690              	.LVL110:
 1691              	.LFB159:
 886:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 50


 887:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 888:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  BSP AUDIO IN MSP Init.
 889:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 890:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 891:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 892:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspInit(I2S_HandleTypeDef *hi2s, void *Params)
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 1692              		.loc 1 893 1 is_stmt 1 view -0
 1693              		.cfi_startproc
 1694              		@ args = 0, pretend = 0, frame = 40
 1695              		@ frame_needed = 0, uses_anonymous_args = 0
 894:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1696              		.loc 1 894 3 view .LVU444
 895:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  GPIO_InitStruct;
 1697              		.loc 1 895 3 view .LVU445
 896:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 897:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the I2S2 peripheral clock */
 898:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_ENABLE();
 1698              		.loc 1 898 3 view .LVU446
 1699              	.LBB23:
 1700              		.loc 1 898 3 view .LVU447
 1701              	.LBE23:
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1702              		.loc 1 893 1 is_stmt 0 view .LVU448
 1703 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1704              		.cfi_def_cfa_offset 24
 1705              		.cfi_offset 4, -24
 1706              		.cfi_offset 5, -20
 1707              		.cfi_offset 6, -16
 1708              		.cfi_offset 7, -12
 1709              		.cfi_offset 8, -8
 1710              		.cfi_offset 14, -4
 1711 0004 8AB0     		sub	sp, sp, #40
 1712              		.cfi_def_cfa_offset 64
 1713              	.LBB24:
 1714              		.loc 1 898 3 view .LVU449
 1715 0006 394C     		ldr	r4, .L136
 1716 0008 0025     		movs	r5, #0
 1717 000a 0195     		str	r5, [sp, #4]
 1718              		.loc 1 898 3 is_stmt 1 view .LVU450
 1719 000c 236C     		ldr	r3, [r4, #64]
 1720 000e 43F48043 		orr	r3, r3, #16384
 1721 0012 2364     		str	r3, [r4, #64]
 1722              		.loc 1 898 3 view .LVU451
 1723 0014 236C     		ldr	r3, [r4, #64]
 1724 0016 03F48043 		and	r3, r3, #16384
 1725 001a 0193     		str	r3, [sp, #4]
 1726              		.loc 1 898 3 view .LVU452
 1727 001c 019B     		ldr	r3, [sp, #4]
 1728              	.LBE24:
 1729              		.loc 1 898 3 view .LVU453
 899:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 900:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable I2S GPIO clocks */
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_SCK_GPIO_CLK_ENABLE();
 1730              		.loc 1 901 3 view .LVU454
 1731              	.LBB25:
 1732              		.loc 1 901 3 view .LVU455
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 51


 1733 001e 0295     		str	r5, [sp, #8]
 1734              		.loc 1 901 3 view .LVU456
 1735 0020 236B     		ldr	r3, [r4, #48]
 1736              	.LBE25:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 903:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 904:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 pins configuration: SCK and MOSI pins ------------------------------*/
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Mode      = GPIO_MODE_AF_PP;
 1737              		.loc 1 905 29 is_stmt 0 view .LVU457
 1738 0022 0222     		movs	r2, #2
 1739              	.LBB26:
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1740              		.loc 1 901 3 view .LVU458
 1741 0024 1343     		orrs	r3, r3, r2
 1742 0026 2363     		str	r3, [r4, #48]
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1743              		.loc 1 901 3 is_stmt 1 view .LVU459
 1744 0028 236B     		ldr	r3, [r4, #48]
 1745 002a 1340     		ands	r3, r3, r2
 1746 002c 0293     		str	r3, [sp, #8]
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1747              		.loc 1 901 3 view .LVU460
 1748 002e 029B     		ldr	r3, [sp, #8]
 1749              	.LBE26:
 901:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1750              		.loc 1 901 3 view .LVU461
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1751              		.loc 1 902 3 view .LVU462
 1752              	.LBB27:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1753              		.loc 1 902 3 view .LVU463
 1754 0030 0395     		str	r5, [sp, #12]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1755              		.loc 1 902 3 view .LVU464
 1756 0032 236B     		ldr	r3, [r4, #48]
 1757 0034 43F00403 		orr	r3, r3, #4
 1758 0038 2363     		str	r3, [r4, #48]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1759              		.loc 1 902 3 view .LVU465
 1760 003a 236B     		ldr	r3, [r4, #48]
 1761              	.LBE27:
 1762              		.loc 1 905 29 is_stmt 0 view .LVU466
 1763 003c 0692     		str	r2, [sp, #24]
 1764              	.LBB28:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1765              		.loc 1 902 3 view .LVU467
 1766 003e 03F00403 		and	r3, r3, #4
 1767              	.LBE28:
 893:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   static DMA_HandleTypeDef hdma_i2sRx;
 1768              		.loc 1 893 1 view .LVU468
 1769 0042 0646     		mov	r6, r0
 1770              	.LBB29:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1771              		.loc 1 902 3 view .LVU469
 1772 0044 0393     		str	r3, [sp, #12]
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_MOSI_GPIO_CLK_ENABLE();
 1773              		.loc 1 902 3 is_stmt 1 view .LVU470
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 52


 1774              	.LBE29:
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Speed     = GPIO_SPEED_FAST;
 908:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_SCK_PIN; 
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 911:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1775              		.loc 1 911 3 is_stmt 0 view .LVU471
 1776 0046 2A48     		ldr	r0, .L136+4
 1777              	.LVL111:
 1778              	.LBB30:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1779              		.loc 1 902 3 view .LVU472
 1780 0048 039B     		ldr	r3, [sp, #12]
 1781              	.LBE30:
 902:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1782              		.loc 1 902 3 is_stmt 1 view .LVU473
 905:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 1783              		.loc 1 905 3 view .LVU474
 906:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pull      = GPIO_NOPULL;
 1784              		.loc 1 906 3 view .LVU475
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1785              		.loc 1 910 29 is_stmt 0 view .LVU476
 1786 004a 4FF00508 		mov	r8, #5
 1787              		.loc 1 911 3 view .LVU477
 1788 004e 05A9     		add	r1, sp, #20
 1789              	.LVL112:
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1790              		.loc 1 909 29 view .LVU478
 1791 0050 4FF48067 		mov	r7, #1024
 907:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1792              		.loc 1 907 29 view .LVU479
 1793 0054 CDE90752 		strd	r5, r2, [sp, #28]
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1794              		.loc 1 909 3 is_stmt 1 view .LVU480
 909:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_SCK_AF;
 1795              		.loc 1 909 29 is_stmt 0 view .LVU481
 1796 0058 0597     		str	r7, [sp, #20]
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1797              		.loc 1 910 3 is_stmt 1 view .LVU482
 910:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_SCK_GPIO_PORT, &GPIO_InitStruct);
 1798              		.loc 1 910 29 is_stmt 0 view .LVU483
 1799 005a CDF82480 		str	r8, [sp, #36]
 1800              		.loc 1 911 3 is_stmt 1 view .LVU484
 1801 005e FFF7FEFF 		bl	HAL_GPIO_Init
 1802              	.LVL113:
 912:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Pin       = I2S2_MOSI_PIN ;
 1803              		.loc 1 913 3 view .LVU485
 1804              		.loc 1 913 29 is_stmt 0 view .LVU486
 1805 0062 0823     		movs	r3, #8
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 915:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_Init(I2S2_MOSI_GPIO_PORT, &GPIO_InitStruct); 
 1806              		.loc 1 915 3 view .LVU487
 1807 0064 05A9     		add	r1, sp, #20
 1808 0066 2348     		ldr	r0, .L136+8
 913:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 53


 1809              		.loc 1 913 29 view .LVU488
 1810 0068 0593     		str	r3, [sp, #20]
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1811              		.loc 1 914 3 is_stmt 1 view .LVU489
 1812              		.loc 1 915 3 view .LVU490
 914:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitStruct.Alternate = I2S2_MOSI_AF;
 1813              		.loc 1 914 29 is_stmt 0 view .LVU491
 1814 006a CDF82480 		str	r8, [sp, #36]
 1815              		.loc 1 915 3 view .LVU492
 1816 006e FFF7FEFF 		bl	HAL_GPIO_Init
 1817              	.LVL114:
 916:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 917:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable the DMA clock */
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_DMAx_CLK_ENABLE();
 1818              		.loc 1 918 3 is_stmt 1 view .LVU493
 1819              	.LBB31:
 1820              		.loc 1 918 3 view .LVU494
 1821 0072 0495     		str	r5, [sp, #16]
 1822              		.loc 1 918 3 view .LVU495
 1823 0074 236B     		ldr	r3, [r4, #48]
 1824              	.LBE31:
 919:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 920:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 1825              		.loc 1 920 5 is_stmt 0 view .LVU496
 1826 0076 3268     		ldr	r2, [r6]
 1827              	.LBB32:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1828              		.loc 1 918 3 view .LVU497
 1829 0078 43F40013 		orr	r3, r3, #2097152
 1830 007c 2363     		str	r3, [r4, #48]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1831              		.loc 1 918 3 is_stmt 1 view .LVU498
 1832 007e 236B     		ldr	r3, [r4, #48]
 1833 0080 03F40013 		and	r3, r3, #2097152
 1834 0084 0493     		str	r3, [sp, #16]
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1835              		.loc 1 918 3 view .LVU499
 1836              	.LBE32:
 1837              		.loc 1 920 5 is_stmt 0 view .LVU500
 1838 0086 1C4B     		ldr	r3, .L136+12
 1839              	.LBB33:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1840              		.loc 1 918 3 view .LVU501
 1841 0088 0499     		ldr	r1, [sp, #16]
 1842              	.LBE33:
 918:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1843              		.loc 1 918 3 is_stmt 1 view .LVU502
 1844              		.loc 1 920 3 view .LVU503
 1845              		.loc 1 920 5 is_stmt 0 view .LVU504
 1846 008a 9A42     		cmp	r2, r3
 1847 008c 0AD0     		beq	.L135
 1848              	.L133:
 921:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 922:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the hdma_i2sRx handle parameters */   
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Channel             = I2S2_DMAx_CHANNEL;
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 54


 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
 935:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Instance = I2S2_DMAx_STREAM;
 937:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 938:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Associate the DMA handle */
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     __HAL_LINKDMA(hi2s, hdmarx, hdma_i2sRx);
 940:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 941:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(&hdma_i2sRx);
 943:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 944:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Configure the DMA Stream */
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_Init(&hdma_i2sRx);      
 946:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 947:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 948:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel configuration */
 949:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_SetPriority(I2S2_DMAx_IRQ, AUDIO_IN_IRQ_PREPRIO, 0);
 1849              		.loc 1 949 3 is_stmt 1 view .LVU505
 1850 008e 0022     		movs	r2, #0
 1851 0090 0F21     		movs	r1, #15
 1852 0092 0E20     		movs	r0, #14
 1853 0094 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1854              	.LVL115:
 950:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_EnableIRQ(I2S2_DMAx_IRQ); 
 1855              		.loc 1 950 3 view .LVU506
 1856 0098 0E20     		movs	r0, #14
 1857 009a FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1858              	.LVL116:
 951:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 1859              		.loc 1 951 1 is_stmt 0 view .LVU507
 1860 009e 0AB0     		add	sp, sp, #40
 1861              		.cfi_remember_state
 1862              		.cfi_def_cfa_offset 24
 1863              		@ sp needed
 1864 00a0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1865              	.LVL117:
 1866              	.L135:
 1867              		.cfi_restore_state
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1868              		.loc 1 923 5 is_stmt 1 view .LVU508
 923:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Direction           = DMA_PERIPH_TO_MEMORY;
 1869              		.loc 1 923 41 is_stmt 0 view .LVU509
 1870 00a4 154C     		ldr	r4, .L136+16
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1871              		.loc 1 939 5 view .LVU510
 1872 00a6 F463     		str	r4, [r6, #60]
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1873              		.loc 1 936 25 view .LVU511
 1874 00a8 03F50A33 		add	r3, r3, #141312
 1875 00ac 5833     		adds	r3, r3, #88
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 55


 1876 00ae 2360     		str	r3, [r4]
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 1877              		.loc 1 928 41 view .LVU512
 1878 00b0 4FF40051 		mov	r1, #8192
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 1879              		.loc 1 927 41 view .LVU513
 1880 00b4 4FF40062 		mov	r2, #2048
 929:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Priority            = DMA_PRIORITY_HIGH;
 1881              		.loc 1 929 41 view .LVU514
 1882 00b8 4FF48073 		mov	r3, #256
 1883 00bc C4E90613 		strd	r1, r3, [r4, #24]
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 1884              		.loc 1 927 41 view .LVU515
 1885 00c0 6261     		str	r2, [r4, #20]
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1886              		.loc 1 932 41 view .LVU516
 1887 00c2 0323     		movs	r3, #3
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 1888              		.loc 1 930 41 view .LVU517
 1889 00c4 4FF40032 		mov	r2, #131072
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1890              		.loc 1 942 5 view .LVU518
 1891 00c8 2046     		mov	r0, r4
 924:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphInc           = DMA_PINC_DISABLE;
 1892              		.loc 1 924 41 view .LVU519
 1893 00ca C4E90155 		strd	r5, r5, [r4, #4]
 925:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemInc              = DMA_MINC_ENABLE;
 1894              		.loc 1 925 5 is_stmt 1 view .LVU520
 926:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphDataAlignment = I2S2_DMAx_PERIPH_DATA_SIZE;
 1895              		.loc 1 926 41 is_stmt 0 view .LVU521
 1896 00ce C4E90357 		strd	r5, r7, [r4, #12]
 927:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemDataAlignment    = I2S2_DMAx_MEM_DATA_SIZE;
 1897              		.loc 1 927 5 is_stmt 1 view .LVU522
 928:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.Mode                = DMA_CIRCULAR;
 1898              		.loc 1 928 5 view .LVU523
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 1899              		.loc 1 930 5 view .LVU524
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1900              		.loc 1 934 41 is_stmt 0 view .LVU525
 1901 00d2 C4E90B55 		strd	r5, r5, [r4, #44]
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 1902              		.loc 1 931 41 view .LVU526
 1903 00d6 6562     		str	r5, [r4, #36]
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1904              		.loc 1 939 5 view .LVU527
 1905 00d8 A663     		str	r6, [r4, #56]
 930:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;         
 1906              		.loc 1 930 41 view .LVU528
 1907 00da 2262     		str	r2, [r4, #32]
 931:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 1908              		.loc 1 931 5 is_stmt 1 view .LVU529
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1909              		.loc 1 932 5 view .LVU530
 932:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.MemBurst            = DMA_MBURST_SINGLE;
 1910              		.loc 1 932 41 is_stmt 0 view .LVU531
 1911 00dc A362     		str	r3, [r4, #40]
 933:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     hdma_i2sRx.Init.PeriphBurst         = DMA_MBURST_SINGLE; 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 56


 1912              		.loc 1 933 5 is_stmt 1 view .LVU532
 934:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1913              		.loc 1 934 5 view .LVU533
 936:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1914              		.loc 1 936 5 view .LVU534
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1915              		.loc 1 939 5 view .LVU535
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1916              		.loc 1 939 5 view .LVU536
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1917              		.loc 1 939 5 view .LVU537
 939:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1918              		.loc 1 939 5 view .LVU538
 942:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     
 1919              		.loc 1 942 5 view .LVU539
 1920 00de FFF7FEFF 		bl	HAL_DMA_DeInit
 1921              	.LVL118:
 945:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 1922              		.loc 1 945 5 view .LVU540
 1923 00e2 2046     		mov	r0, r4
 1924 00e4 FFF7FEFF 		bl	HAL_DMA_Init
 1925              	.LVL119:
 1926 00e8 D1E7     		b	.L133
 1927              	.L137:
 1928 00ea 00BF     		.align	2
 1929              	.L136:
 1930 00ec 00380240 		.word	1073887232
 1931 00f0 00040240 		.word	1073873920
 1932 00f4 00080240 		.word	1073874944
 1933 00f8 00380040 		.word	1073756160
 1934 00fc 00000000 		.word	.LANCHOR9
 1935              		.cfi_endproc
 1936              	.LFE159:
 1938              		.section	.text.BSP_AUDIO_IN_Init,"ax",%progbits
 1939              		.align	1
 1940              		.p2align 2,,3
 1941              		.global	BSP_AUDIO_IN_Init
 1942              		.syntax unified
 1943              		.thumb
 1944              		.thumb_func
 1946              	BSP_AUDIO_IN_Init:
 1947              	.LVL120:
 1948              	.LFB149:
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1949              		.loc 1 695 1 view -0
 1950              		.cfi_startproc
 1951              		@ args = 0, pretend = 0, frame = 16
 1952              		@ frame_needed = 0, uses_anonymous_args = 0
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1953              		.loc 1 698 3 view .LVU542
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1954              		.loc 1 695 1 is_stmt 0 view .LVU543
 1955 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1956              		.cfi_def_cfa_offset 36
 1957              		.cfi_offset 4, -36
 1958              		.cfi_offset 5, -32
 1959              		.cfi_offset 6, -28
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 57


 1960              		.cfi_offset 7, -24
 1961              		.cfi_offset 8, -20
 1962              		.cfi_offset 9, -16
 1963              		.cfi_offset 10, -12
 1964              		.cfi_offset 11, -8
 1965              		.cfi_offset 14, -4
 1966 0004 0646     		mov	r6, r0
 1967 0006 85B0     		sub	sp, sp, #20
 1968              		.cfi_def_cfa_offset 56
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1969              		.loc 1 698 3 view .LVU544
 1970 0008 3146     		mov	r1, r6
 1971              	.LVL121:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1972              		.loc 1 698 3 view .LVU545
 1973 000a 3348     		ldr	r0, .L147
 1974              	.LVL122:
 695:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1975              		.loc 1 695 1 view .LVU546
 1976 000c 1746     		mov	r7, r2
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1977              		.loc 1 698 3 view .LVU547
 1978 000e 0022     		movs	r2, #0
 1979              	.LVL123:
 698:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 1980              		.loc 1 698 3 view .LVU548
 1981 0010 FFF7FEFF 		bl	BSP_AUDIO_IN_ClockConfig
 1982              	.LVL124:
 703:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 1983              		.loc 1 703 3 is_stmt 1 view .LVU549
 1984              	.LBB40:
 1985              	.LBI40:
 952:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 953:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 954:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  DeInitializes BSP_AUDIO_IN MSP.
 955:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
 956:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  Params : pointer on additional configuration parameters, can be NULL.
 957:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 958:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_MspDeInit(I2S_HandleTypeDef *hi2s, void *Params)
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 961:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 962:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S DMA IRQ Channel deactivation */
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_NVIC_DisableIRQ(I2S2_DMAx_IRQ); 
 964:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 966:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 967:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Deinitialize the Stream for new transfer */
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     HAL_DMA_DeInit(hi2s->hdmarx);
 969:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 970:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 971:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****  /* Disable I2S block */
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(hi2s);
 973:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 974:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable pins: SCK and SD pins */
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_SCK_PIN;
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 58


 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 979:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 980:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S clock */
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   I2S2_CLK_DISABLE();
 982:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 983:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* GPIO pins clock and DMA clock can be shut down in the applic 
 984:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      by surcgarging this __weak function */ 
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 986:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 987:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 988:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  User callback when record buffer is filled.
 989:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
 990:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_TransferComplete_CallBack(void)
 991:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 992:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
 993:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
 994:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
 995:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 996:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 997:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
 998:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Manages the DMA Half Transfer complete event.
 999:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1000:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_HalfTransfer_CallBack(void)
1001:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1002:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function should be implemented by the user application.
1003:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      It is called into this driver when the current buffer is filled
1004:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      to prepare the next buffer pointer and its size. */
1005:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1006:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1007:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1008:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Audio IN Error callback function.
1009:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1010:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** __weak void BSP_AUDIO_IN_Error_Callback(void)
1011:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {   
1012:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* This function is called when an Interrupt due to transfer error on or peripheral
1013:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      error occurs. */
1014:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1015:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1016:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /*******************************************************************************
1017:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****                             Static Functions
1018:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** *******************************************************************************/
1019:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1020:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1021:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the PDM library.
1022:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio sampling frequency
1023:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrIn: Number of input audio channels in the PDM buffer
1024:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  ChnlNbrOut: Number of desired output audio channels in the  resulting PCM buffer
1025:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Number of audio channels (1: mono; 2: stereo)
1026:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1027:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static void PDMDecoder_Init(uint32_t AudioFreq, uint32_t ChnlNbrIn, uint32_t ChnlNbrOut)
 1986              		.loc 1 1027 13 view .LVU550
 1987              	.LBB41:
1028:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1029:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   uint32_t index = 0;
 1988              		.loc 1 1029 3 view .LVU551
1030:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 59


1031:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Enable CRC peripheral to unlock the PDM library */
1032:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_RCC_CRC_CLK_ENABLE();
 1989              		.loc 1 1032 3 view .LVU552
 1990              	.LBB42:
 1991              		.loc 1 1032 3 view .LVU553
 1992 0014 314A     		ldr	r2, .L147+4
 1993 0016 0023     		movs	r3, #0
 1994 0018 0393     		str	r3, [sp, #12]
 1995              		.loc 1 1032 3 view .LVU554
 1996 001a 116B     		ldr	r1, [r2, #48]
 1997 001c 41F48051 		orr	r1, r1, #4096
 1998 0020 1163     		str	r1, [r2, #48]
 1999              		.loc 1 1032 3 view .LVU555
 2000 0022 126B     		ldr	r2, [r2, #48]
 2001 0024 02F48052 		and	r2, r2, #4096
 2002 0028 0392     		str	r2, [sp, #12]
 2003              		.loc 1 1032 3 view .LVU556
 2004 002a 039A     		ldr	r2, [sp, #12]
 2005              	.LBE42:
 2006              		.loc 1 1032 3 view .LVU557
1033:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   for(index = 0; index < ChnlNbrIn; index++)
 2007              		.loc 1 1034 3 view .LVU558
 2008              		.loc 1 1034 24 view .LVU559
 2009 002c 6FB3     		cbz	r7, .L143
1035:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1036:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* Init PDM filters */
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].bit_order  = PDM_FILTER_BIT_ORDER_LSB;
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
1043:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1044:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     /* PDM lib config phase */
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].output_samples_number = AudioFreq/1000;
 2010              		.loc 1 1045 62 is_stmt 0 view .LVU560
 2011 002e 2C4A     		ldr	r2, .L147+8
 2012 0030 2C4C     		ldr	r4, .L147+12
 2013 0032 2D4D     		ldr	r5, .L147+16
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2014              		.loc 1 1034 13 view .LVU561
 2015 0034 9B46     		mov	fp, r3
 2016              		.loc 1 1045 62 view .LVU562
 2017 0036 A2FB0628 		umull	r2, r8, r2, r6
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2018              		.loc 1 1041 47 view .LVU563
 2019 003a BBB2     		uxth	r3, r7
 2020              		.loc 1 1045 51 view .LVU564
 2021 003c C8F38F18 		ubfx	r8, r8, #6, #16
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2022              		.loc 1 1041 47 view .LVU565
 2023 0040 0193     		str	r3, [sp, #4]
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 2024              		.loc 1 1037 41 view .LVU566
 2025 0042 DA46     		mov	r10, fp
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 60


 2026              		.loc 1 1040 47 view .LVU567
 2027 0044 4FF00209 		mov	r9, #2
 2028              	.LVL125:
 2029              	.L142:
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 2030              		.loc 1 1037 5 is_stmt 1 view .LVU568
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 2031              		.loc 1 1039 44 is_stmt 0 view .LVU569
 2032 0048 284B     		ldr	r3, .L147+20
 2033 004a 6360     		str	r3, [r4, #4]
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2034              		.loc 1 1041 47 view .LVU570
 2035 004c 019B     		ldr	r3, [sp, #4]
 2036 004e 2381     		strh	r3, [r4, #8]	@ movhi
1037:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].endianness = PDM_FILTER_ENDIANNESS_LE;
 2037              		.loc 1 1037 41 view .LVU571
 2038 0050 A4F800A0 		strh	r10, [r4]	@ movhi
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
 2039              		.loc 1 1038 5 is_stmt 1 view .LVU572
1038:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].high_pass_tap = 2122358088;
 2040              		.loc 1 1038 41 is_stmt 0 view .LVU573
 2041 0054 A4F802A0 		strh	r10, [r4, #2]	@ movhi
1039:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].out_ptr_channels = ChnlNbrOut;
 2042              		.loc 1 1039 5 is_stmt 1 view .LVU574
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 2043              		.loc 1 1040 5 view .LVU575
1040:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterHandler[index].in_ptr_channels  = ChnlNbrIn;
 2044              		.loc 1 1040 47 is_stmt 0 view .LVU576
 2045 0058 A4F80A90 		strh	r9, [r4, #10]	@ movhi
1041:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_Init((PDM_Filter_Handler_t *)(&PDM_FilterHandler[index]));
 2046              		.loc 1 1041 5 is_stmt 1 view .LVU577
1042:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2047              		.loc 1 1042 5 view .LVU578
 2048 005c 2046     		mov	r0, r4
 2049 005e FFF7FEFF 		bl	PDM_Filter_Init
 2050              	.LVL126:
 2051              		.loc 1 1045 5 view .LVU579
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 2052              		.loc 1 1046 38 is_stmt 0 view .LVU580
 2053 0062 4FF0180C 		mov	ip, #24
1045:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].mic_gain = 24;
 2054              		.loc 1 1045 51 view .LVU581
 2055 0066 A5F80280 		strh	r8, [r5, #2]	@ movhi
 2056              		.loc 1 1046 5 is_stmt 1 view .LVU582
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 2057              		.loc 1 1047 47 is_stmt 0 view .LVU583
 2058 006a A5F80090 		strh	r9, [r5]	@ movhi
1048:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_Filter_setConfig((PDM_Filter_Handler_t *)&PDM_FilterHandler[index], &PDM_FilterConfig[index
 2059              		.loc 1 1048 5 view .LVU584
 2060 006e 2946     		mov	r1, r5
 2061 0070 2046     		mov	r0, r4
1046:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 2062              		.loc 1 1046 38 view .LVU585
 2063 0072 A5F804C0 		strh	ip, [r5, #4]	@ movhi
1047:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     PDM_FilterConfig[index].decimation_factor = PDM_FILTER_DEC_FACTOR_64;
 2064              		.loc 1 1047 5 is_stmt 1 view .LVU586
 2065              		.loc 1 1048 5 view .LVU587
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 61


1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2066              		.loc 1 1034 42 is_stmt 0 view .LVU588
 2067 0076 0BF1010B 		add	fp, fp, #1
 2068              	.LVL127:
 2069              		.loc 1 1048 5 view .LVU589
 2070 007a FFF7FEFF 		bl	PDM_Filter_setConfig
 2071              	.LVL128:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2072              		.loc 1 1034 42 is_stmt 1 view .LVU590
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2073              		.loc 1 1034 24 view .LVU591
 2074 007e 5F45     		cmp	r7, fp
 2075 0080 04F14C04 		add	r4, r4, #76
 2076 0084 05F10605 		add	r5, r5, #6
 2077 0088 DED1     		bne	.L142
 2078              	.LVL129:
 2079              	.L143:
1034:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2080              		.loc 1 1034 24 is_stmt 0 view .LVU592
 2081              	.LBE41:
 2082              	.LBE40:
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2083              		.loc 1 706 3 is_stmt 1 view .LVU593
 706:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_GetState(&hAudioInI2s) == HAL_I2S_STATE_RESET)
 2084              		.loc 1 706 24 is_stmt 0 view .LVU594
 2085 008a 134C     		ldr	r4, .L147
 2086 008c 184B     		ldr	r3, .L147+24
 2087 008e 2360     		str	r3, [r4]
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2088              		.loc 1 707 3 is_stmt 1 view .LVU595
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2089              		.loc 1 707 6 is_stmt 0 view .LVU596
 2090 0090 2046     		mov	r0, r4
 2091 0092 FFF7FEFF 		bl	HAL_I2S_GetState
 2092              	.LVL130:
 707:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   { 
 2093              		.loc 1 707 5 view .LVU597
 2094 0096 C8B1     		cbz	r0, .L146
 2095              	.L141:
 714:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2096              		.loc 1 714 3 is_stmt 1 view .LVU598
 2097              	.LVL131:
 2098              	.LBB43:
 2099              	.LBI43:
1049:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1050:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
1051:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1052:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1053:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  Initializes the Audio Codec audio interface (I2S)
1054:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @note   This function assumes that the I2S input clock (through PLL_R in 
1055:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         Devices RevA/Z and through dedicated PLLI2S_R in Devices RevB/Y)
1056:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   *         is already configured and ready to be used.    
1057:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  AudioFreq: Audio frequency to be configured for the I2S peripheral. 
1058:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1059:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** static uint8_t I2S2_Init(uint32_t AudioFreq)
 2100              		.loc 1 1059 16 view .LVU599
 2101              	.LBB44:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 62


1060:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
1061:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the hAudioInI2s Instance parameter */
1062:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Instance          = I2S2;
 2102              		.loc 1 1062 3 view .LVU600
 2103              		.loc 1 1062 33 is_stmt 0 view .LVU601
 2104 0098 154B     		ldr	r3, .L147+24
 2105 009a 2360     		str	r3, [r4]
1063:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1064:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Disable I2S block */
1065:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   __HAL_I2S_DISABLE(&hAudioInI2s);
 2106              		.loc 1 1065 3 is_stmt 1 view .LVU602
 2107 009c DA69     		ldr	r2, [r3, #28]
1066:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1067:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* I2S2 peripheral configuration */
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.AudioFreq    = 2 * AudioFreq;
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
1071:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
1072:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.MCLKOutput   = I2S_MCLKOUTPUT_DISABLE;
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Mode         = I2S_MODE_MASTER_RX;
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
1075:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1076:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Initialize the I2S peripheral with the structure above */  
1077:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(HAL_I2S_Init(&hAudioInI2s) != HAL_OK)
 2108              		.loc 1 1077 6 is_stmt 0 view .LVU603
 2109 009e 0E48     		ldr	r0, .L147
1065:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2110              		.loc 1 1065 3 view .LVU604
 2111 00a0 22F48062 		bic	r2, r2, #1024
 2112 00a4 DA61     		str	r2, [r3, #28]
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2113              		.loc 1 1068 3 is_stmt 1 view .LVU605
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 2114              		.loc 1 1073 33 is_stmt 0 view .LVU606
 2115 00a6 4FF44073 		mov	r3, #768
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
 2116              		.loc 1 1069 33 view .LVU607
 2117 00aa 0025     		movs	r5, #0
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
 2118              		.loc 1 1070 33 view .LVU608
 2119 00ac 0822     		movs	r2, #8
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 2120              		.loc 1 1073 33 view .LVU609
 2121 00ae 6360     		str	r3, [r4, #4]
1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2122              		.loc 1 1068 37 view .LVU610
 2123 00b0 7600     		lsls	r6, r6, #1
 2124              	.LVL132:
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2125              		.loc 1 1074 33 view .LVU611
 2126 00b2 2023     		movs	r3, #32
1070:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.DataFormat   = I2S_DATAFORMAT_16B;
 2127              		.loc 1 1070 33 view .LVU612
 2128 00b4 C4E90625 		strd	r2, r5, [r4, #24]
1072:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Mode         = I2S_MODE_MASTER_RX;
 2129              		.loc 1 1072 33 view .LVU613
 2130 00b8 C4E90355 		strd	r5, r5, [r4, #12]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 63


1068:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.ClockSource  = I2S_CLOCK_PLL;
 2131              		.loc 1 1068 33 view .LVU614
 2132 00bc 6661     		str	r6, [r4, #20]
1069:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.CPOL         = I2S_CPOL_HIGH;
 2133              		.loc 1 1069 3 is_stmt 1 view .LVU615
1071:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.MCLKOutput   = I2S_MCLKOUTPUT_DISABLE;
 2134              		.loc 1 1071 3 view .LVU616
1073:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   hAudioInI2s.Init.Standard     = I2S_STANDARD_LSB;
 2135              		.loc 1 1073 3 view .LVU617
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2136              		.loc 1 1074 3 view .LVU618
1074:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2137              		.loc 1 1074 33 is_stmt 0 view .LVU619
 2138 00be A360     		str	r3, [r4, #8]
 2139              		.loc 1 1077 3 is_stmt 1 view .LVU620
 2140              		.loc 1 1077 6 is_stmt 0 view .LVU621
 2141 00c0 FFF7FEFF 		bl	HAL_I2S_Init
 2142              	.LVL133:
 2143              		.loc 1 1077 6 view .LVU622
 2144              	.LBE44:
 2145              	.LBE43:
 717:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2146              		.loc 1 717 3 is_stmt 1 view .LVU623
 718:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2147              		.loc 1 718 1 is_stmt 0 view .LVU624
 2148 00c4 2846     		mov	r0, r5
 2149 00c6 05B0     		add	sp, sp, #20
 2150              		.cfi_remember_state
 2151              		.cfi_def_cfa_offset 36
 2152              		@ sp needed
 2153 00c8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2154              	.LVL134:
 2155              	.L146:
 2156              		.cfi_restore_state
 710:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2157              		.loc 1 710 5 is_stmt 1 view .LVU625
 2158 00cc 0146     		mov	r1, r0
 2159 00ce 2046     		mov	r0, r4
 2160 00d0 FFF7FEFF 		bl	BSP_AUDIO_IN_MspInit
 2161              	.LVL135:
 2162 00d4 E0E7     		b	.L141
 2163              	.L148:
 2164 00d6 00BF     		.align	2
 2165              	.L147:
 2166 00d8 00000000 		.word	.LANCHOR6
 2167 00dc 00380240 		.word	1073887232
 2168 00e0 D34D6210 		.word	274877907
 2169 00e4 00000000 		.word	.LANCHOR8
 2170 00e8 00000000 		.word	.LANCHOR10
 2171 00ec 489D807E 		.word	2122358088
 2172 00f0 00380040 		.word	1073756160
 2173              		.cfi_endproc
 2174              	.LFE149:
 2176              		.section	.text.BSP_AUDIO_IN_MspDeInit,"ax",%progbits
 2177              		.align	1
 2178              		.p2align 2,,3
 2179              		.weak	BSP_AUDIO_IN_MspDeInit
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 64


 2180              		.syntax unified
 2181              		.thumb
 2182              		.thumb_func
 2184              	BSP_AUDIO_IN_MspDeInit:
 2185              	.LVL136:
 2186              	.LFB160:
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2187              		.loc 1 959 1 view -0
 2188              		.cfi_startproc
 2189              		@ args = 0, pretend = 0, frame = 0
 2190              		@ frame_needed = 0, uses_anonymous_args = 0
 960:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2191              		.loc 1 960 3 view .LVU627
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2192              		.loc 1 963 3 view .LVU628
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2193              		.loc 1 959 1 is_stmt 0 view .LVU629
 2194 0000 10B5     		push	{r4, lr}
 2195              		.cfi_def_cfa_offset 8
 2196              		.cfi_offset 4, -8
 2197              		.cfi_offset 14, -4
 959:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   GPIO_InitTypeDef  gpio_init_structure;
 2198              		.loc 1 959 1 view .LVU630
 2199 0002 0446     		mov	r4, r0
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2200              		.loc 1 963 3 view .LVU631
 2201 0004 0E20     		movs	r0, #14
 2202              	.LVL137:
 963:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
 2203              		.loc 1 963 3 view .LVU632
 2204 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 2205              	.LVL138:
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2206              		.loc 1 965 3 is_stmt 1 view .LVU633
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2207              		.loc 1 965 10 is_stmt 0 view .LVU634
 2208 000a 2368     		ldr	r3, [r4]
 965:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2209              		.loc 1 965 5 view .LVU635
 2210 000c 0D4A     		ldr	r2, .L153
 2211 000e 9342     		cmp	r3, r2
 2212 0010 12D0     		beq	.L152
 2213              	.L150:
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2214              		.loc 1 972 3 is_stmt 1 view .LVU636
 2215 0012 DA69     		ldr	r2, [r3, #28]
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
 2216              		.loc 1 976 3 is_stmt 0 view .LVU637
 2217 0014 0C48     		ldr	r0, .L153+4
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2218              		.loc 1 972 3 view .LVU638
 2219 0016 22F48062 		bic	r2, r2, #1024
 2220 001a DA61     		str	r2, [r3, #28]
 975:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_SCK_GPIO_PORT, gpio_init_structure.Pin);
 2221              		.loc 1 975 3 is_stmt 1 view .LVU639
 2222              	.LVL139:
 976:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   gpio_init_structure.Pin = I2S2_MOSI_PIN;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 65


 2223              		.loc 1 976 3 view .LVU640
 2224 001c 4FF48061 		mov	r1, #1024
 2225 0020 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2226              	.LVL140:
 977:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   HAL_GPIO_DeInit(I2S2_MOSI_GPIO_PORT, gpio_init_structure.Pin); 
 2227              		.loc 1 977 3 view .LVU641
 978:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2228              		.loc 1 978 3 view .LVU642
 2229 0024 0948     		ldr	r0, .L153+8
 2230 0026 0821     		movs	r1, #8
 2231 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 2232              	.LVL141:
 981:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2233              		.loc 1 981 3 view .LVU643
 2234 002c 084A     		ldr	r2, .L153+12
 2235 002e 136C     		ldr	r3, [r2, #64]
 2236 0030 23F48043 		bic	r3, r3, #16384
 2237 0034 1364     		str	r3, [r2, #64]
 985:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2238              		.loc 1 985 1 is_stmt 0 view .LVU644
 2239 0036 10BD     		pop	{r4, pc}
 2240              	.LVL142:
 2241              	.L152:
 968:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2242              		.loc 1 968 5 is_stmt 1 view .LVU645
 2243 0038 E06B     		ldr	r0, [r4, #60]
 2244 003a FFF7FEFF 		bl	HAL_DMA_DeInit
 2245              	.LVL143:
 972:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2246              		.loc 1 972 3 is_stmt 0 view .LVU646
 2247 003e 2368     		ldr	r3, [r4]
 2248 0040 E7E7     		b	.L150
 2249              	.L154:
 2250 0042 00BF     		.align	2
 2251              	.L153:
 2252 0044 00380040 		.word	1073756160
 2253 0048 00040240 		.word	1073873920
 2254 004c 00080240 		.word	1073874944
 2255 0050 00380240 		.word	1073887232
 2256              		.cfi_endproc
 2257              	.LFE160:
 2259              		.section	.text.BSP_AUDIO_IN_TransferComplete_CallBack,"ax",%progbits
 2260              		.align	1
 2261              		.p2align 2,,3
 2262              		.weak	BSP_AUDIO_IN_TransferComplete_CallBack
 2263              		.syntax unified
 2264              		.thumb
 2265              		.thumb_func
 2267              	BSP_AUDIO_IN_TransferComplete_CallBack:
 2268              	.LFB172:
 2269              		.cfi_startproc
 2270              		@ args = 0, pretend = 0, frame = 0
 2271              		@ frame_needed = 0, uses_anonymous_args = 0
 2272              		@ link register save eliminated.
 2273 0000 7047     		bx	lr
 2274              		.cfi_endproc
 2275              	.LFE172:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 66


 2277 0002 00BF     		.section	.text.HAL_I2S_RxCpltCallback,"ax",%progbits
 2278              		.align	1
 2279              		.p2align 2,,3
 2280              		.global	HAL_I2S_RxCpltCallback
 2281              		.syntax unified
 2282              		.thumb
 2283              		.thumb_func
 2285              	HAL_I2S_RxCpltCallback:
 2286              	.LVL144:
 2287              	.LFB156:
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2288              		.loc 1 834 1 is_stmt 1 view -0
 2289              		.cfi_startproc
 2290              		@ args = 0, pretend = 0, frame = 0
 2291              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2292              		.loc 1 836 3 view .LVU648
 834:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Call the record update function to get the next buffer to fill and its size (size is ignored) 
 2293              		.loc 1 834 1 is_stmt 0 view .LVU649
 2294 0000 08B5     		push	{r3, lr}
 2295              		.cfi_def_cfa_offset 8
 2296              		.cfi_offset 3, -8
 2297              		.cfi_offset 14, -4
 836:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2298              		.loc 1 836 3 view .LVU650
 2299 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_TransferComplete_CallBack
 2300              	.LVL145:
 837:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2301              		.loc 1 837 1 view .LVU651
 2302 0006 08BD     		pop	{r3, pc}
 2303              		.cfi_endproc
 2304              	.LFE156:
 2306              		.section	.text.BSP_AUDIO_IN_HalfTransfer_CallBack,"ax",%progbits
 2307              		.align	1
 2308              		.p2align 2,,3
 2309              		.weak	BSP_AUDIO_IN_HalfTransfer_CallBack
 2310              		.syntax unified
 2311              		.thumb
 2312              		.thumb_func
 2314              	BSP_AUDIO_IN_HalfTransfer_CallBack:
 2315              	.LFB174:
 2316              		.cfi_startproc
 2317              		@ args = 0, pretend = 0, frame = 0
 2318              		@ frame_needed = 0, uses_anonymous_args = 0
 2319              		@ link register save eliminated.
 2320 0000 7047     		bx	lr
 2321              		.cfi_endproc
 2322              	.LFE174:
 2324 0002 00BF     		.section	.text.HAL_I2S_RxHalfCpltCallback,"ax",%progbits
 2325              		.align	1
 2326              		.p2align 2,,3
 2327              		.global	HAL_I2S_RxHalfCpltCallback
 2328              		.syntax unified
 2329              		.thumb
 2330              		.thumb_func
 2332              	HAL_I2S_RxHalfCpltCallback:
 2333              	.LVL146:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 67


 2334              	.LFB157:
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2335              		.loc 1 844 1 is_stmt 1 view -0
 2336              		.cfi_startproc
 2337              		@ args = 0, pretend = 0, frame = 0
 2338              		@ frame_needed = 0, uses_anonymous_args = 0
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2339              		.loc 1 847 3 view .LVU653
 844:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the remaining file size and new address offset: This function 
 2340              		.loc 1 844 1 is_stmt 0 view .LVU654
 2341 0000 08B5     		push	{r3, lr}
 2342              		.cfi_def_cfa_offset 8
 2343              		.cfi_offset 3, -8
 2344              		.cfi_offset 14, -4
 847:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2345              		.loc 1 847 3 view .LVU655
 2346 0002 FFF7FEFF 		bl	BSP_AUDIO_IN_HalfTransfer_CallBack
 2347              	.LVL147:
 848:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
 2348              		.loc 1 848 1 view .LVU656
 2349 0006 08BD     		pop	{r3, pc}
 2350              		.cfi_endproc
 2351              	.LFE157:
 2353              		.section	.text.BSP_AUDIO_IN_Error_Callback,"ax",%progbits
 2354              		.align	1
 2355              		.p2align 2,,3
 2356              		.weak	BSP_AUDIO_IN_Error_Callback
 2357              		.syntax unified
 2358              		.thumb
 2359              		.thumb_func
 2361              	BSP_AUDIO_IN_Error_Callback:
 2362              	.LFB176:
 2363              		.cfi_startproc
 2364              		@ args = 0, pretend = 0, frame = 0
 2365              		@ frame_needed = 0, uses_anonymous_args = 0
 2366              		@ link register save eliminated.
 2367 0000 7047     		bx	lr
 2368              		.cfi_endproc
 2369              	.LFE176:
 2371 0002 00BF     		.section	.text.HAL_I2S_ErrorCallback,"ax",%progbits
 2372              		.align	1
 2373              		.p2align 2,,3
 2374              		.global	HAL_I2S_ErrorCallback
 2375              		.syntax unified
 2376              		.thumb
 2377              		.thumb_func
 2379              	HAL_I2S_ErrorCallback:
 2380              	.LVL148:
 2381              	.LFB166:
1078:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1079:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_ERROR;
1080:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1081:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   else
1082:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1083:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     return AUDIO_OK; 
1084:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1085:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }  
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 68


1086:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1087:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1088:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @}
1089:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1090:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** 
1091:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /** @defgroup STM32F4_DISCOVERY_AUDIO_IN_OUT_Private_Functions STM32F4 DISCOVERY AUDIO IN OUT Priva
1092:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @{
1093:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */ 
1094:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   
1095:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** /**
1096:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @brief  I2S error callbacks.
1097:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   * @param  hi2s: I2S handle
1098:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   */
1099:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** void HAL_I2S_ErrorCallback(I2S_HandleTypeDef *hi2s)
1100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** {
 2382              		.loc 1 1100 1 is_stmt 1 view -0
 2383              		.cfi_startproc
 2384              		@ args = 0, pretend = 0, frame = 0
 2385              		@ frame_needed = 0, uses_anonymous_args = 0
1101:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the error generated on DMA FIFO: This function 
1102:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****      should be coded by user (its prototype is already declared in stm32f4_discovery_audio.h) */  
1103:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S3)
 2386              		.loc 1 1103 3 view .LVU658
 2387              		.loc 1 1103 5 is_stmt 0 view .LVU659
 2388 0000 084A     		ldr	r2, .L168
 2389              		.loc 1 1103 10 view .LVU660
 2390 0002 0368     		ldr	r3, [r0]
 2391              		.loc 1 1103 5 view .LVU661
 2392 0004 9342     		cmp	r3, r2
1100:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   /* Manage the error generated on DMA FIFO: This function 
 2393              		.loc 1 1100 1 view .LVU662
 2394 0006 10B5     		push	{r4, lr}
 2395              		.cfi_def_cfa_offset 8
 2396              		.cfi_offset 4, -8
 2397              		.cfi_offset 14, -4
 2398              		.loc 1 1103 5 view .LVU663
 2399 0008 06D0     		beq	.L166
 2400              	.LVL149:
 2401              	.L163:
1104:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_OUT_Error_CallBack();
1106:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   if(hi2s->Instance == I2S2)
 2402              		.loc 1 1107 3 is_stmt 1 view .LVU664
 2403              		.loc 1 1107 5 is_stmt 0 view .LVU665
 2404 000a 074A     		ldr	r2, .L168+4
 2405 000c 9342     		cmp	r3, r2
 2406 000e 00D0     		beq	.L167
1108:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****     BSP_AUDIO_IN_Error_Callback();
1110:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
1111:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c **** }
 2407              		.loc 1 1111 1 view .LVU666
 2408 0010 10BD     		pop	{r4, pc}
 2409              	.L167:
1109:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2410              		.loc 1 1109 5 is_stmt 1 view .LVU667
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 69


 2411 0012 FFF7FEFF 		bl	BSP_AUDIO_IN_Error_Callback
 2412              	.LVL150:
 2413              		.loc 1 1111 1 is_stmt 0 view .LVU668
 2414 0016 10BD     		pop	{r4, pc}
 2415              	.LVL151:
 2416              	.L166:
 2417              		.loc 1 1111 1 view .LVU669
 2418 0018 0446     		mov	r4, r0
1105:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   }
 2419              		.loc 1 1105 5 is_stmt 1 view .LVU670
 2420 001a FFF7FEFF 		bl	BSP_AUDIO_OUT_Error_CallBack
 2421              	.LVL152:
1107:Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.c ****   {
 2422              		.loc 1 1107 10 is_stmt 0 view .LVU671
 2423 001e 2368     		ldr	r3, [r4]
 2424 0020 F3E7     		b	.L163
 2425              	.L169:
 2426 0022 00BF     		.align	2
 2427              	.L168:
 2428 0024 003C0040 		.word	1073757184
 2429 0028 00380040 		.word	1073756160
 2430              		.cfi_endproc
 2431              	.LFE166:
 2433              		.global	AudioInVolume
 2434              		.global	PDM_FilterConfig
 2435              		.global	PDM_FilterHandler
 2436              		.global	hAudioInI2s
 2437              		.global	hAudioOutI2s
 2438              		.global	I2SPLLR
 2439              		.global	I2SPLLN
 2440              		.global	I2SFreq
 2441              		.section	.bss.PDM_FilterConfig,"aw",%nobits
 2442              		.align	2
 2443              		.set	.LANCHOR10,. + 0
 2446              	PDM_FilterConfig:
 2447 0000 00000000 		.space	12
 2447      00000000 
 2447      00000000 
 2448              		.section	.bss.PDM_FilterHandler,"aw",%nobits
 2449              		.align	2
 2450              		.set	.LANCHOR8,. + 0
 2453              	PDM_FilterHandler:
 2454 0000 00000000 		.space	152
 2454      00000000 
 2454      00000000 
 2454      00000000 
 2454      00000000 
 2455              		.section	.bss.hAudioInI2s,"aw",%nobits
 2456              		.align	2
 2457              		.set	.LANCHOR6,. + 0
 2460              	hAudioInI2s:
 2461 0000 00000000 		.space	72
 2461      00000000 
 2461      00000000 
 2461      00000000 
 2461      00000000 
 2462              		.section	.bss.hAudioOutI2s,"aw",%nobits
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 70


 2463              		.align	2
 2464              		.set	.LANCHOR1,. + 0
 2467              	hAudioOutI2s:
 2468 0000 00000000 		.space	72
 2468      00000000 
 2468      00000000 
 2468      00000000 
 2468      00000000 
 2469              		.section	.bss.hdma_i2sRx.0,"aw",%nobits
 2470              		.align	2
 2471              		.set	.LANCHOR9,. + 0
 2474              	hdma_i2sRx.0:
 2475 0000 00000000 		.space	96
 2475      00000000 
 2475      00000000 
 2475      00000000 
 2475      00000000 
 2476              		.section	.bss.hdma_i2sTx.1,"aw",%nobits
 2477              		.align	2
 2478              		.set	.LANCHOR5,. + 0
 2481              	hdma_i2sTx.1:
 2482 0000 00000000 		.space	96
 2482      00000000 
 2482      00000000 
 2482      00000000 
 2482      00000000 
 2483              		.section	.bss.pAudioDrv,"aw",%nobits
 2484              		.align	2
 2485              		.set	.LANCHOR0,. + 0
 2488              	pAudioDrv:
 2489 0000 00000000 		.space	4
 2490              		.section	.data.AudioInVolume,"aw"
 2491              		.align	1
 2492              		.set	.LANCHOR7,. + 0
 2495              	AudioInVolume:
 2496 0000 4000     		.short	64
 2497              		.section	.rodata.I2SFreq,"a"
 2498              		.align	2
 2499              		.set	.LANCHOR2,. + 0
 2502              	I2SFreq:
 2503 0000 401F0000 		.word	8000
 2504 0004 112B0000 		.word	11025
 2505 0008 803E0000 		.word	16000
 2506 000c 22560000 		.word	22050
 2507 0010 007D0000 		.word	32000
 2508 0014 44AC0000 		.word	44100
 2509 0018 80BB0000 		.word	48000
 2510 001c 00770100 		.word	96000
 2511              		.section	.rodata.I2SPLLN,"a"
 2512              		.align	2
 2513              		.set	.LANCHOR3,. + 0
 2516              	I2SPLLN:
 2517 0000 00010000 		.word	256
 2518 0004 AD010000 		.word	429
 2519 0008 D5000000 		.word	213
 2520 000c AD010000 		.word	429
 2521 0010 AA010000 		.word	426
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 71


 2522 0014 0F010000 		.word	271
 2523 0018 02010000 		.word	258
 2524 001c 58010000 		.word	344
 2525              		.section	.rodata.I2SPLLR,"a"
 2526              		.align	2
 2527              		.set	.LANCHOR4,. + 0
 2530              	I2SPLLR:
 2531 0000 05000000 		.word	5
 2532 0004 04000000 		.word	4
 2533 0008 04000000 		.word	4
 2534 000c 04000000 		.word	4
 2535 0010 04000000 		.word	4
 2536 0014 06000000 		.word	6
 2537 0018 03000000 		.word	3
 2538 001c 01000000 		.word	1
 2539              		.text
 2540              	.Letext0:
 2541              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2542              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2543              		.file 4 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/../Common/audio.h"
 2544              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2545              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2546              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc_ex.h"
 2547              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 2548              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2549              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2s.h"
 2550              		.file 11 "Drivers/BSP/STM32F4-Discovery/../../../Middlewares/ST/STM32_Audio/Addons/PDM/Inc/pdm2pcm
 2551              		.file 12 "Drivers/BSP/STM32F4-Discovery/../Components/cs43l22/cs43l22.h"
 2552              		.file 13 "Drivers/BSP/STM32F4-Discovery/stm32f4_discovery_audio.h"
 2553              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 2554              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 72


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4_discovery_audio.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:20     .text.BSP_AUDIO_OUT_Play:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:27     .text.BSP_AUDIO_OUT_Play:0000000000000000 BSP_AUDIO_OUT_Play
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:99     .text.BSP_AUDIO_OUT_Play:000000000000003c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:105    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:112    .text.BSP_AUDIO_OUT_ChangeBuffer:0000000000000000 BSP_AUDIO_OUT_ChangeBuffer
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:137    .text.BSP_AUDIO_OUT_ChangeBuffer:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:142    .text.BSP_AUDIO_OUT_Pause:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:149    .text.BSP_AUDIO_OUT_Pause:0000000000000000 BSP_AUDIO_OUT_Pause
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:189    .text.BSP_AUDIO_OUT_Pause:0000000000000020 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:195    .text.BSP_AUDIO_OUT_Resume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:202    .text.BSP_AUDIO_OUT_Resume:0000000000000000 BSP_AUDIO_OUT_Resume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:242    .text.BSP_AUDIO_OUT_Resume:0000000000000020 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:248    .text.BSP_AUDIO_OUT_Stop:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:255    .text.BSP_AUDIO_OUT_Stop:0000000000000000 BSP_AUDIO_OUT_Stop
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:325    .text.BSP_AUDIO_OUT_Stop:0000000000000038 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:332    .text.BSP_AUDIO_OUT_SetVolume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:339    .text.BSP_AUDIO_OUT_SetVolume:0000000000000000 BSP_AUDIO_OUT_SetVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:372    .text.BSP_AUDIO_OUT_SetVolume:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:377    .text.BSP_AUDIO_OUT_SetMute:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:384    .text.BSP_AUDIO_OUT_SetMute:0000000000000000 BSP_AUDIO_OUT_SetMute
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:417    .text.BSP_AUDIO_OUT_SetMute:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:422    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:429    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000000 BSP_AUDIO_OUT_SetOutputMode
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:462    .text.BSP_AUDIO_OUT_SetOutputMode:0000000000000018 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:467    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:474    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000000 BSP_AUDIO_OUT_ClockConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:573    .text.BSP_AUDIO_OUT_ClockConfig:0000000000000054 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:580    .text.BSP_AUDIO_OUT_SetFrequency:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:587    .text.BSP_AUDIO_OUT_SetFrequency:0000000000000000 BSP_AUDIO_OUT_SetFrequency
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:665    .text.BSP_AUDIO_OUT_SetFrequency:000000000000003c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:673    .text.BSP_AUDIO_OUT_MspInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:680    .text.BSP_AUDIO_OUT_MspInit:0000000000000000 BSP_AUDIO_OUT_MspInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:934    .text.BSP_AUDIO_OUT_MspInit:0000000000000108 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:944    .text.BSP_AUDIO_OUT_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:951    .text.BSP_AUDIO_OUT_Init:0000000000000000 BSP_AUDIO_OUT_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1104   .text.BSP_AUDIO_OUT_Init:000000000000008c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1112   .text.BSP_AUDIO_OUT_MspDeInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1119   .text.BSP_AUDIO_OUT_MspDeInit:0000000000000000 BSP_AUDIO_OUT_MspDeInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1193   .text.BSP_AUDIO_OUT_MspDeInit:000000000000004c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1201   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1208   .text.BSP_AUDIO_OUT_TransferComplete_CallBack:0000000000000000 BSP_AUDIO_OUT_TransferComplete_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1221   .text.HAL_I2S_TxCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1228   .text.HAL_I2S_TxCpltCallback:0000000000000000 HAL_I2S_TxCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1257   .text.HAL_I2S_TxCpltCallback:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1262   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1269   .text.BSP_AUDIO_OUT_HalfTransfer_CallBack:0000000000000000 BSP_AUDIO_OUT_HalfTransfer_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1280   .text.HAL_I2S_TxHalfCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1287   .text.HAL_I2S_TxHalfCpltCallback:0000000000000000 HAL_I2S_TxHalfCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1316   .text.HAL_I2S_TxHalfCpltCallback:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1321   .text.BSP_AUDIO_OUT_Error_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1328   .text.BSP_AUDIO_OUT_Error_CallBack:0000000000000000 BSP_AUDIO_OUT_Error_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1339   .text.BSP_AUDIO_IN_Record:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1346   .text.BSP_AUDIO_IN_Record:0000000000000000 BSP_AUDIO_IN_Record
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1380   .text.BSP_AUDIO_IN_Record:0000000000000014 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1385   .text.BSP_AUDIO_IN_Stop:0000000000000000 $t
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 73


/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1392   .text.BSP_AUDIO_IN_Stop:0000000000000000 BSP_AUDIO_IN_Stop
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1418   .text.BSP_AUDIO_IN_Stop:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1423   .text.BSP_AUDIO_IN_Pause:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1430   .text.BSP_AUDIO_IN_Pause:0000000000000000 BSP_AUDIO_IN_Pause
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1453   .text.BSP_AUDIO_IN_Pause:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1458   .text.BSP_AUDIO_IN_Resume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1465   .text.BSP_AUDIO_IN_Resume:0000000000000000 BSP_AUDIO_IN_Resume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1488   .text.BSP_AUDIO_IN_Resume:000000000000000c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1493   .text.BSP_AUDIO_IN_SetVolume:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1500   .text.BSP_AUDIO_IN_SetVolume:0000000000000000 BSP_AUDIO_IN_SetVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1521   .text.BSP_AUDIO_IN_SetVolume:0000000000000008 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1526   .text.BSP_AUDIO_IN_PDMToPCM:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1533   .text.BSP_AUDIO_IN_PDMToPCM:0000000000000000 BSP_AUDIO_IN_PDMToPCM
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1610   .text.BSP_AUDIO_IN_PDMToPCM:0000000000000040 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1615   .text.BSP_AUDIO_IN_ClockConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1622   .text.BSP_AUDIO_IN_ClockConfig:0000000000000000 BSP_AUDIO_IN_ClockConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1682   .text.BSP_AUDIO_IN_MspInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1689   .text.BSP_AUDIO_IN_MspInit:0000000000000000 BSP_AUDIO_IN_MspInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1930   .text.BSP_AUDIO_IN_MspInit:00000000000000ec $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1939   .text.BSP_AUDIO_IN_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:1946   .text.BSP_AUDIO_IN_Init:0000000000000000 BSP_AUDIO_IN_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2166   .text.BSP_AUDIO_IN_Init:00000000000000d8 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2177   .text.BSP_AUDIO_IN_MspDeInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2184   .text.BSP_AUDIO_IN_MspDeInit:0000000000000000 BSP_AUDIO_IN_MspDeInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2252   .text.BSP_AUDIO_IN_MspDeInit:0000000000000044 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2260   .text.BSP_AUDIO_IN_TransferComplete_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2267   .text.BSP_AUDIO_IN_TransferComplete_CallBack:0000000000000000 BSP_AUDIO_IN_TransferComplete_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2278   .text.HAL_I2S_RxCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2285   .text.HAL_I2S_RxCpltCallback:0000000000000000 HAL_I2S_RxCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2307   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2314   .text.BSP_AUDIO_IN_HalfTransfer_CallBack:0000000000000000 BSP_AUDIO_IN_HalfTransfer_CallBack
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2325   .text.HAL_I2S_RxHalfCpltCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2332   .text.HAL_I2S_RxHalfCpltCallback:0000000000000000 HAL_I2S_RxHalfCpltCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2354   .text.BSP_AUDIO_IN_Error_Callback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2361   .text.BSP_AUDIO_IN_Error_Callback:0000000000000000 BSP_AUDIO_IN_Error_Callback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2372   .text.HAL_I2S_ErrorCallback:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2379   .text.HAL_I2S_ErrorCallback:0000000000000000 HAL_I2S_ErrorCallback
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2428   .text.HAL_I2S_ErrorCallback:0000000000000024 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2495   .data.AudioInVolume:0000000000000000 AudioInVolume
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2446   .bss.PDM_FilterConfig:0000000000000000 PDM_FilterConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2453   .bss.PDM_FilterHandler:0000000000000000 PDM_FilterHandler
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2460   .bss.hAudioInI2s:0000000000000000 hAudioInI2s
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2467   .bss.hAudioOutI2s:0000000000000000 hAudioOutI2s
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2530   .rodata.I2SPLLR:0000000000000000 I2SPLLR
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2516   .rodata.I2SPLLN:0000000000000000 I2SPLLN
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2502   .rodata.I2SFreq:0000000000000000 I2SFreq
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2442   .bss.PDM_FilterConfig:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2449   .bss.PDM_FilterHandler:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2456   .bss.hAudioInI2s:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2463   .bss.hAudioOutI2s:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2470   .bss.hdma_i2sRx.0:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2474   .bss.hdma_i2sRx.0:0000000000000000 hdma_i2sRx.0
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2477   .bss.hdma_i2sTx.1:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2481   .bss.hdma_i2sTx.1:0000000000000000 hdma_i2sTx.1
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2484   .bss.pAudioDrv:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2488   .bss.pAudioDrv:0000000000000000 pAudioDrv
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2491   .data.AudioInVolume:0000000000000000 $d
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s 			page 74


/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2498   .rodata.I2SFreq:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2512   .rodata.I2SPLLN:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccQBvOPc.s:2526   .rodata.I2SPLLR:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2S_Transmit_DMA
HAL_I2S_DMAPause
HAL_I2S_DMAResume
HAL_I2S_DMAStop
HAL_Delay
HAL_GPIO_WritePin
HAL_RCCEx_GetPeriphCLKConfig
HAL_RCCEx_PeriphCLKConfig
HAL_I2S_Init
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_DMA_DeInit
HAL_DMA_Init
HAL_I2S_GetState
cs43l22_drv
HAL_NVIC_DisableIRQ
HAL_GPIO_DeInit
HAL_I2S_Receive_DMA
PDM_Filter
PDM_Filter_Init
PDM_Filter_setConfig
